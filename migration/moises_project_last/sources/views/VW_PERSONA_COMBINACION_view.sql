-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = moises,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_persona_combinacion (id_persona, c1, c2, c3) AS select
p.id_persona,
(upper(replace(concat(concat(p.nombre,p.paterno),p.materno),' ',''))) as c1,
upper(replace(concat(concat(regexp_substr(p.nombre ,'[^ ]+',1,1),p.paterno),p.materno),' ','')) as c2,
upper(replace(concat(concat(regexp_substr(p.nombre ,'[^ ]+',1,2),p.paterno),p.materno),' ','')) as c3 
FROM moises.persona p;

