-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = moises,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_persona_natural_docente (id_persona, paterno, materno, nombre, sexo, fec_nacimiento, nom_persona, id_tipodocumento, num_documento) AS SELECT Persona.ID_PERSONA,
       Persona.PATERNO,
       Persona.MATERNO,
       Persona.NOMBRE,
       Persona_Natural.SEXO,
       Persona_Natural.FEC_NACIMIENTO,
          UPPER (
                NVL (Persona.PATERNO || ' ', '')
             || NVL (Persona.MATERNO || ', ', ''))
       ||                                                /*dbo.fn_NomPropio(*/
         Persona.NOMBRE                                                  /*)*/
          AS NOM_PERSONA,
       Persona_Natural.ID_TIPODOCUMENTO,
       Persona_Natural.NUM_DOCUMENTO
  FROM moises.Persona
INNER JOIN moises.Persona_Natural
ON Persona.ID_PERSONA = Persona_Natural.ID_PERSONA
INNER JOIN moises.PERSONA_NATURAL_DOCENTE
ON Persona.ID_PERSONA = PERSONA_NATURAL_DOCENTE.ID_PERSONA;

