-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = eliseo,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_sede_area (id_area, id_parent, id_entidad_a, id_tipoarea, nombre, nivel, izquierda, derecha, orden, estado, codigo, nivelhijo, tipo, gth, id_sedearea, id_entidad, id_depto, id_depto_padre, id_sede, id_persona, estado_sa, codigo_sa, ccosto, es_grupo, es_activo, es_empresa, id_dependencia, id_dependencia_mi) AS select
a.ID_AREA,
a.ID_PARENT,
a.ID_ENTIDAD AS ID_ENTIDAD_A,
a.ID_TIPOAREA,
a.NOMBRE,
a.NIVEL,
a.IZQUIERDA,
a.DERECHA,
a.ORDEN,
a.ESTADO,
a.CODIGO,
a.NIVELHIJO,
a.TIPO,
a.GTH,
b.ID_SEDEAREA,
b.ID_ENTIDAD,
b.ID_DEPTO,
substr(b.ID_DEPTO,1,1) as ID_DEPTO_PADRE,
b.ID_SEDE,
b.ID_PERSONA,
b.ESTADO as ESTADO_SA,
b.CODIGO AS CODIGO_SA,
C.NOMBRE AS CCOSTO,
C.ES_GRUPO,
C.ES_ACTIVO,
C.ES_EMPRESA,
a.ID_DEPENDENCIA,
a.ID_DEPENDENCIA_MI
FROM eliseo.org_area a,
eliseo.org_sede_area b,
ELISEO.CONTA_ENTIDAD_DEPTO C
where a.id_area=b.id_area
AND b.ID_ENTIDAD=C.ID_ENTIDAD
AND b.ID_DEPTO=C.ID_DEPTO;

