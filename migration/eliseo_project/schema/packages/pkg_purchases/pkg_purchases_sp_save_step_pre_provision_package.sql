-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';
SET search_path = eliseo,pkg_purchases,public;

    -- 
CREATE OR REPLACE PROCEDURE eliseo.pkg_purchases_sp_save_step_pre_provision ( in_id_pedido bigint, in_id_moneda bigint, in_id_proveedor bigint, in_importe bigint, in_id_proceso bigint, -- in_id_pedido in numeric, -- in_id_operacion in numeric,
 in_id_persona bigint, in_ip text, out_id_pcompra out bigint, out_error out bigint, out_msgerror out text) AS $body$
DECLARE

        var_error bigint;
        var_msgerror varchar(200);
        var_id_detalle bigint;

BEGIN
            out_error := 0;
            out_msgerror := ' ';
            -- 
            CALL pkg_purchases_sp_insert_pedido_compra(
                in_id_pedido,
                in_id_moneda,
                in_id_proveedor,
                in_importe,
                out_id_pcompra,
                var_error,
                var_msgerror);
            -- 
            if var_error>0 then
                out_error := var_error; -- out_error := out_error+var_error;
                out_msgerror := var_msgerror; -- out_msgerror := out_msgerror || var_msgerror;
--                 goto end_l_save_step_pre_provision;
            end if;
            -- 
            /* pkg_purchases_sp_save_next_paso_run(
                in_id_proceso,
                in_id_pedido, -- out_id_pedido xxxx,
                in_id_persona, -- in_id_user,
                '',
                0,
                '',
                in_ip,
                '1', -- 
                var_id_detalle,
                var_error,
                var_msgerror);
            -- 
            if var_error>0 then
                out_error := out_error+var_error;
                out_msgerror := out_msgerror || var_msgerror;
                -- goto end_l_save_step_pre_provision;
            end if; */
            -- 
--             <<end_l_save_step_pre_provision>>
            NULL;
    END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE eliseo.pkg_purchases_sp_save_step_pre_provision ( in_id_pedido bigint, in_id_moneda bigint, in_id_proveedor bigint, in_importe bigint, in_id_proceso bigint,  in_id_persona bigint, in_ip text, out_id_pcompra out bigint, out_error out bigint, out_msgerror out text) FROM PUBLIC;
