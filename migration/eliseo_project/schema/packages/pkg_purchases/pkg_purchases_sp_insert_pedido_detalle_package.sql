-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';
SET search_path = eliseo,pkg_purchases,public;

    -- 
CREATE OR REPLACE PROCEDURE eliseo.pkg_purchases_sp_insert_pedido_detalle ( in_id_pedido bigint, in_id_almacen bigint, in_id_articulo bigint, in_detalle text, in_cantidad bigint, in_precio bigint, in_importe bigint, out_id_detalle out bigint, out_error out bigint, out_msgerror out text) AS $body$
BEGIN
            out_error := 0;
            out_msgerror := ' ';
            -- 
            --select nvl(max(id_detalle),0)+1 into out_id_detalle
            --from pedido_detalle;
            --
            insert into pedido_detalle(
              --id_detalle,
              id_pedido,
              id_almacen,
              id_articulo,
              detalle,
              cantidad,
              precio,
              importe
            )
            values (
              --out_id_detalle,
              in_id_pedido,
              in_id_almacen,
              in_id_articulo,
              in_detalle,
              in_cantidad,
              in_precio,
              in_importe
            ) RETURNING ID_DETALLE INTO out_id_detalle;
    END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE eliseo.pkg_purchases_sp_insert_pedido_detalle ( in_id_pedido bigint, in_id_almacen bigint, in_id_articulo bigint, in_detalle text, in_cantidad bigint, in_precio bigint, in_importe bigint, out_id_detalle out bigint, out_error out bigint, out_msgerror out text) FROM PUBLIC;
