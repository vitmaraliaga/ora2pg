-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = eliseo,public;
\set ON_ERROR_STOP ON





CREATE OR REPLACE PROCEDURE eliseo.i_aaa_conta_em_cta_assinet () AS $body$
DECLARE

L_ID_RESTRICION varchar(50);
L_ID_TIPOPLAN numeric(22);
L_COUNT bigint;
  ITEM RECORD;

BEGIN
    /*
	FOR ITEM IN (select * from aaa_conta_empresa_cta_assinet1)
	LOOP
        select count(1) into L_COUNT from aaa_conta_empresa_cta_assinet
        WHERE ID_CUENTAAASI=ITEM.ID_CUENTAAASI AND ID_CUENTAEMPRESARIAL=ITEM.ID_CUENTAEMPRESARIAL;
        IF L_COUNT = 0 THEN
            INSERT INTO aaa_conta_empresa_cta_assinet SELECT * FROM aaa_conta_empresa_cta_assinet1
            WHERE ID_CUENTAEMPRESARIAL=ITEM.ID_CUENTAEMPRESARIAL 
				AND ID_CUENTAAASI=ITEM.ID_CUENTAAASI;
        END IF;
	END LOOP;*/
    FOR ITEM IN (select * from aaa_conta_empresa_cta_assineti)
	LOOP
        select count(1) into STRICT L_COUNT from aaa_conta_empresa_cta_assinet
        WHERE ID_CUENTAAASI=ITEM.ID_CUENTAAASI AND ID_CUENTAEMPRESARIAL=ITEM.ID_CUENTAEMPRESARIAL;
        IF L_COUNT = 0 THEN
            INSERT INTO aaa_conta_empresa_cta_assinet SELECT * FROM aaa_conta_empresa_cta_assineti
            WHERE ID_CUENTAEMPRESARIAL=ITEM.ID_CUENTAEMPRESARIAL
				AND ID_CUENTAAASI=ITEM.ID_CUENTAAASI;
        END IF;
	END LOOP;
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE eliseo.i_aaa_conta_em_cta_assinet () FROM PUBLIC;

