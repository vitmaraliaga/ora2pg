-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = eliseo,public;
\set ON_ERROR_STOP ON





CREATE OR REPLACE FUNCTION eliseo.fc_split_1 ( p_list text, f_par text ) RETURNS TABLASTRING AS $body$
DECLARE
  l_datos tablastring;

   -- l_datos tablastring;
    t_datos tablastring := tablastring();
    --f_list      varchar(32767) := 'AA|BBB|CCCC|DDDDD|EE';
   -- f_par       varchar(32767) := '|';
   f_list varchar(32767) := p_list;
    f_sice  bigint := coalesce(length(regexp_replace(f_list, '[^'  || f_par  || ']', 'g')),0);
    o_pos   bigint := 0;
    o_vtn   varchar(32767) := '';
BEGIN
    -- t_datos.extend(f_sice + 1);
    -- FOR i IN 0..f_sice LOOP
    --     o_pos := position(f_par in f_list);
    --     o_vtn := substr(f_list, 1, o_pos - 1);
    --     IF o_pos = 0 THEN
    --         o_vtn := f_list;
    --     END IF;
    --     f_list := substr(f_list, o_pos + 1, length(f_list));

    --     t_datos(i + 1) := '' || o_vtn;
    -- END LOOP;

    -- RETURN( t_datos );
    RETURN string_to_array(p_list, f_par);
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION eliseo.fc_split_1 ( p_list text, f_par text ) FROM PUBLIC;

