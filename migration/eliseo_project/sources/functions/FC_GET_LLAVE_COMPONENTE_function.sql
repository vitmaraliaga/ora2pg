-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = eliseo,public;
\set ON_ERROR_STOP ON

FUNCTION        FC_GET_LLAVE_COMPONENTE(P_ID_REGISTRO NUMBER, P_ID_PASO NUMBER, P_ESTADO VARCHAR2) RETURN VARCHAR2 
  IS
  l_RETURNA VARCHAR2(50 BYTE) := '';
BEGIN
  SELECT
    PROCESS_COMPONENTE.LLAVE INTO l_RETURNA
  FROM
    PROCESS_PASO_RUN
    INNER JOIN PROCESS_COMPONENTE_PASO
    ON PROCESS_PASO_RUN.ID_PASO=PROCESS_COMPONENTE_PASO.ID_PASO
    INNER JOIN PROCESS_COMPONENTE
    ON PROCESS_COMPONENTE_PASO.ID_COMPONENTE=PROCESS_COMPONENTE.ID_COMPONENTE
  WHERE
    PROCESS_PASO_RUN.ID_REGISTRO=P_ID_REGISTRO
    AND PROCESS_PASO_RUN.ID_PASO=P_ID_PASO
    AND PROCESS_PASO_RUN.ESTADO=P_ESTADO
    AND ROWNUM<=1;
  RETURN l_RETURNA;
END FC_GET_LLAVE_COMPONENTE;

