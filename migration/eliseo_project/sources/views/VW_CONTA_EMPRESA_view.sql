-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = eliseo,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_conta_empresa (id_empresa, id_ruc, id_corporacion, id_tipoempresa, logo, id_persona, nom_denominacional, nom_empresa, nom_legal, emp_nom_2, nom_tipoempresa) AS SELECT
  CONTA_EMPRESA.ID_EMPRESA,
  CONTA_EMPRESA.ID_RUC,
  CONTA_EMPRESA.ID_CORPORACION,
  CONTA_EMPRESA.ID_TIPOEMPRESA,
  CONTA_EMPRESA.LOGO,
  Persona.ID_PERSONA,
  --Corporacion.NOMBRE AS NOM_CORPORACION,
  Persona.PATERNO AS NOM_DENOMINACIONAL,
  Persona.MATERNO AS NOM_EMPRESA,
  Persona.NOMBRE AS NOM_LEGAL,
  CONTA_EMPRESA.RAZON_SOCIAL AS EMP_NOM_2,
  Tipo_Empresa.NOMBRE AS NOM_TIPOEMPRESA
FROM CONTA_EMPRESA
--INNER JOIN Corporacion ON
--  CONTA_EMPRESA.ID_CORPORACION = Corporacion.ID_CORPORACION
INNER JOIN Tipo_Empresa ON
  CONTA_EMPRESA.ID_TIPOEMPRESA = Tipo_Empresa.ID_TIPOEMPRESA
INNER JOIN MOISES.Persona_Juridica ON
  CONTA_EMPRESA.ID_RUC = Persona_Juridica.ID_RUC
INNER JOIN MOISES.Persona ON
  Persona_Juridica.ID_PERSONA = Persona.ID_PERSONA;

