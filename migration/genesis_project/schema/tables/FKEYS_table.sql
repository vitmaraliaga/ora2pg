-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

\set ON_ERROR_STOP ON

SET search_path = genesis,public;
ALTER TABLE campania_convocatoria DROP CONSTRAINT IF EXISTS campania_convocatoria_fk1;
ALTER TABLE campania_convocatoria ADD CONSTRAINT campania_convocatoria_fk1 FOREIGN KEY (id_campania) REFERENCES tipo_campania(id_campania) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE campania_convocatoria DROP CONSTRAINT IF EXISTS campania_convocatoria_fk2;
ALTER TABLE campania_convocatoria ADD CONSTRAINT campania_convocatoria_fk2 FOREIGN KEY (id_convocatoria_detalle) REFERENCES convocatoria_detalle(id_convocatoria_detalle) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE camp_conv_cartera DROP CONSTRAINT IF EXISTS camp_conv_cartera_fk1;
ALTER TABLE camp_conv_cartera ADD CONSTRAINT camp_conv_cartera_fk1 FOREIGN KEY (id_campania_convocatoria) REFERENCES campania_convocatoria(id_campania_convocatoria) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE camp_conv_cartera DROP CONSTRAINT IF EXISTS camp_conv_cartera_fk2;
ALTER TABLE camp_conv_cartera ADD CONSTRAINT camp_conv_cartera_fk2 FOREIGN KEY (id_cartera) REFERENCES tipo_cartera(id_cartera) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE canal_detalle DROP CONSTRAINT IF EXISTS canal_detalle_fk1;
ALTER TABLE canal_detalle ADD CONSTRAINT canal_detalle_fk1 FOREIGN KEY (id_canal) REFERENCES tipo_canal(id_canal) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE clasificacion_programa DROP CONSTRAINT IF EXISTS fk_tipo_clasificacion;
ALTER TABLE clasificacion_programa ADD CONSTRAINT fk_tipo_clasificacion FOREIGN KEY (id_clasificacion) REFERENCES tipo_clasificacion(id_clasificacion) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE config_global DROP CONSTRAINT IF EXISTS fk_config_global1;
ALTER TABLE config_global ADD CONSTRAINT fk_config_global1 FOREIGN KEY (id_modo_correo) REFERENCES modo_correo(id_modo_correo) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE config_global DROP CONSTRAINT IF EXISTS fk_config_global2;
ALTER TABLE config_global ADD CONSTRAINT fk_config_global2 FOREIGN KEY (id_modo_kanban) REFERENCES modo_kanban(id_modo_kanban) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE config_global DROP CONSTRAINT IF EXISTS fk_config_global3;
ALTER TABLE config_global ADD CONSTRAINT fk_config_global3 FOREIGN KEY (id_tablero) REFERENCES tablero(id_tablero) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE convocatoria_detalle DROP CONSTRAINT IF EXISTS convocatoria_detalle_fk2;
ALTER TABLE convocatoria_detalle ADD CONSTRAINT convocatoria_detalle_fk2 FOREIGN KEY (id_convocatoria) REFERENCES tipo_convocatoria(id_convocatoria) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE formulario_persona DROP CONSTRAINT IF EXISTS formulario_persona_fk1;
ALTER TABLE formulario_persona ADD CONSTRAINT formulario_persona_fk1 FOREIGN KEY (id_formulario_pregunta) REFERENCES formulario_pregunta(id_formulario_pregunta) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE formulario_persona DROP CONSTRAINT IF EXISTS formulario_persona_fk2;
ALTER TABLE formulario_persona ADD CONSTRAINT formulario_persona_fk2 FOREIGN KEY (id_persona_interes) REFERENCES persona_interes(id_persona_interes) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE formulario_persona DROP CONSTRAINT IF EXISTS formulario_persona_fk3;
ALTER TABLE formulario_persona ADD CONSTRAINT formulario_persona_fk3 FOREIGN KEY (id_canal_detalle) REFERENCES canal_detalle(id_canal_detalle) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE formulario_pregunta DROP CONSTRAINT IF EXISTS formulario_pregunta_fk1;
ALTER TABLE formulario_pregunta ADD CONSTRAINT formulario_pregunta_fk1 FOREIGN KEY (id_formulario) REFERENCES tipo_formulario(id_formulario) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE formulario_pregunta DROP CONSTRAINT IF EXISTS formulario_pregunta_fk2;
ALTER TABLE formulario_pregunta ADD CONSTRAINT formulario_pregunta_fk2 FOREIGN KEY (id_pregunta) REFERENCES tipo_pregunta(id_pregunta) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_atencion DROP CONSTRAINT IF EXISTS persona_atencion_fk1;
ALTER TABLE persona_atencion ADD CONSTRAINT persona_atencion_fk1 FOREIGN KEY (id_persona_cartera) REFERENCES persona_cartera(id_persona_cartera) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_atencion DROP CONSTRAINT IF EXISTS persona_atencion_fk2;
ALTER TABLE persona_atencion ADD CONSTRAINT persona_atencion_fk2 FOREIGN KEY (id_canal_detalle) REFERENCES canal_detalle(id_canal_detalle) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_atencion DROP CONSTRAINT IF EXISTS persona_atencion_fk3;
ALTER TABLE persona_atencion ADD CONSTRAINT persona_atencion_fk3 FOREIGN KEY (id_condicion) REFERENCES tipo_condicion(id_condicion) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_atencion DROP CONSTRAINT IF EXISTS persona_atencion_fk4;
ALTER TABLE persona_atencion ADD CONSTRAINT persona_atencion_fk4 FOREIGN KEY (id_campania_convocatoria) REFERENCES campania_convocatoria(id_campania_convocatoria) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_atencion DROP CONSTRAINT IF EXISTS persona_atencion_fk5;
ALTER TABLE persona_atencion ADD CONSTRAINT persona_atencion_fk5 FOREIGN KEY (id_persona_interes) REFERENCES persona_interes(id_persona_interes) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_atencion DROP CONSTRAINT IF EXISTS persona_atencion_fk6;
ALTER TABLE persona_atencion ADD CONSTRAINT persona_atencion_fk6 FOREIGN KEY (id_persona_origen) REFERENCES persona_origen(id_persona_origen) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_cartera DROP CONSTRAINT IF EXISTS persona_cartera_fk1;
ALTER TABLE persona_cartera ADD CONSTRAINT persona_cartera_fk1 FOREIGN KEY (id_persona_interes) REFERENCES persona_interes(id_persona_interes) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_cartera DROP CONSTRAINT IF EXISTS persona_cartera_fk2;
ALTER TABLE persona_cartera ADD CONSTRAINT persona_cartera_fk2 FOREIGN KEY (id_camp_conv_cartera) REFERENCES camp_conv_cartera(id_camp_conv_cartera) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_cartera DROP CONSTRAINT IF EXISTS persona_cartera_fk3;
ALTER TABLE persona_cartera ADD CONSTRAINT persona_cartera_fk3 FOREIGN KEY (id_persona_responsable) REFERENCES persona_responsable(id_persona_responsable) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_direccion DROP CONSTRAINT IF EXISTS persona_direccion_fk;
ALTER TABLE persona_direccion ADD CONSTRAINT persona_direccion_fk FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_documento DROP CONSTRAINT IF EXISTS persona_documento_fk;
ALTER TABLE persona_documento ADD CONSTRAINT persona_documento_fk FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_interes DROP CONSTRAINT IF EXISTS persona_interes_fk1;
ALTER TABLE persona_interes ADD CONSTRAINT persona_interes_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_interes DROP CONSTRAINT IF EXISTS persona_interes_fk3;
ALTER TABLE persona_interes ADD CONSTRAINT persona_interes_fk3 FOREIGN KEY (id_clasificacion) REFERENCES tipo_clasificacion(id_clasificacion) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_interes DROP CONSTRAINT IF EXISTS persona_interes_fk4;
ALTER TABLE persona_interes ADD CONSTRAINT persona_interes_fk4 FOREIGN KEY (id_convocatoria_detalle) REFERENCES convocatoria_detalle(id_convocatoria_detalle) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_interes DROP CONSTRAINT IF EXISTS persona_interes_fk5;
ALTER TABLE persona_interes ADD CONSTRAINT persona_interes_fk5 FOREIGN KEY (id_tipo_etapa) REFERENCES tipo_etapa(id_tipo_etapa) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_interes DROP CONSTRAINT IF EXISTS persona_interes_fk6;
ALTER TABLE persona_interes ADD CONSTRAINT persona_interes_fk6 FOREIGN KEY (id_canal_detalle) REFERENCES canal_detalle(id_canal_detalle) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_interes DROP CONSTRAINT IF EXISTS persona_interes_fk7;
ALTER TABLE persona_interes ADD CONSTRAINT persona_interes_fk7 FOREIGN KEY (id_tipo_prioridad) REFERENCES tipo_prioridad(id_tipo_prioridad) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_interes DROP CONSTRAINT IF EXISTS persona_interes_fk8;
ALTER TABLE persona_interes ADD CONSTRAINT persona_interes_fk8 FOREIGN KEY (id_persona_origen) REFERENCES persona_origen(id_persona_origen) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_interes DROP CONSTRAINT IF EXISTS persona_interes_fk9;
ALTER TABLE persona_interes ADD CONSTRAINT persona_interes_fk9 FOREIGN KEY (id_tipo_centro_educ) REFERENCES tipo_centro_educ(id_tipo_centro_educ) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_interes_cita DROP CONSTRAINT IF EXISTS fk_persona_interes;
ALTER TABLE persona_interes_cita ADD CONSTRAINT fk_persona_interes FOREIGN KEY (id_persona_interes) REFERENCES persona_interes(id_persona_interes) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_interes_comentario DROP CONSTRAINT IF EXISTS fk_persona_int_c1;
ALTER TABLE persona_interes_comentario ADD CONSTRAINT fk_persona_int_c1 FOREIGN KEY (id_clasificacion_comentario) REFERENCES tipo_clasificacion_comentario(id_clasificacion_comentario) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_interes_comentario DROP CONSTRAINT IF EXISTS fk_persona_int_c2;
ALTER TABLE persona_interes_comentario ADD CONSTRAINT fk_persona_int_c2 FOREIGN KEY (id_persona_interes) REFERENCES persona_interes(id_persona_interes) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_interes_comentario DROP CONSTRAINT IF EXISTS fk_persona_int_c3;
ALTER TABLE persona_interes_comentario ADD CONSTRAINT fk_persona_int_c3 FOREIGN KEY (id_tipo_etapa) REFERENCES tipo_etapa(id_tipo_etapa) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_responsable DROP CONSTRAINT IF EXISTS persona_responsable_fk3;
ALTER TABLE persona_responsable ADD CONSTRAINT persona_responsable_fk3 FOREIGN KEY (id_clasificacion) REFERENCES tipo_clasificacion(id_clasificacion) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_responsable DROP CONSTRAINT IF EXISTS persona_responsable_fk4;
ALTER TABLE persona_responsable ADD CONSTRAINT persona_responsable_fk4 FOREIGN KEY (id_oficina) REFERENCES tipo_oficina(id_oficina) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_responsable DROP CONSTRAINT IF EXISTS persona_responsable_fk5;
ALTER TABLE persona_responsable ADD CONSTRAINT persona_responsable_fk5 FOREIGN KEY (id_convocatoria_detalle) REFERENCES convocatoria_detalle(id_convocatoria_detalle) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_telefono DROP CONSTRAINT IF EXISTS persona_telefono_fk;
ALTER TABLE persona_telefono ADD CONSTRAINT persona_telefono_fk FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_virtual DROP CONSTRAINT IF EXISTS persona_virtual_fk;
ALTER TABLE persona_virtual ADD CONSTRAINT persona_virtual_fk FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
