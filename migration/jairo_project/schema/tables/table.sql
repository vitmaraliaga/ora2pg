-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

\set ON_ERROR_STOP ON

CREATE SCHEMA IF NOT EXISTS jairo;
ALTER SCHEMA jairo OWNER TO jairo;

SET search_path = jairo,public;


DROP TABLE IF EXISTS dm_anio;
CREATE TABLE dm_anio (
	id_anio bigint NOT NULL
) ;


DROP TABLE IF EXISTS dm_anio_persona;
CREATE TABLE dm_anio_persona (
	anio_id bigint NOT NULL,
	persona_id bigint NOT NULL
) ;


DROP TABLE IF EXISTS dm_area;
CREATE TABLE dm_area (
	id_area numeric(38) NOT NULL,
	area_id numeric(38),
	nombre varchar(200) NOT NULL,
	nivel smallint NOT NULL,
	activo smallint NOT NULL DEFAULT 1,
	orden smallint NOT NULL DEFAULT 1,
	icon varchar(30)
) ;
COMMENT ON COLUMN dm_area.activo IS E'TRUE O FALSE
';
COMMENT ON COLUMN dm_area.icon IS E'eva icon';


DROP TABLE IF EXISTS dm_area_anio;
CREATE TABLE dm_area_anio (
	id_area_anio numeric(38) NOT NULL,
	sedearea_id numeric(38) NOT NULL,
	activo smallint NOT NULL DEFAULT 1,
	anio_id numeric(38) NOT NULL
) ;
COMMENT ON COLUMN dm_area_anio.activo IS E'TRUE/FALSE';


DROP TABLE IF EXISTS dm_area_responsable;
CREATE TABLE dm_area_responsable (
	id_arearesponsable numeric(38) NOT NULL,
	areaanio_id numeric(38) NOT NULL,
	persona_id numeric(38) NOT NULL
) ;


DROP TABLE IF EXISTS dm_document;
CREATE TABLE dm_document (
	id_document varchar(36) NOT NULL,
	nombre varchar(255) NOT NULL,
	direccion varchar(255) NOT NULL,
	extencion varchar(6) NOT NULL,
	creado timestamp(0),
	modificado timestamp(0),
	owner_id bigint,
	user_modified bigint,
	folder_id varchar(36),
	file_name varchar(500) NOT NULL,
	estado smallint NOT NULL DEFAULT 1
) ;


DROP TABLE IF EXISTS dm_folder;
CREATE TABLE dm_folder (
	id_folder varchar(36) NOT NULL,
	nombre varchar(200) NOT NULL,
	descripcion varchar(200),
	owner_id bigint NOT NULL,
	tipo_id numeric(38),
	creado timestamp(0) NOT NULL,
	modificado timestamp(0) NOT NULL,
	folder_id varchar(36),
	areaanio_id numeric(38),
	sedarins_id numeric(38)
) ;


DROP TABLE IF EXISTS dm_instituciones;
CREATE TABLE dm_instituciones (
	id_institucion numeric(38) NOT NULL,
	nombre varchar(255) NOT NULL
) ;


DROP TABLE IF EXISTS dm_nivel_documentary;
CREATE TABLE dm_nivel_documentary (
	id_nivel_documentary numeric(38) NOT NULL,
	nombre varchar(100) NOT NULL
) ;


DROP TABLE IF EXISTS dm_permisos;
CREATE TABLE dm_permisos (
	id_permiso numeric(38) NOT NULL,
	nombre varchar(30) NOT NULL,
	descripcion varchar(50)
) ;


DROP TABLE IF EXISTS dm_sedearea_instituto;
CREATE TABLE dm_sedearea_instituto (
	id_sedearea_instituto numeric(38) NOT NULL,
	sedearea_id numeric(38) NOT NULL,
	instituto_id numeric(38) NOT NULL,
	estado smallint NOT NULL
) ;


DROP TABLE IF EXISTS dm_sede_area;
CREATE TABLE dm_sede_area (
	id_sedearea numeric(38) NOT NULL,
	sede_id numeric(38) NOT NULL,
	area_id numeric(38) NOT NULL,
	activo smallint NOT NULL DEFAULT 1
) ;


DROP TABLE IF EXISTS dm_tipo;
CREATE TABLE dm_tipo (
	tipo_id numeric(38) NOT NULL,
	nombre varchar(50) NOT NULL
) ;


DROP TABLE IF EXISTS failed_jobs;
CREATE TABLE failed_jobs (
	id bigint NOT NULL,
	uuid varchar(255) NOT NULL,
	connection text NOT NULL,
	queue text NOT NULL,
	payload text NOT NULL,
	exception text NOT NULL,
	failed_at TIMESTAMP(6) NOT NULL
) ;


DROP TABLE IF EXISTS migrations;
CREATE TABLE migrations (
	id bigint NOT NULL,
	migration varchar(255) NOT NULL,
	batch bigint NOT NULL
) ;


DROP TABLE IF EXISTS password_resets;
CREATE TABLE password_resets (
	email varchar(255) NOT NULL,
	token varchar(255) NOT NULL,
	created_at TIMESTAMP(6)
) ;


DROP TABLE IF EXISTS personal_access_tokens;
CREATE TABLE personal_access_tokens (
	id bigint NOT NULL,
	tokenable_type varchar(255) NOT NULL,
	tokenable_id bigint NOT NULL,
	name varchar(255) NOT NULL,
	token varchar(64) NOT NULL,
	abilities text,
	last_used_at TIMESTAMP(6),
	created_at TIMESTAMP(6),
	updated_at TIMESTAMP(6)
) ;


DROP TABLE IF EXISTS seg_meta;
CREATE TABLE seg_meta (
	id_meta numeric(38) NOT NULL,
	id_indicador numeric(38) NOT NULL,
	meta decimal(10,2),
	semaforo varchar(2),
	datos varchar(100),
	reales decimal(10,2)
) ;


DROP TABLE IF EXISTS sge_actividad;
CREATE TABLE sge_actividad (
	id_actividad numeric(38) NOT NULL,
	id_mapa_iniciativa numeric(38),
	id_anho numeric(38),
	id_estado numeric(38),
	id_tipo_actividad numeric(38),
	nombre varchar(100),
	descripcion varchar(256),
	presupuesto decimal(10,2),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	fecha_ejecucion timestamp(0),
	estado varchar(1),
	id_proceso_actividad numeric(38),
	id_persona numeric(38),
	pspto_externo decimal(10,2),
	entregable varchar(400),
	tiene_ppto varchar(1),
	comentario varchar(256),
	id_iniciativa_detalle bigint,
	id_semestre bigint,
	se_enviara_entregable smallint,
	se_ejecuto smallint,
	id_aporte numeric(38)
) ;
COMMENT ON COLUMN sge_actividad.tiene_ppto IS E'S: TIENE PRESUPUESTO; N: NO TIENE PRESUPUESTO';


DROP TABLE IF EXISTS sge_actividad_ppto;
CREATE TABLE sge_actividad_ppto (
	id_ppto numeric(38) NOT NULL,
	id_actividad numeric(38) NOT NULL,
	detalle varchar(400),
	cantidad decimal(10,2),
	pu decimal(10,2),
	importe decimal(10,2)
) ;


DROP TABLE IF EXISTS sge_aporte;
CREATE TABLE sge_aporte (
	id_aporte bigint NOT NULL,
	nombre varchar(20)
) ;


DROP TABLE IF EXISTS sge_asiento;
CREATE TABLE sge_asiento (
	id_asiento numeric(38) NOT NULL,
	id_actividad numeric(38),
	id_fondo numeric(38),
	id_cuentaaasi varchar(20),
	id_restriccion varchar(10),
	id_ctacte varchar(20),
	id_depto varchar(10),
	dc varchar(1),
	importe decimal(10,2)
) ;


DROP TABLE IF EXISTS sge_correo_config;
CREATE TABLE sge_correo_config (
	id_correo_config numeric(38) NOT NULL,
	id_sede numeric(38),
	correo varchar(50),
	tipo varchar(1),
	estado varchar(1)
) ;


DROP TABLE IF EXISTS sge_eje;
CREATE TABLE sge_eje (
	id_eje numeric(38) NOT NULL,
	id_plan numeric(38) NOT NULL,
	id_perspectiva numeric(38) NOT NULL,
	nombre varchar(100),
	estado varchar(1),
	color varchar(60),
	orden varchar(5)
) ;


DROP TABLE IF EXISTS sge_eje_cuenta;
CREATE TABLE sge_eje_cuenta (
	id_cuenta numeric(38) NOT NULL,
	id_eje numeric(38) NOT NULL,
	id_cuentaaasi varchar(10),
	tiene_ctacte varchar(1)
) ;


DROP TABLE IF EXISTS sge_eje_cuenta_cte;
CREATE TABLE sge_eje_cuenta_cte (
	id_cta_cte numeric(38) NOT NULL,
	id_cuenta numeric(38) NOT NULL,
	cta_cte varchar(50)
) ;


DROP TABLE IF EXISTS sge_eje_depto;
CREATE TABLE sge_eje_depto (
	id_depto numeric(38) NOT NULL,
	id_eje numeric(38) NOT NULL,
	id_mapa numeric(38),
	depto varchar(10)
) ;


DROP TABLE IF EXISTS sge_eje_depto_mapa;
CREATE TABLE sge_eje_depto_mapa (
	id_depto numeric(38) NOT NULL,
	id_eje numeric(38) NOT NULL,
	id_mapa numeric(38),
	depto varchar(10)
) ;


DROP TABLE IF EXISTS sge_eje_persona;
CREATE TABLE sge_eje_persona (
	id_eje_persona numeric(38) NOT NULL,
	id_eje numeric(38),
	id_persona numeric(38),
	estado varchar(1)
) ;


DROP TABLE IF EXISTS sge_elemento;
CREATE TABLE sge_elemento (
	id_elemento numeric(38) NOT NULL,
	id_plan numeric(38) NOT NULL,
	id_tipo numeric(38) NOT NULL,
	nombre varchar(400),
	estado varchar(1)
) ;


DROP TABLE IF EXISTS sge_entidad_plan_user;
CREATE TABLE sge_entidad_plan_user (
	id_entidad numeric(38) NOT NULL,
	id_plan numeric(38) NOT NULL,
	id_user numeric(38) NOT NULL,
	estado varchar(1)
) ;
COMMENT ON COLUMN sge_entidad_plan_user.estado IS E'ESTADO = 1: PLAN ACTIVO PARA LA ENTIDAD Y EL USER';


DROP TABLE IF EXISTS sge_estado;
CREATE TABLE sge_estado (
	id_estado numeric(38) NOT NULL,
	nombre varchar(50),
	estado varchar(1),
	color_primario varchar(20),
	color_secundario varchar(20)
) ;
COMMENT ON COLUMN sge_estado.color_primario IS E'Color primario de referencia (background)';
COMMENT ON COLUMN sge_estado.color_secundario IS E'Color secundario de referencia (text color)';


DROP TABLE IF EXISTS sge_file;
CREATE TABLE sge_file (
	id_file numeric(38) NOT NULL,
	nombre varchar(45),
	id_actividad numeric(38),
	drive_file_id varchar(200),
	url varchar(200),
	id_mapa_iniciativa numeric(38),
	tipo varchar(2),
	id_iniciativa_detalle bigint,
	titulo varchar(200)
) ;
COMMENT ON COLUMN sge_file.tipo IS E'1=?
2=?
3=Documento de voto
4=Documento de finalizar iniciativa
5=Documento de finalizar actividad
6=Documento de plan de iniciativa (subido por el usuario)
7=Documento de plan de iniciativa (generado)
8=Sustentos de plan de iniciativa
9=Documento de informe de iniciativa (subido por el usuario)
10=Documento de informe de iniciativa (generado)
11=Sustentos del informe de iniciativa
';


DROP TABLE IF EXISTS sge_flujo;
CREATE TABLE sge_flujo (
	id_flujo numeric(38) NOT NULL,
	id_proceso_iniciativa numeric(38) NOT NULL,
	id_mapa_iniciativa numeric(38) NOT NULL,
	id_persona numeric(38) NOT NULL,
	nombre varchar(256),
	fecha timestamp(0)
) ;


DROP TABLE IF EXISTS sge_frecuencia;
CREATE TABLE sge_frecuencia (
	id_frecuencia numeric(38) NOT NULL,
	nombre varchar(100),
	cantidad bigint,
	estado varchar(1)
) ;
COMMENT ON COLUMN sge_frecuencia.cantidad IS E'CAMPO QUE INDICA LA CANTIDAD DE REGISTROS DE LA FRECUENCIA';


DROP TABLE IF EXISTS sge_frecuencia_detalle;
CREATE TABLE sge_frecuencia_detalle (
	id_fdetalle numeric(38) NOT NULL,
	id_frecuencia numeric(38) NOT NULL,
	nombre varchar(100),
	codigo varchar(10),
	estado varchar(1)
) ;


DROP TABLE IF EXISTS sge_historial;
CREATE TABLE sge_historial (
	id_historial numeric(38) NOT NULL,
	id_mapa numeric(38) NOT NULL,
	id_objetivo numeric(38) NOT NULL,
	id_indicador numeric(38) NOT NULL,
	id_iniciativa numeric(38) NOT NULL,
	id_persona numeric(38) NOT NULL,
	comentario varchar(100),
	fecha timestamp(0),
	tipo varchar(1) NOT NULL
) ;
COMMENT ON COLUMN sge_historial.tipo IS E'I:INSERTAR
U:UPDATE
D:DELETE
';


DROP TABLE IF EXISTS sge_indicador;
CREATE TABLE sge_indicador (
	id_indicador numeric(38) NOT NULL,
	id_parent_indicador numeric(38),
	id_tipo_nivel numeric(38) NOT NULL,
	id_objetivo numeric(38) NOT NULL,
	nombre varchar(400),
	formula varchar(200),
	orden bigint,
	vigencia varchar(1),
	estado varchar(1),
	descripcion varchar(100),
	id_indicador_medida bigint,
	id_procedimiento numeric(38),
	id_frecuencia numeric(38),
	especificaciones varchar(400),
	fuente_datos varchar(100),
	es_procedimiento varchar(1),
	codigo varchar(50),
	metodo_calculo_num varchar(200),
	responsable_medicion varchar(200),
	oportunidad_medicion varchar(200),
	sentido_indicador numeric(38),
	metodo_calculo_den varchar(200)
) ;
COMMENT ON COLUMN sge_indicador.sentido_indicador IS E'1 = Ascendente
2 = Descendente
3 = Constante';


DROP TABLE IF EXISTS sge_indicador_medida;
CREATE TABLE sge_indicador_medida (
	id_indicador_medida numeric(38) NOT NULL,
	nombre varchar(60) NOT NULL,
	simbolo varchar(10),
	estado varchar(1)
) ;


DROP TABLE IF EXISTS sge_ind_crit_calif;
CREATE TABLE sge_ind_crit_calif (
	id_ind_crit_calif bigint NOT NULL,
	id_indicador bigint,
	id_mapa bigint,
	id_anyo bigint,
	medida_superior bigint,
	medida_inferior bigint
) ;


DROP TABLE IF EXISTS sge_iniciativa;
CREATE TABLE sge_iniciativa (
	id_iniciativa numeric(38) NOT NULL,
	id_parent_iniciativa numeric(38),
	id_objetivo numeric(38) NOT NULL,
	id_tipo_nivel numeric(38) NOT NULL,
	nombre varchar(400),
	descripcion varchar(400),
	estado varchar(1),
	codigo varchar(50),
	tipo numeric(38)
) ;


DROP TABLE IF EXISTS sge_iniciativa_comentario;
CREATE TABLE sge_iniciativa_comentario (
	id_iniciativa_comentario numeric(38) NOT NULL,
	id_padre_iniciativa_comentario numeric(38),
	id_persona_origen numeric(38),
	id_persona_destino numeric(38),
	id_mapa_iniciativa numeric(38),
	comentario varchar(1024),
	es_leido varchar(1),
	fecha_creado timestamp(0),
	origen_rol varchar(10),
	destino_rol varchar(10)
) ;


DROP TABLE IF EXISTS sge_iniciativa_criterio;
CREATE TABLE sge_iniciativa_criterio (
	id_iniciativa_criterio numeric(38) NOT NULL,
	id_iniciativa numeric(38),
	nombre varchar(100)
) ;


DROP TABLE IF EXISTS sge_iniciativa_cuenta;
CREATE TABLE sge_iniciativa_cuenta (
	id_iniciativa_cuenta numeric(38) NOT NULL,
	id_iniciativa numeric(38),
	id_cuentaaasi varchar(10),
	tiene_ctacte varchar(1)
) ;


DROP TABLE IF EXISTS sge_iniciativa_cuenta_cte;
CREATE TABLE sge_iniciativa_cuenta_cte (
	id_iniciativa_cta_cte numeric(38) NOT NULL,
	id_iniciativa_cuenta numeric(38),
	cta_cte varchar(50)
) ;


DROP TABLE IF EXISTS sge_mapa;
CREATE TABLE sge_mapa (
	id_mapa numeric(38) NOT NULL,
	id_parent_mapa numeric(38),
	id_entidad numeric(38) NOT NULL,
	id_depto varchar(10) NOT NULL,
	id_plan numeric(38) NOT NULL,
	id_tipo_nivel numeric(38) NOT NULL,
	id_area numeric(38),
	id_sedearea numeric(38),
	nombre varchar(100),
	descripcion varchar(100),
	estado varchar(1),
	es_lider numeric(38)
) ;


DROP TABLE IF EXISTS sge_mapa_detalle;
CREATE TABLE sge_mapa_detalle (
	id_detalle numeric(38) NOT NULL,
	id_mapa numeric(38),
	id_perspectiva numeric(38),
	id_eje numeric(38),
	orden bigint,
	estado bigint
) ;


DROP TABLE IF EXISTS sge_mapa_grupo;
CREATE TABLE sge_mapa_grupo (
	id_mapa_grupo bigint NOT NULL,
	id_nivel numeric(38),
	nombre varchar(100),
	descripcion varchar(200)
) ;


DROP TABLE IF EXISTS sge_mapa_grupo_rel;
CREATE TABLE sge_mapa_grupo_rel (
	id_mapa_grupo_rel bigint NOT NULL,
	id_mapa_grupo bigint,
	id_mapa bigint,
	nombre varchar(200)
) ;


DROP TABLE IF EXISTS sge_mapa_indicador;
CREATE TABLE sge_mapa_indicador (
	id_mapa_indicador numeric(38) NOT NULL,
	id_mapa_objetivo numeric(38),
	id_indicador numeric(38),
	orden bigint,
	estado varchar(1)
) ;


DROP TABLE IF EXISTS sge_mapa_iniciativa;
CREATE TABLE sge_mapa_iniciativa (
	id_mapa_iniciativa numeric(38) NOT NULL,
	id_iniciativa numeric(38),
	id_mapa_objetivo numeric(38),
	id_mapa_indicador numeric(38),
	id_persona numeric(38),
	id_estado numeric(38),
	fecha_inicio timestamp(0),
	fecha_entrega timestamp(0),
	fecha_fin timestamp(0),
	detalle varchar(100),
	estado varchar(1),
	id_semestre_i varchar(1),
	id_semestre_ii varchar(1),
	alcance varchar(512),
	objetivo varchar(512),
	voto varchar(100),
	id_dexec bigint,
	comentario varchar(100),
	finalizo_proceso char(1),
	motivo_bloqueo varchar(100)
) ;
COMMENT ON COLUMN sge_mapa_iniciativa.comentario IS E'Comentario cuando finaliza el proceso
';
COMMENT ON COLUMN sge_mapa_iniciativa.finalizo_proceso IS E'1 = Proceso completado o finalizado
0 = Esta en proceso';
COMMENT ON COLUMN sge_mapa_iniciativa.id_dexec IS E'Hace referencia al ultimo paso ejecutado';


DROP TABLE IF EXISTS sge_mapa_iniciativa_detalle;
CREATE TABLE sge_mapa_iniciativa_detalle (
	id_iniciativa_detalle numeric(38) NOT NULL,
	id_mapa_iniciativa numeric(38),
	id_persona numeric(38),
	id_semestre_i varchar(2),
	id_semestre_ii varchar(2),
	alcance varchar(400),
	objetivo varchar(4000),
	voto varchar(20),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	introduccion varchar(4000),
	normatividad varchar(4000),
	metodologia varchar(4000),
	resultados varchar(4000),
	tipo char(1),
	generar_pdf char(1),
	semestre smallint,
	id_dexec bigint,
	es_anual smallint,
	ppto_auto_fin smallint,
	estado_finalizado smallint,
	voto_tipo smallint,
	voto_monto numeric(38),
	voto_fecha timestamp(0),
	conclusion varchar(4000)
) ;
COMMENT ON COLUMN sge_mapa_iniciativa_detalle.generar_pdf IS E'1=El sistema genera un documento PDF
0=El usuario adjunta un documento PDF';
COMMENT ON COLUMN sge_mapa_iniciativa_detalle.semestre IS E'Semestre I = 1;
Semestre II = 2;
';
COMMENT ON COLUMN sge_mapa_iniciativa_detalle.tipo IS E'1=Plan iniciativa
2=Informe iniciativa';


DROP TABLE IF EXISTS sge_mapa_iniciativa_indicador;
CREATE TABLE sge_mapa_iniciativa_indicador (
	id_iniciativa_indicador numeric(38) NOT NULL,
	id_mapa_iniciativa numeric(38),
	id_mapa_indicador numeric(38),
	id_iniciativa_detalle bigint
) ;


DROP TABLE IF EXISTS sge_mapa_iniciativa_ppto_auto;
CREATE TABLE sge_mapa_iniciativa_ppto_auto (
	id_ppto_auto bigint NOT NULL,
	detalle varchar(200),
	cantidad bigint,
	id_iniciativa_detalle bigint,
	precio_uni double precision,
	total bigint,
	igv smallint
) ;


DROP TABLE IF EXISTS sge_mapa_objetivo;
CREATE TABLE sge_mapa_objetivo (
	id_mapa_objetivo numeric(38) NOT NULL,
	id_detalle numeric(38),
	id_objetivo numeric(38),
	orden varchar(1),
	estado varchar(1),
	id_anho bigint
) ;


DROP TABLE IF EXISTS sge_mapa_objetivo_apoyo;
CREATE TABLE sge_mapa_objetivo_apoyo (
	id_obj_apoyo numeric(38) NOT NULL,
	id_mapa numeric(38) NOT NULL,
	id_map_obj_de numeric(38) NOT NULL,
	id_map_obj_a numeric(38) NOT NULL
) ;


DROP TABLE IF EXISTS sge_meta;
CREATE TABLE sge_meta (
	id_meta numeric(38) NOT NULL,
	id_mapa_indicador numeric(38) NOT NULL,
	id_fdetalle numeric(38) NOT NULL,
	id_anho numeric(38) NOT NULL,
	id_responsable numeric(38),
	meta decimal(10,2),
	semaforo varchar(2),
	logro varchar(100),
	eficacia decimal(10,2)
) ;


DROP TABLE IF EXISTS sge_meta_2;
CREATE TABLE sge_meta_2 (
	id_meta_2 bigint NOT NULL,
	id_mapa_indicador bigint,
	id_anyo bigint,
	id_persona bigint,
	logro bigint,
	tipo_logro smallint,
	numerador bigint,
	denominador bigint,
	fecha_registrado timestamp(0),
	periodo_nombre varchar(100),
	file_url varchar(200),
	id_iniciativa_detalle numeric(38)
) ;


DROP TABLE IF EXISTS sge_meta_2_ind_conf;
CREATE TABLE sge_meta_2_ind_conf (
	id_meta_2_ind_conf bigint NOT NULL,
	id_mapa_indicador bigint,
	id_anyo bigint,
	linea_base_1 bigint,
	linea_base_2 bigint,
	linea_riesgo_1 bigint,
	linea_riesgo_2 bigint,
	es_anual bigint
) ;


DROP TABLE IF EXISTS sge_objetivo;
CREATE TABLE sge_objetivo (
	id_objetivo numeric(38) NOT NULL,
	id_parent_objetivo numeric(38),
	id_plan numeric(38) NOT NULL,
	id_tipo_nivel numeric(38) NOT NULL,
	nombre varchar(400),
	descripcion varchar(400),
	vigencia varchar(1),
	orden bigint,
	estado varchar(1),
	codigo varchar(50)
) ;


DROP TABLE IF EXISTS sge_perspectiva;
CREATE TABLE sge_perspectiva (
	id_perspectiva numeric(38) NOT NULL,
	nombre varchar(100),
	vigencia varchar(1),
	orden bigint,
	estado varchar(1),
	color varchar(60)
) ;


DROP TABLE IF EXISTS sge_plan;
CREATE TABLE sge_plan (
	id_plan numeric(38) NOT NULL,
	id_entidad numeric(38) NOT NULL,
	nombre varchar(100),
	estado varchar(1),
	vigencia varchar(1)
) ;


DROP TABLE IF EXISTS sge_plan_anho;
CREATE TABLE sge_plan_anho (
	id_anho numeric(38),
	id_plan numeric(38),
	estado varchar(1),
	id_plan_anho numeric(38) NOT NULL
) ;


DROP TABLE IF EXISTS sge_procedimiento;
CREATE TABLE sge_procedimiento (
	id_procedimiento numeric(38) NOT NULL,
	nombre varchar(60),
	descripcion varchar(255),
	estado varchar(1)
) ;


DROP TABLE IF EXISTS sge_proceso;
CREATE TABLE sge_proceso (
	id_proceso numeric(38) NOT NULL,
	id_proceso_actividad numeric(38) NOT NULL,
	id_actividad numeric(38) NOT NULL,
	id_persona numeric(38) NOT NULL,
	nombre varchar(50),
	fecha timestamp(0)
) ;


DROP TABLE IF EXISTS sge_proceso_actividad;
CREATE TABLE sge_proceso_actividad (
	id_proceso_actividad numeric(38) NOT NULL,
	id_tipo_proceso numeric(38) NOT NULL,
	id_tipo_actividad numeric(38) NOT NULL,
	estado varchar(1)
) ;


DROP TABLE IF EXISTS sge_proceso_iniciativa;
CREATE TABLE sge_proceso_iniciativa (
	id_proceso_iniciativa numeric(38) NOT NULL,
	id_tipo_proceso numeric(38) NOT NULL,
	id_mapa_iniciativa numeric(38) NOT NULL,
	estado varchar(1)
) ;


DROP TABLE IF EXISTS sge_registro_auditoria;
CREATE TABLE sge_registro_auditoria (
	id_registro_auditoria bigint NOT NULL,
	id_usuario bigint,
	nombre_usuario varchar(50),
	accion_realizada varchar(50),
	descripcion_accion varchar(200),
	tabla_afectada varchar(50),
	tabla_afectada_id_registro bigint,
	fecha_hora TIMESTAMP(6) DEFAULT CURRENT_TIMESTAMP,
	estado_antes text,
	estado_despues text,
	columnas_afectadas text,
	columnas_valor_antes text,
	columnas_valor_despues text
) ;


DROP TABLE IF EXISTS sge_semaforo;
CREATE TABLE sge_semaforo (
	id_semaforo numeric(38) NOT NULL,
	nombre varchar(100),
	color varchar(50),
	codigo varchar(10),
	rango_ini decimal(10,2),
	rango_fin decimal(10,2),
	orden bigint,
	estado varchar(1)
) ;


DROP TABLE IF EXISTS sge_semaforo_indicador;
CREATE TABLE sge_semaforo_indicador (
	id_semaforo_indicador numeric(38) NOT NULL,
	id_indicador numeric(38) NOT NULL,
	valor_semaforo numeric(38),
	configuration varchar(10),
	comentario varchar(100),
	tipo numeric(38)
) ;


DROP TABLE IF EXISTS sge_tipo;
CREATE TABLE sge_tipo (
	id_tipo numeric(38) NOT NULL,
	nombre varchar(100),
	estado varchar(1),
	codigo varchar(3)
) ;


DROP TABLE IF EXISTS sge_tipo_actividad;
CREATE TABLE sge_tipo_actividad (
	id_tipo_actividad numeric(38) NOT NULL,
	nombre varchar(100),
	estado varchar(1)
) ;


DROP TABLE IF EXISTS sge_tipo_nivel;
CREATE TABLE sge_tipo_nivel (
	id_tipo_nivel numeric(38) NOT NULL,
	nombre varchar(100),
	estado varchar(1),
	nivel_color varchar(20),
	id_siguiente_nivel numeric(38)
) ;


DROP TABLE IF EXISTS sge_tipo_proceso;
CREATE TABLE sge_tipo_proceso (
	id_tipo_proceso numeric(38) NOT NULL,
	nombre varchar(50),
	orden bigint,
	estado varchar(1),
	color varchar(50),
	tipo varchar(1)
) ;
COMMENT ON COLUMN sge_tipo_proceso.tipo IS E'1: Actividad, 2: Iniciativa';


DROP TABLE IF EXISTS users;
CREATE TABLE users (
	id bigint NOT NULL,
	name varchar(255) NOT NULL,
	email varchar(255) NOT NULL,
	email_verified_at TIMESTAMP(6),
	password varchar(255) NOT NULL,
	remember_token varchar(100),
	created_at TIMESTAMP(6),
	updated_at TIMESTAMP(6)
) ;


DROP TABLE IF EXISTS vin_actividad_horario;
CREATE TABLE vin_actividad_horario (
	id_actividad_horario bigint NOT NULL,
	id_interv_actividad bigint NOT NULL,
	id_horario_detalle bigint NOT NULL,
	fecha_actividad timestamp(0) NOT NULL,
	id_usuario_reg bigint,
	fecha_registro timestamp(0),
	id_usuario_act bigint,
	fecha_actualizacion timestamp(0),
	fecha_hora_inicio timestamp(0),
	fecha_hora_fin timestamp(0)
) ;


DROP TABLE IF EXISTS vin_asistencia_interv;
CREATE TABLE vin_asistencia_interv (
	id_asistencia_interv numeric(38) NOT NULL,
	id_intervencion numeric(38) NOT NULL,
	id_interv_actividad numeric(38),
	tipo char(1),
	fecha_ejecucion timestamp(0),
	num_veces numeric(38) DEFAULT 0,
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;


DROP TABLE IF EXISTS vin_asist_interv_det;
CREATE TABLE vin_asist_interv_det (
	id_asist_interv_det numeric(38) NOT NULL,
	id_asistencia_interv numeric(38) NOT NULL,
	id_persona numeric(38) NOT NULL,
	id_tipo_asistencia numeric(38) NOT NULL,
	id_inscripcion_actividad numeric(38),
	id_interv_beneficiario numeric(38),
	id_interv_personal numeric(38),
	orden numeric(38) NOT NULL DEFAULT 1,
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;


DROP TABLE IF EXISTS vin_cursos_articulados;
CREATE TABLE vin_cursos_articulados (
	id_cursos_articulados numeric(38) NOT NULL,
	id_plan_curso numeric(38),
	articulado_cm char(1),
	obligatorio char(1),
	n_horas numeric(38),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_curso_art_prog;
CREATE TABLE vin_curso_art_prog (
	id_curso_art_prog numeric(38) NOT NULL,
	id_cursos_articulados numeric(38),
	estado char(1),
	id_plan_programa numeric(38)
) ;


DROP TABLE IF EXISTS vin_cur_art_ac_soc;
CREATE TABLE vin_cur_art_ac_soc (
	id_cur_art_ac_soc numeric(38) NOT NULL,
	id_cursos_articulados numeric(38),
	id_tipo_accion_social numeric(38),
	estado char(1),
	horas numeric(38)
) ;


DROP TABLE IF EXISTS vin_cur_art_dim;
CREATE TABLE vin_cur_art_dim (
	id_cur_art_dim numeric(38) NOT NULL,
	id_cursos_articulados numeric(38),
	id_tipo_dimension numeric(38),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_diagnostico_informe;
CREATE TABLE vin_diagnostico_informe (
	id_diagnostico_informe numeric(38) NOT NULL,
	id_diagnostico_institucion numeric(38),
	nombre varchar(400),
	url varchar(4000),
	titulo varchar(200),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_diagnostico_institucion;
CREATE TABLE vin_diagnostico_institucion (
	id_diagnostico_institucion numeric(38) NOT NULL,
	id_ruc varchar(50) NOT NULL,
	serie varchar(100),
	introduccion varchar(4000),
	estado char(1),
	fecha_inicio timestamp(0),
	objetivo varchar(4000),
	alcance varchar(4000),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	fecha_fin timestamp(0)
) ;


DROP TABLE IF EXISTS vin_diagnostico_programa;
CREATE TABLE vin_diagnostico_programa (
	id_diagnostico_programa numeric(38) NOT NULL,
	id_diagnostico_institucion numeric(38),
	id_programa_estudio numeric(38),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_ejes_lineas;
CREATE TABLE vin_ejes_lineas (
	id_ejes_lineas numeric(38) NOT NULL,
	id_parent numeric(38),
	nombre varchar(4000),
	codigo varchar(20),
	descripcion varchar(4000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_formato_plantilla;
CREATE TABLE vin_formato_plantilla (
	id_formato_plantilla numeric(38) NOT NULL,
	nombre varchar(4000),
	codigo varchar(20),
	descripcion varchar(4000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_grupo_actividad;
CREATE TABLE vin_grupo_actividad (
	id_grupo_actividad numeric(38) NOT NULL,
	id_interv_actividad numeric(38),
	nombre varchar(4000),
	descripcion varchar(4000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_grupo_activ_alum;
CREATE TABLE vin_grupo_activ_alum (
	id_grupo_activ_alum numeric(38) NOT NULL,
	id_grupo_actividad numeric(38),
	id_inscripcion_actividad numeric(38),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_grupo_beneficiario;
CREATE TABLE vin_grupo_beneficiario (
	id_grupo_beneficiario numeric(38) NOT NULL,
	id_intervencion numeric(38),
	nombre varchar(4000),
	descripcion varchar(4000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_inscripcion_actividad;
CREATE TABLE vin_inscripcion_actividad (
	id_inscripcion_actividad numeric(38) NOT NULL,
	id_alumno_contrato numeric(38),
	id_interv_rol_participante numeric(38),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_institucion_documento;
CREATE TABLE vin_institucion_documento (
	id_institucion_documento numeric(38) NOT NULL,
	id_diagnostico_institucion numeric(38),
	estado char(1),
	id_tipo_instrumento numeric(38)
) ;


DROP TABLE IF EXISTS vin_institucion_necesidad;
CREATE TABLE vin_institucion_necesidad (
	id_institucion_necesidad numeric(38) NOT NULL,
	id_diagnostico_institucion numeric(38),
	id_ejes_lineas numeric(38),
	descripcion varchar(4000),
	priorizacion numeric(38),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_institucion_participante;
CREATE TABLE vin_institucion_participante (
	id_institucion_participante numeric(38) NOT NULL,
	id_diagnostico_institucion numeric(38),
	id_persona numeric(38),
	id_tipo_rol numeric(38),
	cargo varchar(4000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_inst_doc_instrumento;
CREATE TABLE vin_inst_doc_instrumento (
	id_inst_doc_instrumento numeric(38) NOT NULL,
	id_institucion_documento numeric(38),
	url varchar(4000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_inst_doc_quiz;
CREATE TABLE vin_inst_doc_quiz (
	id_inst_doc_quiz numeric(38) NOT NULL,
	id_institucion_documento numeric(38),
	id_instrumento numeric(38),
	url varchar(4000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_intervencion;
CREATE TABLE vin_intervencion (
	id_intervencion numeric(38) NOT NULL,
	id_iniciativa numeric(38),
	id_tipo_accion_social numeric(38),
	id_semestre numeric(38),
	id_proyecto numeric(38),
	es_multidisciplinario char(1),
	estado char(1),
	introduccion varchar(4000),
	objetivo varchar(4000),
	alcance varchar(4000),
	poa char(1),
	id_diagnostico_institucion numeric(38),
	id_programa_estudio numeric(38),
	nombre varchar(200),
	lugar varchar(4000)
) ;


DROP TABLE IF EXISTS vin_interv_actividad;
CREATE TABLE vin_interv_actividad (
	id_interv_actividad numeric(38) NOT NULL,
	id_intervencion numeric(38),
	nombre varchar(4000),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	estado char(1),
	hora_inicio varchar(20),
	hora_fin varchar(20)
) ;


DROP TABLE IF EXISTS vin_interv_beneficiario;
CREATE TABLE vin_interv_beneficiario (
	id_interv_beneficiario numeric(38) NOT NULL,
	id_grupo_beneficiario numeric(38),
	id_persona numeric(38),
	estado char(1),
	id_tipo_beneficiario numeric(38),
	id_intervencion numeric(38)
) ;


DROP TABLE IF EXISTS vin_interv_cur_art;
CREATE TABLE vin_interv_cur_art (
	id_interv_cur_art numeric(38) NOT NULL,
	id_intervencion numeric(38),
	id_cursos_articulados numeric(38),
	id_carga_curso numeric(38),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_interv_documento;
CREATE TABLE vin_interv_documento (
	id_interv_documento numeric(38) NOT NULL,
	id_interv_actividad numeric(38),
	url varchar(4000),
	estado char(1),
	nombre varchar(4000)
) ;


DROP TABLE IF EXISTS vin_interv_necesidad;
CREATE TABLE vin_interv_necesidad (
	id_interv_necesidad numeric(38) NOT NULL,
	id_intervencion numeric(38),
	id_institucion_necesidad numeric(38),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_interv_personal;
CREATE TABLE vin_interv_personal (
	id_interv_personal numeric(38) NOT NULL,
	id_intervencion numeric(38),
	id_persona numeric(38),
	id_tipo_rol numeric(38),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_interv_programa;
CREATE TABLE vin_interv_programa (
	id_interv_programa numeric(38) NOT NULL,
	id_intervencion numeric(38),
	id_programa_estudio numeric(38),
	es_principal char(1),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_interv_rol_participante;
CREATE TABLE vin_interv_rol_participante (
	id_interv_rol_participante numeric(38) NOT NULL,
	id_interv_actividad numeric(38),
	descripcion varchar(4000),
	cupos numeric(38),
	horas numeric(38),
	estado char(1),
	id_tipo_rol numeric(38)
) ;


DROP TABLE IF EXISTS vin_justificacion;
CREATE TABLE vin_justificacion (
	id_justificacion bigint NOT NULL,
	id_asist_interv_det bigint,
	motivo varchar(1000),
	url varchar(1000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_plantilla_informe;
CREATE TABLE vin_plantilla_informe (
	id_plantilla_informe numeric(38) NOT NULL,
	id_formato_plantilla numeric(38),
	id_semestre numeric(38),
	nombre varchar(4000),
	marca_agua varchar(20),
	tiene_denominacion char(1),
	nombre_denominacion varchar(4000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_proyecto;
CREATE TABLE vin_proyecto (
	id_proyecto numeric(38) NOT NULL,
	id_semestre numeric(38),
	id_programa_estudio numeric(38),
	nombre varchar(4000),
	objetivo_general varchar(4000),
	objetivo_especifico varchar(4000),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	estado char(1),
	id_ruc varchar(50)
) ;


DROP TABLE IF EXISTS vin_proyectos_lineas;
CREATE TABLE vin_proyectos_lineas (
	id_proyectos_lineas numeric(38) NOT NULL,
	id_tipo_proyectos numeric(38),
	estado char(1),
	id_ejes_lineas numeric(38)
) ;


DROP TABLE IF EXISTS vin_proy_lin_ac_soc;
CREATE TABLE vin_proy_lin_ac_soc (
	id_proy_lin_ac_soc numeric(38) NOT NULL,
	id_proyectos_lineas numeric(38),
	id_tipo_accion_social numeric(38),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_proy_lin_ejes;
CREATE TABLE vin_proy_lin_ejes (
	id_proy_lin_ejes numeric(38) NOT NULL,
	id_proyectos_lineas numeric(38),
	id_ejes_lineas numeric(38),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_proy_lin_prog;
CREATE TABLE vin_proy_lin_prog (
	id_proy_lin_prog numeric(38) NOT NULL,
	id_proyectos_lineas numeric(38),
	id_escuela numeric(38),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_relacion_grupos;
CREATE TABLE vin_relacion_grupos (
	id_relacion_grupos numeric(38) NOT NULL,
	id_grupo_actividad numeric(38),
	id_grupo_beneficiario numeric(38),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_secciones_plantilla;
CREATE TABLE vin_secciones_plantilla (
	id_secciones_plantilla numeric(38) NOT NULL,
	id_plantilla_informe numeric(38),
	nombre varchar(4000),
	descripcion varchar(4000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_tipo_accion_social;
CREATE TABLE vin_tipo_accion_social (
	id_tipo_accion_social numeric(38) NOT NULL,
	nombre varchar(4000),
	codigo varchar(20),
	descripcion varchar(4000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_tipo_beneficiario;
CREATE TABLE vin_tipo_beneficiario (
	id_tipo_beneficiario numeric(38) NOT NULL,
	nombre varchar(4000),
	codigo varchar(20),
	descripcion varchar(4000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_tipo_dimension;
CREATE TABLE vin_tipo_dimension (
	id_tipo_dimension numeric(38) NOT NULL,
	nombre varchar(4000),
	codigo varchar(20),
	descripcion varchar(4000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_tipo_institucion;
CREATE TABLE vin_tipo_institucion (
	id_tipo_institucion numeric(38) NOT NULL,
	id_ubigeo numeric(38),
	nombre varchar(4000),
	serie varchar(20),
	direccion varchar(4000),
	nombre_contacto varchar(4000),
	apellido_contacto varchar(4000),
	celular_contacto varchar(4000),
	email_contacto varchar(4000),
	descripcion varchar(4000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_tipo_instrumento;
CREATE TABLE vin_tipo_instrumento (
	id_tipo_instrumento numeric(38) NOT NULL,
	nombre varchar(4000),
	codigo varchar(20),
	icono varchar(4000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_tipo_proyectos;
CREATE TABLE vin_tipo_proyectos (
	id_tipo_proyectos numeric(38) NOT NULL,
	nombre varchar(4000),
	codigo varchar(20),
	descripcion varchar(4000),
	estado char(1)
) ;


DROP TABLE IF EXISTS vin_tipo_rol;
CREATE TABLE vin_tipo_rol (
	id_tipo_rol numeric(38) NOT NULL,
	nombre varchar(4000),
	codigo varchar(20),
	descripcion varchar(4000),
	estado char(1),
	id_tipo_docente numeric(38)
) ;
