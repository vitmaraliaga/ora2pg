-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = eliseo,public;
\set ON_ERROR_STOP ON





CREATE OR REPLACE FUNCTION eliseo.fc_get_llave_componente (P_ID_REGISTRO bigint, P_ID_PASO bigint, P_ESTADO text) RETURNS varchar AS $body$
DECLARE

  l_RETURNA varchar(50) := '';

BEGIN
  SELECT
    PROCESS_COMPONENTE.LLAVE INTO STRICT l_RETURNA
  FROM
    PROCESS_PASO_RUN
    INNER JOIN PROCESS_COMPONENTE_PASO
    ON PROCESS_PASO_RUN.ID_PASO=PROCESS_COMPONENTE_PASO.ID_PASO
    INNER JOIN PROCESS_COMPONENTE
    ON PROCESS_COMPONENTE_PASO.ID_COMPONENTE=PROCESS_COMPONENTE.ID_COMPONENTE
  WHERE
    PROCESS_PASO_RUN.ID_REGISTRO=P_ID_REGISTRO
    AND PROCESS_PASO_RUN.ID_PASO=P_ID_PASO
    AND PROCESS_PASO_RUN.ESTADO=P_ESTADO  LIMIT 1;
  RETURN l_RETURNA;
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION eliseo.fc_get_llave_componente (P_ID_REGISTRO bigint, P_ID_PASO bigint, P_ESTADO text) FROM PUBLIC;

