-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = eliseo,public;
\set ON_ERROR_STOP ON





CREATE OR REPLACE PROCEDURE eliseo.sp_audit_tabla_del ( P_tabla text, P_id text, P_idvalor text, p_idpersona integer, P_ip text, P_columna text, P_actual text ) AS $body$
DECLARE


s_columna tablastring;
s_anterior tablastring;
s_actual tablastring;



BEGIN

    select FC_SPLIT(P_columna,'|') into STRICT s_columna;
    select FC_SPLIT(P_actual,'|') into STRICT s_actual;
    
    CALL sp_audit_tabla( P_tabla, P_id,P_idvalor,p_idpersona,P_ip,'D',s_columna,s_anterior,s_actual);

   
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE eliseo.sp_audit_tabla_del ( P_tabla text, P_id text, P_idvalor text, p_idpersona integer, P_ip text, P_columna text, P_actual text ) FROM PUBLIC;

