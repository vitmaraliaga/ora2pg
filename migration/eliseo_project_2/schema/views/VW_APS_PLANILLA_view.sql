-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = eliseo,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_aps_planilla (id_empresa, id_tipocontrato, id_entidad, id_persona, id_contrato, id_anho, id_mes, id_depto, id_tipoestatus, id_sistemapension, nom_cargo, num_dias, num_horas, num_horasextra, num_diasvac, es_confianza, es_misionero, fmr, id_tipoplanilla, id_conceptoaps, cos_referencia1, cos_referencia2, cos_referencia3, fec_pago, fec_salida, fec_retorno, comentario, cos_valor, fec_termino) AS SELECT
  CONTA_ENTIDAD.ID_EMPRESA,
  APS_EMPLEADO.ID_TIPOCONTRATO,
  APS_PLANILLA.ID_ENTIDAD,
  APS_PLANILLA.ID_PERSONA,
  APS_PLANILLA.ID_CONTRATO,
  APS_PLANILLA.ID_ANHO,
  APS_PLANILLA.ID_MES,
  APS_PLANILLA.ID_DEPTO,
  APS_PLANILLA.ID_TIPOESTATUS,
  APS_PLANILLA.ID_SISTEMAPENSION,
  APS_PLANILLA.NOM_CARGO,
  APS_PLANILLA.NUM_DIAS,
  APS_PLANILLA.NUM_HORAS,
  APS_PLANILLA.NUM_HORASEXTRA,
  APS_PLANILLA.NUM_DIASVAC,
  APS_PLANILLA.ES_CONFIANZA,
  APS_PLANILLA.ES_MISIONERO,
  APS_PLANILLA.FMR,
  APS_PLANILLA_Detalle.ID_TIPOPLANILLA,
  APS_PLANILLA_Detalle.ID_CONCEPTOAPS,
  APS_PLANILLA_Detalle.COS_REFERENCIA1,
  APS_PLANILLA_Detalle.COS_REFERENCIA2,
  APS_PLANILLA_Detalle.COS_REFERENCIA3,
  APS_PLANILLA_Detalle.FEC_PAGO,
  APS_PLANILLA_Detalle.FEC_SALIDA,
  APS_PLANILLA_Detalle.FEC_RETORNO,
  APS_PLANILLA_Detalle.COMENTARIO,
  CAST(APS_PLANILLA_Detalle.COS_VALOR AS decimal(19, 2)) AS COS_VALOR,
  APS_EMPLEADO.FEC_TERMINO
FROM CONTA_ENTIDAD
INNER JOIN APS_EMPLEADO ON
  CONTA_ENTIDAD.ID_ENTIDAD = APS_EMPLEADO.ID_ENTIDAD
INNER JOIN APS_PLANILLA ON
  APS_EMPLEADO.ID_ENTIDAD = APS_PLANILLA.ID_ENTIDAD AND
  APS_EMPLEADO.ID_PERSONA = APS_PLANILLA.ID_PERSONA AND
  APS_EMPLEADO.ID_CONTRATO = APS_PLANILLA.ID_CONTRATO
INNER JOIN APS_PLANILLA_Detalle ON
  APS_PLANILLA.ID_ENTIDAD = APS_PLANILLA_Detalle.ID_ENTIDAD AND
  APS_PLANILLA.ID_ANHO = APS_PLANILLA_Detalle.ID_ANHO AND
  APS_PLANILLA.ID_MES = APS_PLANILLA_Detalle.ID_MES AND
  APS_PLANILLA.ID_PERSONA = APS_PLANILLA_Detalle.ID_PERSONA AND
  APS_PLANILLA.ID_CONTRATO = APS_PLANILLA_Detalle.ID_CONTRATO;

