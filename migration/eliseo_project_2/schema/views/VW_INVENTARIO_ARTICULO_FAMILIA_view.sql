-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = eliseo,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_inventario_articulo_familia (id_articulo, grupo, parents, segmento, familia, clase, producto, nombre) AS SELECT E.ID_ARTICULO,A.CODIGO GRUPO,A.NOMBRE AS PARENTS,B.CODIGO AS SEGMENTO,C.CODIGO AS FAMILIA,D.CODIGO AS CLASE,E.CODIGO AS PRODUCTO,E.NOMBRE
FROM INVENTARIO_ARTICULO A JOIN INVENTARIO_ARTICULO B
ON A.ID_ARTICULO = B.ID_PARENT
JOIN INVENTARIO_ARTICULO C
ON B.ID_ARTICULO = C.ID_PARENT
JOIN INVENTARIO_ARTICULO D
ON C.ID_ARTICULO = D.ID_PARENT
JOIN INVENTARIO_ARTICULO E
ON D.ID_ARTICULO = E.ID_PARENT
AND E.ID_CLASE = 5
GROUP BY E.ID_ARTICULO,A.CODIGO,A.NOMBRE,B.CODIGO,C.CODIGO,D.CODIGO,E.CODIGO,E.NOMBRE
ORDER BY GRUPO,SEGMENTO,FAMILIA,NOMBRE;

