-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';
SET search_path = eliseo,pkg_presupuesto,public;




CREATE OR REPLACE PROCEDURE eliseo.pkg_presupuesto_sp_generar_proceso (P_ID_ENTIDAD bigint,P_ID_DEPTO_PADRE text,P_ID_ANHO bigint,P_ID_AUXILIAR bigint,P_TIPO text,P_ERROR OUT bigint,P_MSGERROR out text) AS $body$
DECLARE

    l_error bigint:=0;
    l_msgerror varchar(200):='';
    l_contar bigint;


BEGIN
    
      --pkg_presupuesto_sp_pregrado_concepto_precio(P_ID_ENTIDAD,P_ID_DEPTO_PADRE,P_ID_ANHO,P_ID_AUXILIAR,l_error,l_msgerror);
      if P_TIPO='RE' then 
         CALL pkg_presupuesto_sp_residencia_proceso(P_ID_ENTIDAD,P_ID_DEPTO_PADRE,P_ID_ANHO,P_ID_AUXILIAR,l_error,l_msgerror);
      ELSIF P_TIPO='CS' THEN
         CALL pkg_presupuesto_sp_conservatorio_proceso(P_ID_ENTIDAD,P_ID_DEPTO_PADRE,P_ID_ANHO,P_ID_AUXILIAR,l_error,l_msgerror);
      ELSIF P_TIPO='PG' THEN
         CALL pkg_presupuesto_sp_pregrado_concepto_precio(P_ID_ENTIDAD,P_ID_DEPTO_PADRE,P_ID_ANHO,P_ID_AUXILIAR ,l_error,l_msgerror);
      ELSIF P_TIPO='ID' THEN
         CALL pkg_presupuesto_sp_idiomas_proceso(P_ID_ENTIDAD,P_ID_DEPTO_PADRE ,P_ID_ANHO ,P_ID_AUXILIAR,l_error,l_msgerror);
      else

         CALL pkg_presupuesto_sp_pregrado_concepto_precio(P_ID_ENTIDAD,P_ID_DEPTO_PADRE,P_ID_ANHO,P_ID_AUXILIAR ,l_error,l_msgerror);
        if P_TIPO='PR' then
           CALL pkg_presupuesto_sp_proesad_proyeccion(P_ID_ENTIDAD,P_ID_DEPTO_PADRE,P_ID_ANHO,P_ID_AUXILIAR,l_error,l_msgerror);
           CALL pkg_presupuesto_sp_proesad_proceso(P_ID_ENTIDAD,P_ID_DEPTO_PADRE,P_ID_ANHO,P_ID_AUXILIAR,l_error,l_msgerror);
        else
           CALL pkg_presupuesto_sp_pregrado_proyeccion(P_ID_ENTIDAD,P_ID_DEPTO_PADRE,P_ID_ANHO,P_ID_AUXILIAR,l_error,l_msgerror);
           CALL pkg_presupuesto_sp_pregrado_proceso(P_ID_ENTIDAD,P_ID_DEPTO_PADRE,P_ID_ANHO,P_ID_AUXILIAR,l_error,l_msgerror);
        end if;
     end if;
      P_ERROR:=l_error;
      P_MSGERROR:=l_msgerror;
    END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE eliseo.pkg_presupuesto_sp_generar_proceso (P_ID_ENTIDAD bigint,P_ID_DEPTO_PADRE text,P_ID_ANHO bigint,P_ID_AUXILIAR bigint,P_TIPO text,P_ERROR OUT bigint,P_MSGERROR out text) FROM PUBLIC;
