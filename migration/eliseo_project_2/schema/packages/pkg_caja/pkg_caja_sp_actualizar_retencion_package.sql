-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';
SET search_path = eliseo,pkg_caja,public;




CREATE OR REPLACE PROCEDURE eliseo.pkg_caja_sp_actualizar_retencion (P_ID_RETENCION bigint,P_ID_CTABANCARIA bigint,P_ID_CHEQUERA bigint,P_ID_MONEDA bigint,P_NUMERO text,P_ERROR OUT bigint,P_MSGERROR out text) AS $body$
DECLARE

        L_ID_CTABANCARIA bigint := null;
        L_ID_CHEQUERA bigint :=null;

BEGIN
        IF coalesce(P_ID_CTABANCARIA::text, '') = '' OR P_ID_CTABANCARIA = 0 THEN
            L_ID_CTABANCARIA:=null;
        END IF;
        IF coalesce(P_ID_CHEQUERA::text, '') = '' OR P_ID_CHEQUERA = 0 THEN
            L_ID_CHEQUERA:=null;
        END IF;
        UPDATE CAJA_RETENCION SET   ID_CTABANCARIA = L_ID_CTABANCARIA,
                                    ID_CHEQUERA = L_ID_CHEQUERA,
                                    ID_MONEDA = P_ID_MONEDA,
                                    NUMERO = P_NUMERO
        WHERE ID_RETENCION = P_ID_RETENCION;
        P_ERROR := 0;
        P_MSGERROR := 'PAGO FINALIZADO CON EXITO';
    END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE eliseo.pkg_caja_sp_actualizar_retencion (P_ID_RETENCION bigint,P_ID_CTABANCARIA bigint,P_ID_CHEQUERA bigint,P_ID_MONEDA bigint,P_NUMERO text,P_ERROR OUT bigint,P_MSGERROR out text) FROM PUBLIC;
