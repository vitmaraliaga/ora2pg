-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';
SET search_path = eliseo,pkg_caja,public;




CREATE OR REPLACE PROCEDURE eliseo.pkg_caja_sp_crear_pago_asiento (P_ID_PAGO bigint,P_ID_CUENTAAASI text,P_ID_RESTRICCION text,P_ID_CTACTE text,P_ID_FONDO bigint,P_ID_DEPTO text,P_DESCRIPCION text,P_DC text, P_AGRUPA text,P_ERROR OUT bigint,P_MSGERROR OUT text) AS $body$
DECLARE

        L_ID_PASIENTO bigint;
        L_EDITABLE varchar(1) := 'S';
        L_ERROR bigint:=0;

BEGIN
        L_ERROR:=0;
        IF L_ERROR=0 THEN
            SELECT coalesce(MAX(ID_PASIENTO),0)+1 INTO STRICT L_ID_PASIENTO FROM CAJA_PAGO_ASIENTO;
            INSERT INTO CAJA_PAGO_ASIENTO(ID_PASIENTO,ID_PAGO,ID_CUENTAAASI,ID_RESTRICCION,ID_CTACTE,ID_FONDO,ID_DEPTO,DESCRIPCION,EDITABLE,DC,AGRUPA)
            VALUES (L_ID_PASIENTO,P_ID_PAGO,P_ID_CUENTAAASI,P_ID_RESTRICCION,P_ID_CTACTE,P_ID_FONDO,P_ID_DEPTO,P_DESCRIPCION,L_EDITABLE,P_DC,P_AGRUPA);
        END IF;
        P_ERROR:=L_ERROR;
        P_MSGERROR :='OK';
    END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE eliseo.pkg_caja_sp_crear_pago_asiento (P_ID_PAGO bigint,P_ID_CUENTAAASI text,P_ID_RESTRICCION text,P_ID_CTACTE text,P_ID_FONDO bigint,P_ID_DEPTO text,P_DESCRIPCION text,P_DC text, P_AGRUPA text,P_ERROR OUT bigint,P_MSGERROR OUT text) FROM PUBLIC;
