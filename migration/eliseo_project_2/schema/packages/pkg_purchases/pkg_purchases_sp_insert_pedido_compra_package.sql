-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';
SET search_path = eliseo,pkg_purchases,public;

    -- 
CREATE OR REPLACE PROCEDURE eliseo.pkg_purchases_sp_insert_pedido_compra ( in_id_pedido bigint, in_id_moneda bigint, in_id_proveedor bigint, in_importe bigint, out_id_pcompra out bigint, out_error out bigint, out_msgerror out text) AS $body$
BEGIN
            out_error := 0;
            out_msgerror := ' ';
            -- 
            --select nvl(max(id_pcompra),0)+1 into out_id_pcompra
            --from pedido_compra;
            --
            insert into pedido_compra(
              --id_pcompra,
              id_pedido,
              id_moneda,
              id_proveedor,
              importe
            )
            values (
              --out_id_pcompra,
              in_id_pedido,
              in_id_moneda,
              in_id_proveedor,
              in_importe
            ) returning id_pcompra into out_id_pcompra;

    END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE eliseo.pkg_purchases_sp_insert_pedido_compra ( in_id_pedido bigint, in_id_moneda bigint, in_id_proveedor bigint, in_importe bigint, out_id_pcompra out bigint, out_error out bigint, out_msgerror out text) FROM PUBLIC;
