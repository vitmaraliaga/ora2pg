-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = eliseo,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vwt_plan_alumno_simulador (id_escuela, id_persona, codigo, alumno, sexo, sede, nombre_facultad, nombre_escuela, modalidad_estudio, id_modalidad_estudio) AS select  d.ID_ESCUELA,a.ID_PERSONA,eliseo.FC_CODIGO_ALUMNO(a.ID_PERSONA)CODIGO,ELISEO.FC_NOMBRE_CLIENTE(a.ID_PERSONA) AS ALUMNO,decode(e.sexo,'1','M','2','F') AS SEXO,
        d.SEDE,
        d.NOMBRE_FACULTAD,
        d.NOMBRE_ESCUELA,
        d.MODALIDAD_ESTUDIO,
        d.ID_MODALIDAD_ESTUDIO
         FROM DAVID.acad_alumno_plan a inner join MOISES.PERSONA_NATURAL e   on a.ID_PERSONA=e.id_persona
    inner join DAVID.acad_plan_programa b on b.id_plan_programa =a.id_plan_programa  
    inner join DAVID.vw_acad_programa_estudio d on  d.id_programa_estudio= b.id_programa_estudio
    where  a.estado = '1';

