-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = eliseo,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_area_depto (area_padre, id_area_padre, area, id_area, id_depto, departamento, id_entidad, estado_depto, estado_padre, estado_area, id_depto_area, id_parent, id_tipo_area, id_tipo_depto) AS SELECT              
  A.NOMBRE AS AREA_PADRE,
  A.ID_AREA AS ID_AREA_PADRE,
  B.NOMBRE AS AREA,
  B.ID_AREA,
  C.ID_DEPTO,
  D.NOMBRE AS DEPARTAMENTO,
  C.ID_ENTIDAD,
  C.ESTADO AS ESTADO_DEPTO,
  A.ESTADO AS ESTADO_PADRE,
  B.ESTADO AS ESTADO_AREA,
  B.ID_DEPTO AS ID_DEPTO_AREA,
  B.ID_PARENT,
  B.ID_TIPO_AREA,
  C.ID_TIPO_DEPTO
FROM PSTO_AREA A,PSTO_AREA B,PSTO_AREA_DEPTO C,CONTA_ENTIDAD_DEPTO  D
WHERE A.ID_AREA=B.ID_PARENT
AND B.ID_AREA=C.ID_AREA
AND C.ID_ENTIDAD=D.ID_ENTIDAD
AND C.ID_DEPTO=D.ID_DEPTO;

