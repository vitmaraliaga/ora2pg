-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = eliseo,public;
\set ON_ERROR_STOP ON

FUNCTION FC_TOTAL_LOTE_DIARIO(P_ID_ANHO NUMBER, P_ID_MES NUMBER,P_ID_TIPOASIENTO VARCHAR2, P_LOTE NUMBER, P_CUENTA VARCHAR2) RETURN NUMBER AS
L_SALDO NUMBER(10,2);
BEGIN
        SELECT 
        SUM(COS_VALOR) AS IMP INTO L_SALDO
        FROM CONTA_DIARIO A,CONTA_DIARIO_DETALLE B
        WHERE A.ID_ENTIDAD = B.ID_ENTIDAD
        AND A.ID_DIARIO = B.ID_DIARIO
        AND A.ID_ENTIDAD = 7124
        AND A.ID_ANHO = P_ID_ANHO
        AND A.ID_MES = P_ID_MES
        AND A.ID_TIPOASIENTO = P_ID_TIPOASIENTO
        AND A.COD_AASI = P_LOTE
        AND B.ID_CUENTAAASI = P_CUENTA;

        RETURN(L_SALDO);

END;

