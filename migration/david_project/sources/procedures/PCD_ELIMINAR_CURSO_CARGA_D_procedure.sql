-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = david,public;
\set ON_ERROR_STOP ON

procedure    pcd_eliminar_curso_carga_d(p_id_carga_curso integer)
--[dlp]
is
begin

delete david.ACAD_CARGA_CURSO_FUNDAMENTO accf where id_carga_curso=p_id_carga_curso;
commit;

delete DAVID.ACAD_CARGA_SUMILLA where id_carga_curso=p_id_carga_curso;
commit;

delete DAVID.ACAD_CARGA_INSTRUMENTO aci
WHERE ID_CARGA_UNID_RA_EV IN (SELECT ID_CARGA_UNID_RA_EV FROM DAVID.ACAD_CARGA_UNIDAD a
    inner join david.ACAD_CARGA_UNIDAD_RA b on a.ID_CARGA_UNIDAD=b.ID_CARGA_UNIDAD
    inner join david.ACAD_CARGA_UNID_RA_EV c on c.ID_CARGA_UNIDAD_RA=b.ID_CARGA_UNIDAD_RA
where a.id_carga_curso =p_id_carga_curso);
commit;

delete DAVID.ACAD_CARGA_UNID_RA_EV acure
WHERE ID_CARGA_UNIDAD_RA IN (SELECT ID_CARGA_UNIDAD_RA FROM DAVID.ACAD_CARGA_UNIDAD a
    inner join david.ACAD_CARGA_UNIDAD_RA b on a.ID_CARGA_UNIDAD=b.ID_CARGA_UNIDAD
where a.id_carga_curso =p_id_carga_curso);
commit;

delete DAVID.ACAD_CARGA_UNIDAD_RA acur
WHERE ID_CARGA_UNIDAD IN (SELECT ID_CARGA_UNIDAD FROM DAVID.ACAD_CARGA_UNIDAD
where id_carga_curso=p_id_carga_curso);
commit;

delete david.ACAD_CARGA_TEMA_ANEXO acta
WHERE ID_CARGA_UNIDAD IN (SELECT ID_CARGA_UNIDAD FROM DAVID.ACAD_CARGA_UNIDAD
where id_carga_curso =p_id_carga_curso);
commit;

delete DAVID.ACAD_CARGA_UNIDAD where id_carga_curso =p_id_carga_curso;
commit;

delete DAVID.ACAD_CARGA_TEMA where id_carga_curso =p_id_carga_curso;
commit;

delete DAVID.ACAD_CARGA_EVALUACION where id_carga_curso=p_id_carga_curso;
commit;

delete DAVID.ACAD_CARGA_BIBLIOGRAFIA where id_carga_curso=p_id_carga_curso;
commit;

delete DAVID.ACAD_CARGA_ENLACE where id_carga_curso=p_id_carga_curso;
commit;

delete david.ACAD_DOC_ASISTENCIA ada WHERE ID_CARGA_CURSO_DOCENTE
in (select ID_CARGA_CURSO_DOCENTE from david.acad_carga_curso_docente where id_carga_curso=p_id_carga_curso);
commit;

delete enoc.PLLA_ASISTENCIA_CARGA pac WHERE ID_CARGA_CURSO_DOCENTE
in (select ID_CARGA_CURSO_DOCENTE from david.acad_carga_curso_docente where id_carga_curso=p_id_carga_curso);
commit;

delete david.ACAD_ASISTENCIA aa WHERE ID_CARGA_CURSO_DOCENTE
in (select ID_CARGA_CURSO_DOCENTE from david.acad_carga_curso_docente where id_carga_curso=p_id_carga_curso);
commit;

delete david.acad_carga_curso_docente where id_carga_curso=p_id_carga_curso;
commit;

delete david.ACAD_ASISTENCIA_DET aad WHERE ID_ASISTENCIA =p_id_carga_curso;

delete david.ACAD_CURSO_VARIACION WHERE ID_CARGA_CURSO=p_id_carga_curso;
commit;

delete david.ACAD_ALUMNO_CONTRATO_CURSO where ID_CURSO_ALUMNO in (
select david.ACAD_CURSO_ALUMNO.ID_CURSO_ALUMNO from   david.acad_curso_alumno where ID_CARGA_CURSO=p_id_carga_curso
);
commit;

delete david.acad_curso_alumno where ID_CARGA_CURSO =p_id_carga_curso;
commit;

delete david.ACAD_CARGA_CURSO_RES_AP where ID_CARGA_CURSO=p_id_carga_curso;
commit;

delete david.ACAD_CARGA_CURSO_DET WHERE ID_CARGA_CURSO=p_id_carga_curso;
commit;

delete david.acad_carga_curso where id_carga_curso=p_id_carga_curso;
commit;

end;

