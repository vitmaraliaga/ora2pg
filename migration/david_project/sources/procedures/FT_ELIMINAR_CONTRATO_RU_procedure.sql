-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = david,public;
\set ON_ERROR_STOP ON

procedure ft_eliminar_contrato_ru
 is
  
  cursor contrato is
  select id_alumno_contrato from Vw_Acad_Alumno_Contrato
where id_semestre=221 and Id_Nivel_Ensenanza=2 and estado<>'1' and Id_Alumno_Contrato<>498595
and codigo in ('202320884',
'202321001',
'201410366',
'202321110',
'201610390',
'200810661',
'201811737',
'9010028',
'200910410',
'201710392',
'201121575',
'202313522',
'202211156',
'201521025',
'201610907',
'202321420',
'200720193',
'202321428',
'9920156',
'201210821',
'201520956',
'202313489',
'201810358',
'202321438',
'202118981',
'200720596',
'201221731',
'202321447',
'200411097',
'202212410',
'201222195',
'202321433',
'202321435',
'202321440',
'202321535',
'202321538',
'9620046',
'200410016',
'202321434',
'202211122',
'201510442',
'202313530',
'202313487',
'202313500');
  /*select id_alumno_contrato
  from Acad_Alumno_Contrato_Curso where Id_Tipo_Movimiento_Var is not null and Id_Curso_Alumno in (
SELECT Id_Curso_Alumno FROM DAVID.ACAD_CURSO_ALUMNO WHERE estado not in ('1') and ID_CARGA_CURSO IN (
SELECT ID_CARGA_CURSO FROM DAVID.VW_ACAD_CARGA_ACADEMICA WHERE ID_NIVEL_ENSENANZA = 9 and id_semestre<>199
)
AND ID_TIPO_CONDICION IN (7) 
);*/
    
 begin 
 
    for cc in contrato loop
      pcd_anular_contrato_alumno_n(cc.id_alumno_contrato);
    end loop;

 end;

