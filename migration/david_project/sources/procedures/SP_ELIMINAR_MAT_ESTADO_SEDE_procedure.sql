-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = david,public;
\set ON_ERROR_STOP ON

PROCEDURE       SP_ELIMINAR_MAT_ESTADO_SEDE(P_ID_SEMESTRE IN INTEGER, P_ID_NIVEL_ENSENANZA IN INTEGER, P_ID_TIPO_CONTRATO IN INTEGER, P_ID_MODO_CONTRATO IN INTEGER,
P_ID_SEDE IN INTEGER, P_ESTADO IN VARCHAR2, P_ID_PROGRAMA_ESTUDIO IN INTEGER)
IS
	CURSOR CONTRATO IS
	SELECT AAC.ID_ALUMNO_CONTRATO
	FROM VW_ACAD_ALUMNO_CONTRATO AAC
	WHERE AAC.ID_MODO_CONTRATO=P_ID_MODO_CONTRATO
	AND AAC.ESTADO=P_ESTADO
	AND AAC.ID_TIPO_CONTRATO=P_ID_TIPO_CONTRATO
	AND AAC.ID_NIVEL_ENSENANZA=P_ID_NIVEL_ENSENANZA
	AND AAC.ID_SEMESTRE=P_ID_SEMESTRE
	AND AAC.ID_SEDE=P_ID_SEDE
	AND AAC.ID_PROGRAMA_ESTUDIO=P_ID_PROGRAMA_ESTUDIO
;
BEGIN
	FOR CC IN CONTRATO LOOP
		PCD_ANULAR_CONTRATO_ALUMNO_N(CC.ID_ALUMNO_CONTRATO);
	END LOOP;
	
END SP_ELIMINAR_MAT_ESTADO_SEDE;

