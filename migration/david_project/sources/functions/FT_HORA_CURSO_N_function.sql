-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = david,public;
\set ON_ERROR_STOP ON

FUNCTION       ft_HORA_CURSO_N(HORARIO VARCHAR2,DIA VARCHAR2)
RETURN INTEGER IS

corte INTEGER :=1;
hora INTEGER :=0;
val VARCHAR2(200);
var VARCHAR2(200);


BEGIN
        
  FOR i IN 1..30 LOOP
  
      val := SUBSTR(HORARIO,corte ,corte+7); 
      
      var := substr(val,DIA,1);
      
      IF var ='1' THEN
      hora:=hora+1;
      end if;
      
      corte:=corte+7;
      
  END LOOP;
          

RETURN hora;
END;

