-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = david,public;
\set ON_ERROR_STOP ON

FUNCTION       ft_tiene_electivos(
    p_id_plan_curso IN NUMBER,
    p_id_plan IN NUMBER    
    
) 
RETURN number
IS
    r_numero number;
   
BEGIN

	SELECT count(1) AS contador INTO r_numero 
	FROM VW_ACAD_CURSO_PLAN vacp 
		WHERE ID_PLAN = p_id_plan AND ID_PLAN_CURSO = p_id_plan_curso AND  ID_PLAN_CURSO IN (
		SELECT ID_PLAN_CURSO_ELECTIVO 
		FROM VW_ACAD_CURSO_PLAN vacp2  
		WHERE id_plan= p_id_plan AND ID_PLAN_CURSO_ELECTIVO IS NOT NULL
	);

    RETURN r_numero;
END;

