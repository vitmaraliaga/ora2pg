-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = david,public;
\set ON_ERROR_STOP ON

FUNCTION FT_ACAD_SILABO_METODOLOGIA 

(

  V_ID_CARGA_TEMA IN NUMBER 

) RETURN VARCHAR2 AS 

p_metodologia varchar2(9000);

BEGIN

    select LISTAGG(decode(am.codigo ,'TO',nvl(acm.DESCRIPCION,'Otros') ,am.NOMBRE ), ', ') WITHIN GROUP (ORDER BY am.nombre) into p_metodologia

    from Acad_Curso_Metodologia acm inner join Acad_Metodologia am on Am.Id_Metodologia=Acm.Id_Metodologia

    where acm.Id_Carga_Tema=V_ID_CARGA_TEMA; --and acm.tipo=2;
    RETURN p_metodologia;

END FT_ACAD_SILABO_METODOLOGIA;

