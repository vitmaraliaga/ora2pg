-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = david,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_turno_div (id_turno, id_escola, descricao, anio) AS select Distinct tt.Id_Tipo_Turno id_turno,ape.Id_Facultad id_Escola,tt.Nombre descricao,substr(asm.semestre,0,4) anio
FROM vw_Acad_Programa_Estudio ape inner join Acad_Semestre_Programa asp on asp.Id_Programa_Estudio=ape.Id_Programa_Estudio
inner join acad_semestre asm on asm.id_semestre=asp.id_semestre
inner join Acad_Horario ah on ah.Id_Horario=asp.Id_Horario
inner join Acad_Horario_Detalle ahd on Ahd.Id_Horario=ah.Id_Horario
inner join Tipo_Turno tt on tt.Id_Tipo_Turno=Ahd.Id_Tipo_Turno
inner join ELISEO.Org_Area oa on Oa.Id_Area=ape.Id_Facultad
where ape.id_nivel_ensenanza in (1,2) and ape.Id_Facultad not in (676,777,150,673,309,308)
order by substr(asm.semestre,0,4),ape.Id_Facultad, tt.Id_Tipo_Turno;

