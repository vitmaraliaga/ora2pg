-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = david,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_acad_curso_alumno (id_persona, id_curso_alumno, id_carga_curso, nombre_curso, nombre_docente, credito, ht, hp, hnp, id_sede, sede, id_facultad, nombre_facultad, id_escuela, nombre_escuela, ciclo, grupo, id_curso_modo, curso_modo, id_tipo_condicion, promedio, logro, alcanzado, nombre_docente_practica, nombre_practica, codigo_practica, id_carga_curso_docente, semestre, id_semestre, id_plan_programa, id_semestre_programa, estado, id_programa_estudio, id_curso_detalle, id_plan_curso, id_nivel_ensenanza, fecha_registro) AS select aca.id_persona, aca.Id_Curso_Alumno,acc.id_carga_curso,ac.nombre nombre_curso,ft_profesor_teoria(aca.Id_Carga_Curso) nombre_docente, 
acd.credito, acd.ht, acd.hp, acd.hnp, vape.id_sede,vape.sede,vape.Id_Facultad, vape.Nombre_Facultad, vape.Id_Escuela, vape.Nombre_Escuela,
nvl(Apc.Ciclo,ft_ciclo_curso_persona(aca.id_persona,aca.id_curso_detalle)) ciclo , acc.grupo,acc.id_curso_modo,acm.nombre curso_modo,
aca.id_tipo_condicion, aca.promedio, aca.Logro, aca.Alcanzado,
trim(P.Paterno||' '||P.Materno||' '||P.Nombre) nombre_docente_practica, 
th.Nombre nombre_practica, th.Codigo codigo_practica, Accd.Id_Carga_Curso_Docente,
asm.semestre, asm.id_semestre, aca.Id_Plan_Programa, asp.ID_SEMESTRE_PROGRAMA, aca.estado, vape.id_programa_estudio,
acd.id_curso_detalle,aca.Id_Plan_Curso,vape.Id_Nivel_Ensenanza,
aca.FECHA_REGISTRO 
FROM acad_curso_alumno aca inner join acad_carga_curso acc on acc.id_carga_curso=aca.id_carga_curso
inner join acad_semestre_programa asp on Asp.Id_Semestre_Programa=acc.Id_Semestre_Programa
inner join acad_semestre asm on asm.id_semestre=asp.id_semestre
inner join acad_curso_detalle acd on acd.id_curso_detalle=aca.id_curso_detalle
inner join acad_curso ac on ac.id_curso=acd.id_curso
inner join Acad_Curso_Modo acm on Acm.Id_Curso_Modo=acc.id_curso_modo
inner join Acad_Plan_Programa app on app.Id_Plan_Programa=aca.Id_Plan_Programa 
inner join Acad_Plan_Curso apc on Apc.Id_plan_curso=aca.id_plan_curso
inner join vw_acad_programa_estudio vape on vape.Id_Programa_Estudio=Asp.Id_Programa_Estudio
left join Acad_Carga_Curso_Docente accd on Accd.Id_Carga_Curso_Docente=aca.Id_Horario_Practica
left join tipo_horario th on th.Id_Tipo_Horario=Accd.Id_Tipo_Horario
left join moises.persona p on p.id_persona=Accd.Id_persona
--where aca.id_persona=8345
;

