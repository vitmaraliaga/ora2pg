-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = david,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_semestre_solicitud (id_semestre, nombre, semestre, coigo, estado, id_usuario_reg, fecha_registro, id_usuario_act, fecha_actualizacion, id_semestre_ant, semestre_ant) AS SELECT ID_SEMESTRE,NOMBRE,SEMESTRE,CODIGO,ESTADO,ID_USUARIO_REG,FECHA_REGISTRO,ID_USUARIO_ACT,FECHA_ACTUALIZACION,ID_SEMESTRE_ANT,SEMESTRE_ANT FROM ACAD_SEMESTRE
WHERE substr(SEMESTRE,1,4) >= (to_char(statement_timestamp(), 'YYYY')-4)
AND (regexp_match(SEMESTRE, '^[^V]+$','n') IS NOT NULL AND (regexp_match(SEMESTRE, '^[^V]+$','n'))::text <> '')
--AND REGEXP_LIKE (SEMESTRE, '^[^M]+$')
AND NOMBRE  IN ((SELECT NOMBRE FROM ACAD_SEMESTRE WHERE NOMBRE LIKE '%-1%'
	OR NOMBRE LIKE '%-2%'
		OR NOMBRE LIKE '%-M%'
		OR NOMBRE LIKE '%-0%'
	)) 
ORDER BY semestre desc

	
	;

