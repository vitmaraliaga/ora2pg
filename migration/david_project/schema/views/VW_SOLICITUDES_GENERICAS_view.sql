-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = david,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_solicitudes_genericas (id_solicitud_mat_alum, id_persona, estudiante, codigo_estudiante, id_tipo_solicitud_matricula, tipo_solicitud, id_programa_estudio, nombre_programa_estudio, id_condicion_solicitud, condicion_solicitud, estado, codigo_solicitud, id_semestre, fecha_registro, id_tipo_contrato, id_nivel_ensenanza, id_sede) AS select sma.id_solicitud_mat_alum, sma.id_persona,  p.nombre||' '||p.paterno||' '||p.materno estudiante,
            pna.codigo codigo_estudiante, sma.id_tipo_solicitud_matricula, tsm.nombre tipo_solicitud, sma.id_programa_estudio,
            ape.nombre programa_estudio, smad.id_condicion_solicitud, cs.nombre condicion_solicitud, sma.estado,  coalesce(sma.codigo,'Sin c√≥digo') AS codigo_solicitud, sma.ID_SEMESTRE,
            sma.FECHA_REGISTRO , ape.ID_TIPO_CONTRATO, ape.ID_NIVEL_ENSENANZA , ape.id_sede
            FROM solicitud_mat_alum sma
            inner join solicitud_mat_alum_det smad on smad.id_solicitud_mat_alum = sma.id_solicitud_mat_alum
            inner join moises.persona p on p.id_persona = sma.id_persona
            inner join moises.persona_natural_alumno pna on pna.id_persona = p.id_persona
            inner join tipo_solicitud_matricula tsm on tsm.id_tipo_solicitud_matricula = sma.id_tipo_solicitud_matricula
            inner join vw_acad_programa_estudio ape on ape.id_programa_estudio = sma.id_programa_estudio
            inner join condicion_solicitud cs on cs.id_condicion_solicitud = smad.id_condicion_solicitud;

