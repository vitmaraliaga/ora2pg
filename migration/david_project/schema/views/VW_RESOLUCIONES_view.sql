-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = david,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_resoluciones (nombre, codigo, adjunto, fecha_resolucion, id_solicitud_convalidacion, estado_solicitud, estado_curso, id_persona, id_plan_programa, id_plan) AS SELECT ar.NOMBRE , ar.CODIGO , ar.ADJUNTO ,
ar.FECHA_RESOLUCION ,
sc.id_solicitud_convalidacion,
sc.ESTADO AS estado_solicitud,
scc.estado AS estado_curso,
sc.ID_SOLICITANTE  AS id_persona,
sc.ID_PLAN_DESTINO AS id_plan_programa,
app.id_plan AS id_plan

FROM ACAD_RESOLUCION ar  
INNER JOIN SOLICITUD_CONVALIDACION_D scd  ON  ar.ID_RESOLUCION =scd.ID_RESOLUCION 
INNER JOIN SOLICITUD_CONVALIDACION_CURSO scc ON scc.ID_SOL_CONVALIDACION_CURSO =scd.ID_CURSO_ORIGEN 
INNER JOIN SOLICITUD_CONVALIDACION sc ON sc.ID_SOLICITUD_CONVALIDACION =scc.ID_SOLICITUD_CONVALIDACION 
INNER JOIN ACAD_PLAN_PROGRAMA app  ON app.ID_PLAN_PROGRAMA =sc.ID_PLAN_DESTINO 
WHERE  sc.ESTADO ='3' AND scc.ESTADO ='7';

