-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = david,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_adm_ejecucion (id_ejecucion, nombre, codigo_estudiante, id_plan, plan, id_programa_estudio, programa_estudio, sede, id_semipresencial, nivel_ensenanza, tipo_contrato, convocatoria, detalle_convocatoria, codigo_postulante, estado, id_bloque, mensaje, code, new_user, username, batch, id_detalle_convocatoria, id_convocatoria) AS SELECT
ae.id_ejecucion,
ae.NOMBRE || ' ' || ae.PATERNO  || ' ' || ae.MATERNO  AS nombre , 
pna.codigo AS codigo_estudiante,
app.ID_PLAN ,
ap.NOMBRE  AS plan,
vape.ID_PROGRAMA_ESTUDIO ,
vape.NOMBRE AS PROGRAMA_ESTUDIO,
vape.sede,
vape.ID_SEMIPRESENCIAL ,
tne.NOMBRE AS nivel_ensenanza,
tc.NOMBRE  AS tipo_contrato,
ac.nombre AS convocatoria,
tne2.nombre AS detalle_convocatoria,
ae.CODIGO_POSTULANTE ,
ae.estado,
ae.ID_BLOQUE ,
ae.MENSAJE ,
ae.CODE ,
ae.NEW_USER ,
ae.USERNAME ,
ae.BATCH ,
adc.id_detalle_convocatoria,
ac.id_convocatoria

FROM ADM_EJECUCION ae
INNER JOIN ACAD_PLAN_PROGRAMA app ON ae.ID_PLAN_PROGRAMA  = app.ID_PLAN_PROGRAMA 
INNER JOIN ACAD_PLAN ap ON ap.ID_PLAN =app.ID_PLAN 
INNER JOIN VW_ACAD_PROGRAMA_ESTUDIO vape  ON vape.ID_PROGRAMA_ESTUDIO =app.ID_PROGRAMA_ESTUDIO 
INNER JOIN TIPO_NIVEL_ENSENANZA tne ON tne.ID_NIVEL_ENSENANZA  = vape.ID_NIVEL_ENSENANZA 
INNER JOIN TIPO_CONTRATO tc ON tc.ID_TIPO_CONTRATO  = vape.ID_TIPO_CONTRATO 
INNER JOIN ADM_BLOQUE ab ON ae.ID_BLOQUE  = ab.ID_BLOQUE 
INNER JOIN ADM_DETALLE_CONVOCATORIA adc  ON adc.ID_DETALLE_CONVOCATORIA =ab.ID_DETALLE_CONVOCATORIA 
INNER JOIN TIPO_NIVEL_ENSENANZA tne2 ON tne2.ID_NIVEL_ENSENANZA =adc.ID_NIVEL_ENSENANZA 
INNER JOIN ADM_CONVOCATORIA ac  ON ac.ID_CONVOCATORIA  = adc.ID_CONVOCATORIA 
LEFT JOIN MOISES.PERSONA pe ON ae.ID_PERSONA  = pe.ID_PERSONA 
LEFT JOIN MOISES.PERSONA_NATURAL_ALUMNO pna  ON pna.ID_PERSONA =pe.ID_PERSONA ;

