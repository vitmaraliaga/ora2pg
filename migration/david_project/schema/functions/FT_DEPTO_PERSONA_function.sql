-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = david,public;
\set ON_ERROR_STOP ON





CREATE OR REPLACE FUNCTION david.ft_depto_persona ( v_id_persona integer) RETURNS varchar AS $body$
DECLARE

	p_depto	  varchar(800);
		

BEGIN
  
  select wm_concat(lud.id_depto)  into STRICT p_depto
  from eliseo.lamb_users_depto lud inner join eliseo.conta_entidad_depto ced 
        on Ced.Id_Entidad=Lud.Id_Entidad and Ced.Id_Depto=Lud.Id_Depto
  where ced.id_entidad = 7124
  and id=v_id_persona
  and ced.es_empresa = 1;

return p_depto;

END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION david.ft_depto_persona ( v_id_persona integer) FROM PUBLIC;

