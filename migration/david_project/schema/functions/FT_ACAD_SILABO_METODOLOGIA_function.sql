-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = david,public;
\set ON_ERROR_STOP ON





CREATE OR REPLACE FUNCTION david.ft_acad_silabo_metodologia ( V_ID_CARGA_TEMA bigint ) RETURNS varchar AS $body$
DECLARE


p_metodologia varchar(9000);


BEGIN

    select string_agg(CASE WHEN am.codigo ='TO' THEN coalesce(acm.DESCRIPCION,'Otros')   ELSE am.NOMBRE END , ', ' ORDER BY am.nombre) into STRICT p_metodologia

    from Acad_Curso_Metodologia acm inner join Acad_Metodologia am on Am.Id_Metodologia=Acm.Id_Metodologia

    where acm.Id_Carga_Tema=V_ID_CARGA_TEMA; --and acm.tipo=2;
    RETURN p_metodologia;

END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION david.ft_acad_silabo_metodologia ( V_ID_CARGA_TEMA bigint ) FROM PUBLIC;

