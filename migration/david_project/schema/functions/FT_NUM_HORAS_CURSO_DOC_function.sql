-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = david,public;
\set ON_ERROR_STOP ON





CREATE OR REPLACE FUNCTION david.ft_num_horas_curso_doc ( p_id_carga_curso_docente integer) RETURNS bigint AS $body$
DECLARE

   horario_b varchar(4000);
   horas numeric(30);
   curso CURSOR FOR
   		  SELECT horario
        from acad_carga_curso_docente
        where id_carga_curso_docente=p_id_carga_curso_docente;

BEGIN

	 horas := 0;

	 open curso;
	 fetch curso into horario_b;

	 while curso%found loop
	 	   for i in 1..150 loop

			   if ( substr(horario_b,i,1) = '1') then
			   	  horas := horas + 1;
			   end if;

		   end loop;

	   	 fetch curso into horario_b;

	 end loop;

	 close curso;
	 RETURN( horas );
END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
 STABLE;
-- REVOKE ALL ON FUNCTION david.ft_num_horas_curso_doc ( p_id_carga_curso_docente integer) FROM PUBLIC;

