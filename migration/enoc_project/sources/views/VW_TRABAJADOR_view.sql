-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = enoc,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_trabajador (id_persona, nombre, paterno, materno, codigo, unapellido, id_tipotratamiento, id_tipoestadocivil, id_tiposangre, id_situacion_educativo, id_tipopais, id_ubigeo, id_tiporeligion, id_tipoautoridadiglesia, id_tipodocumento, num_documento, sexo, fec_nacimiento, fec_defuncion, vive, fec_caducidad, telefono, celular, correo, correo_inst, iglesia, fecha_bautizo, tiene_cargo, cargo_iglesia, nombre_autoridad, tlf_autoridad, id_nacionalidad, id_departamento, documento_url, foto, firma, apellidonombre, nombreapellido, apellidos, es_docente, cv_url, p_personal, p_familiar, p_academico, p_laboral, v_seleccion, id_tipoactividadeconomica, fecha_salida, cuspp, fec_inicioafp, fec_inicioonp, esdiscapacitado, discapacitado_url, id_tipo_comision_pens, id_regimen_pensionaria, id_tipo_discapacidad, padre_registrado, id_padre, padre_datos, padre_tlf, madre_registrado, id_madre, madre_datos, madre_tlf, cod_autogenerado, id_trabajador, id_entidad, esaludvida, esaludvida_url, descuentodiezmo, descuentodiezmo_url, menoredad, menoredad_url, id_situacion_trabajador, id_tipo_control_personal, id_condicion_laboral, fecha_inicio_misionero, misionero_url, id_tipo_status, fecha_ingreso, fecha_inicio, fecha_fin_previsto, fecha_fin_efectivo, id_periodo_remu, cuentasueldo, cuentasueldo_url, id_tipo_contrato, id_sedearea, id_puesto, id_tipo_tiempo_trabajo, id_grupo_planilla, id_tipo_horario, id_banco, observado, id_tipo_ocupacion, id_contrato, id_perfil_puesto, id_situacion_especial, casada) AS SELECT
PN.ID_PERSONA,
PN.NOMBRE,
PN.PATERNO,
PN.MATERNO,
PN.CODIGO,
PN.UNAPELLIDO,
PN.ID_TIPOTRATAMIENTO,
PN.ID_TIPOESTADOCIVIL,
PN.ID_TIPOSANGRE,
PN.ID_SITUACION_EDUCATIVO,
PN.ID_TIPOPAIS,
PN.ID_UBIGEO,
PN.ID_TIPORELIGION,
PN.ID_TIPOAUTORIDADIGLESIA,
PN.ID_TIPODOCUMENTO,
PN.NUM_DOCUMENTO,
PN.SEXO,
PN.FEC_NACIMIENTO,
PN.FEC_DEFUNCION,
PN.VIVE,
PN.FEC_CADUCIDAD,
PN.TELEFONO,
PN.CELULAR,
PN.CORREO,
PN.CORREO_INST,
PN.IGLESIA,
PN.FECHA_BAUTIZO,
PN.TIENE_CARGO,
PN.CARGO_IGLESIA,
PN.NOMBRE_AUTORIDAD,
PN.TLF_AUTORIDAD,
PN.ID_NACIONALIDAD,
PN.ID_DEPARTAMENTO,
PN.DOCUMENTO_URL,
PN.FOTO,
PN.FIRMA,
PN.APELLIDONOMBRE,
PN.NOMBREAPELLIDO,
PN.APELLIDOS,
PN.ES_DOCENTE,
PN.CV_URL,
PN.p_personal,
PN.p_familiar,
PN.p_academico,
PN.p_laboral,
PN.V_SELECCION,
PN.ID_TIPOACTIVIDADECONOMICA,
PN.FECHA_SALIDA,
PT.CUSPP,
PT.FEC_INICIOAFP,
PT.FEC_INICIOONP,
PT.ESDISCAPACITADO,
PT.DISCAPACITADO_URL,
PT.ID_TIPO_COMISION_PENS,
PT.ID_REGIMEN_PENSIONARIA,
PT.ID_TIPO_DISCAPACIDAD,
PT.PADRE_REGISTRADO,
PT.ID_PADRE,
PT.PADRE_DATOS,
PT.PADRE_TLF,
PT.MADRE_REGISTRADO,
PT.ID_MADRE,
PT.MADRE_DATOS,
PT.MADRE_TLF,
PT.COD_AUTOGENERADO,
T.ID_TRABAJADOR,
T.ID_ENTIDAD,
T.ESALUDVIDA,
T.ESALUDVIDA_URL,
T.DESCUENTODIEZMO,
T.DESCUENTODIEZMO_URL,
T.MENOREDAD,
T.MENOREDAD_URL,
T.ID_SITUACION_TRABAJADOR,
T.ID_TIPO_CONTROL_PERSONAL,
T.ID_CONDICION_LABORAL,
T.FECHA_INICIO_MISIONERO,
T.MISIONERO_URL,
T.ID_TIPO_STATUS,
T.FECHA_INGRESO,
T.FECHA_INICIO,
T.FECHA_FIN_PREVISTO,
T.FECHA_FIN_EFECTIVO,
T.ID_PERIODO_REMU,
T.CUENTASUELDO,
T.CUENTASUELDO_URL,
T.ID_TIPO_CONTRATO,
T.ID_SEDEAREA,
T.ID_PUESTO,
T.ID_TIPO_TIEMPO_TRABAJO,
T.ID_GRUPO_PLANILLA,
T.ID_TIPO_HORARIO,
T.ID_BANCO,
T.OBSERVADO,
T.ID_TIPO_OCUPACION,
T.ID_CONTRATO,
T.ID_PERFIL_PUESTO,
T.ID_SITUACION_ESPECIAL,
PN.CASADA
FROM ENOC.VW_PERSONA_NATURAL PN
INNER JOIN MOISES.PERSONA_NATURAL_TRABAJADOR PT ON
  PT.ID_PERSONA = PN.ID_PERSONA
INNER JOIN MOISES.TRABAJADOR T ON
  T.ID_PERSONA = PT.ID_PERSONA;

