-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = enoc,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_contrato_det (id_item, id_contrato, tipo, id_anho, id_mes, id_sedearea, id_programa_estudio, id_tipo_hora_pago, id_escala_sala_docente_det, id_semestre, dias, costohora, horas, importe, variacion, total, concepto, vigencia, siglas, mes, programa_estudio, semestre, area, id_entidad, id_depto, ccosto, ht_desde, ht_hasta, tipo_hora, cod_hora, id_nivel_ensenanza, id_modalidad_estudio, id_escala_sala_docente, id_area, id_user_reg, fecha_reg, id_user_mod, fecha_mod) AS SELECT
A.ID_ITEM,
A.ID_CONTRATO,
A.TIPO,
A.ID_ANHO,
A.ID_MES,
A.ID_SEDEAREA,
A.ID_PROGRAMA_ESTUDIO,
A.ID_TIPO_HORA_PAGO,
A.ID_ESCALA_SALA_DOCENTE_DET,
A.ID_SEMESTRE,
A.DIAS,
A.COSTOHORA,
A.HORAS,
A.IMPORTE,
A.VARIACION,
COALESCE(A.IMPORTE,0)+COALESCE(A.VARIACION,0) AS TOTAL,
A.CONCEPTO,
A.VIGENCIA,
B.SIGLAS,
B.NOMBRE AS MES,
C.NOMBRE AS PROGRAMA_ESTUDIO,
E.SEMESTRE,
F.NOMBRE AS AREA,
F.ID_ENTIDAD,
F.ID_DEPTO,
F.CCOSTO,
D.HT_DESDE,
D.HT_HASTA,
G.NOMBRE AS TIPO_HORA,
G.CODIGO AS COD_HORA,
C.ID_NIVEL_ENSENANZA,
C.ID_MODALIDAD_ESTUDIO,
D.ID_ESCALA_SALA_DOCENTE,
F.ID_AREA,
A.ID_USER_REG,
A.FECHA_REG, 
A.ID_USER_MOD, 
A.FECHA_MOD
FROM ENOC.PLLA_CONTRATO_DET A, 
ELISEO.CONTA_MES B, 
DAVID.ACAD_PROGRAMA_ESTUDIO C,
ENOC.PLLA_ESCALA_SALA_DOCENTE_DET D,
DAVID.ACAD_SEMESTRE E,
ELISEO.VW_SEDE_AREA F,
ENOC.PLLA_TIPO_HORA_PAGO G
WHERE A.ID_MES=B.ID_MES
AND A.ID_PROGRAMA_ESTUDIO=C.ID_PROGRAMA_ESTUDIO
AND A.ID_ESCALA_SALA_DOCENTE_DET=D.ID_ESCALA_SALA_DOCENTE_DET
AND A.ID_SEMESTRE=E.ID_SEMESTRE
AND A.ID_SEDEAREA=F.ID_SEDEAREA
AND G.ID_TIPO_HORA_PAGO=D.ID_TIPO_HORA_PAGO;

