-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = enoc,public;
\set ON_ERROR_STOP ON

PROCEDURE  SP_AUDIT_REMUNERACION(
  P_ID_REMUNERACION	NUMBER,
  P_ID_TRABAJADOR	NUMBER,
  P_TIPO VARCHAR2,
  P_ID_CONTRATO	NUMBER,
  P_REFERENCIA	VARCHAR2,
  P_REFERENCIA_URL	VARCHAR2,
  P_FEC_EFECTIVO	DATE,
  P_TIPO_PAGO	VARCHAR2,
  P_FMR	NUMBER,
  P_SUELDO	NUMBER,
  P_BONIFICACION	NUMBER,
  P_OBSERVACION	VARCHAR2,
  P_ID_ESTADO_REMUNE	VARCHAR2,
  P_ESTADO_REMUNE VARCHAR2,
  P_VIGENCIA	NUMBER,
  P_ID_USER_REG	NUMBER
) AS
l_id  PLLA_REMUNERACION_AUDIT.ID_REMUNERACION_AUDIT%TYPE;
BEGIN
     select coalesce(max(ID_REMUNERACION_AUDIT),0)+1 into l_id  from PLLA_REMUNERACION_AUDIT;
     
    insert into PLLA_REMUNERACION_AUDIT(
      ID_REMUNERACION_AUDIT,
      ID_REMUNERACION,
      ID_TRABAJADOR,
      TIPO,
      ID_CONTRATO,
      REFERENCIA,
      REFERENCIA_URL,
      FEC_EFECTIVO,
      TIPO_PAGO,
      FMR,
      SUELDO,
      BONIFICACION,
      OBSERVACION,
      ID_ESTADO_REMUNE,
      ESTADO_REMUNE,
      VIGENCIA,
      ID_USER_REG,
      FECHA_REG
    )values(
      l_id,
      P_ID_REMUNERACION,
      P_ID_TRABAJADOR,
      P_TIPO,
      P_ID_CONTRATO,
      P_REFERENCIA,
      P_REFERENCIA_URL,
      P_FEC_EFECTIVO,
      P_TIPO_PAGO,
      P_FMR,
      P_SUELDO,
      P_BONIFICACION,
      P_OBSERVACION,
      P_ID_ESTADO_REMUNE,
      P_ESTADO_REMUNE,
      P_VIGENCIA,
      P_ID_USER_REG,
      sysdate
    );
   
END;

