-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = enoc,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_des_eval_competencia_nivel (id_grupo_competencia_nivel, id_perfil_puesto, competencia, descripcion, porcentaje, id_modelo_evaluacion, id_competencia_nivel, vigencia) AS SELECT
  A.ID_GRUPO_COMPETENCIA_NIVEL,
  B.ID_PERFIL_PUESTO,
  A.COMPETENCIA,
  A.DESCRIPCION,
  A.PUNTAJE AS PORCENTAJE,
  A.ID_MODELO_EVALUACION,
  A.ID_COMPETENCIA_NIVEL,
  A.VIGENCIA
  FROM ENOC.VW_DES_GRUPO_COMPETENCIA_NIVEL A, ENOC.VW_PERFIL_PUESTO B
  WHERE  A.ID_GRUPO_COMPETENCIA = B.ID_GRUPO_COMPETENCIA

UNION

  SELECT
  A.ID_GRUPO_COMPETENCIA_NIVEL,
  B.ID_PERFIL_PUESTO,
  A.COMPETENCIA,
  A.DESCRIPCION,
  A.PUNTAJE AS PORCENTAJE,
  A.ID_MODELO_EVALUACION,
  A.ID_COMPETENCIA_NIVEL,
  A.VIGENCIA
  FROM ENOC.VW_DES_GRUPO_COMPETENCIA_NIVEL A, ENOC.VW_PERFIL_PUESTO B
  WHERE  A.ID_GRUPO_COMPETENCIA =  B.ID_GRUPO_COMPETENCIA_ORG;

