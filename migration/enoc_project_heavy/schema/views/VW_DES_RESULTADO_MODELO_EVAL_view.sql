-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = enoc,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_des_resultado_modelo_eval (id_participante, id_perfil_puesto, id_perfil_puesto_resp, id_grupo_competencia_nivel, id_modelo_evaluacion, id_desempeno_mod_eval, puntaje, max_puntaje, porcentaje, id_desempeno, descripcion, competencia, puntos) AS select
A.ID_PARTICIPANTE,
A.ID_PERFIL_PUESTO,
A.ID_PERFIL_PUESTO_RESP,
A.ID_GRUPO_COMPETENCIA_NIVEL,
A.id_modelo_evaluacion,
A.ID_DESEMPENO_MOD_EVAL,
A.puntaje,
A.MAX_PUNTAJE,
A.porcentaje,
A.ID_DESEMPENO,
A.descripcion,
A.competencia,
ROUND(((COALESCE(A.puntaje,0)*100)/A.MAX_PUNTAJE)*(A.porcentaje/100),2) AS PUNTOS
FROM ENOC.VW_DES_RESULTADO_FUNC_COMP A;

