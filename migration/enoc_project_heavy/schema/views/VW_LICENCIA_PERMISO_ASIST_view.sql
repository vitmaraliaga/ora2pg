-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = enoc,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_licencia_permiso_asist (id_licencia_permiso, id_concepto_perm_lic, id_entidad, id_depto, id_area, id_trabajador, periodo, motivo, adjunto, fecha_desde, fecha_hasta, dias, horas, id_estado_lica_per) AS select
ID_LICENCIA_PERMISO,
ID_CONCEPTO_PERM_LIC,
ID_ENTIDAD,
ID_DEPTO,
ID_AREA,
ID_TRABAJADOR,
PERIODO,
MOTIVO,
ADJUNTO,
FECHA_DESDE,
FECHA_HASTA,
DIAS,
HORAS,
ID_ESTADO_LICA_PER
FROM enoc.plla_licencia_permiso 

UNION all

select 
a.ID_LICENCIA_PERMISO,
a.ID_CONCEPTO_PERM_LIC,
a.ID_ENTIDAD,
a.ID_DEPTO,
b.ID_AREA,
b.ID_TRABAJADOR,
a.PERIODO,
a.MOTIVO,
a.ADJUNTO,
a.FECHA_DESDE,
a.FECHA_HASTA,
a.DIAS,
a.HORAS,
a.ID_ESTADO_LICA_PER
from enoc.plla_licencia_permiso a, enoc.plla_licencia_permiso_det b
where a.id_licencia_permiso=b.id_licencia_permiso;

