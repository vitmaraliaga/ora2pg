-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

\set ON_ERROR_STOP ON

CREATE SCHEMA IF NOT EXISTS enoc;
ALTER SCHEMA enoc OWNER TO enoc;

SET search_path = enoc,public;


DROP TABLE IF EXISTS failed_jobs;
CREATE TABLE failed_jobs (
	id bigint NOT NULL,
	uuid varchar(255) NOT NULL,
	connection text NOT NULL,
	queue text NOT NULL,
	payload text NOT NULL,
	exception text NOT NULL,
	failed_at TIMESTAMP(6) NOT NULL
) ;


DROP TABLE IF EXISTS personal_access_tokens;
CREATE TABLE personal_access_tokens (
	id bigint NOT NULL,
	tokenable_type varchar(255) NOT NULL,
	tokenable_id bigint NOT NULL,
	name varchar(255) NOT NULL,
	token varchar(64) NOT NULL,
	abilities text,
	last_used_at TIMESTAMP(6),
	created_at TIMESTAMP(6),
	updated_at TIMESTAMP(6)
) ;


DROP TABLE IF EXISTS plla_contrato;
CREATE TABLE plla_contrato (
	id_contrato bigint NOT NULL,
	id_entidad bigint NOT NULL,
	id_depto varchar(10) NOT NULL,
	id_persona bigint NOT NULL,
	id_sedearea bigint NOT NULL,
	id_perfil_puesto bigint NOT NULL,
	id_tipo_tiempo_trabajo bigint NOT NULL,
	id_condicion_laboral varchar(5) NOT NULL,
	tipo varchar(2) NOT NULL,
	id_contrato_parent bigint,
	id_solic_reque bigint,
	id_solic_req_candidato bigint,
	fecha_ini timestamp(0),
	fecha_fin timestamp(0),
	cv_url varchar(100),
	menoredad varchar(1),
	menoredad_url varchar(150),
	plancap_url varchar(150),
	tipo_pago varchar(1),
	id_escala_salarial bigint,
	sueldo decimal(10,2),
	pje_fmr decimal(10,4),
	id_tipo_regimen_laboral varchar(2),
	id_tipo_ocupacion varchar(15),
	id_tipo_contrato varchar(2),
	id_tipo_sctr_pension varchar(2),
	sujregalt varchar(2),
	sujjortramax varchar(2),
	sujjorhornoc varchar(2),
	essindicalizado varchar(2),
	id_periodo_remu varchar(2),
	exotacat varchar(2),
	id_situacion_trabajador varchar(2),
	id_tipo_pago varchar(2),
	id_tipo_categ_ocupa varchar(2),
	id_situacion_especial varchar(2),
	id_tipo_doble_trib varchar(2),
	id_contrato_plantilla bigint,
	id_estado_cont_depto bigint,
	observacion varchar(500),
	contrato text,
	contarto_url varchar(100),
	tregistro_url varchar(100),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0),
	id_licencia_permiso varchar(25),
	fecha_inicio_misionero timestamp(0),
	misionero_url varchar(150),
	id_tipo_status varchar(2),
	id_grupo_planilla bigint,
	id_puesto_remp bigint,
	fecha_ing timestamp(0),
	id_tipo_tiempo_regimen bigint,
	id_renovacion bigint,
	aps char(1) DEFAULT '0',
	id_cambios bigint,
	id_tipo_modalidad_form varchar(2),
	contrato_mensual bigint,
	modo_pago varchar(1),
	id_tipo_horario bigint,
	cambio_sueldo char(1) DEFAULT '0',
	revision_tregistro char(1),
	fecha_revision timestamp(0),
	hoja_liq_url varchar(100),
	contrato_firma_url varchar(100),
	sueldo_ant decimal(10,2),
	fecha_firma timestamp(0)
) ;
COMMENT ON COLUMN plla_contrato.essindicalizado IS E'VA FIJO NO:  1:Si / 0:No';
COMMENT ON COLUMN plla_contrato.exotacat IS E'Default No:  1:Si / 0:No';
COMMENT ON COLUMN plla_contrato.fecha_revision IS E'fecha de revision t_registro';
COMMENT ON COLUMN plla_contrato.id_contrato_parent IS E'solo se asigna cuando es renovacion y regulaizacion';
COMMENT ON COLUMN plla_contrato.id_periodo_remu IS E'default 1';
COMMENT ON COLUMN plla_contrato.id_situacion_especial IS E'default 0';
COMMENT ON COLUMN plla_contrato.id_tipo_pago IS E'default 2';
COMMENT ON COLUMN plla_contrato.id_tipo_regimen_laboral IS E'Default 01';
COMMENT ON COLUMN plla_contrato.modo_pago IS E'C:carga, M:Manual';
COMMENT ON COLUMN plla_contrato.plancap_url IS E'PLAN DE CAPACITACION';
COMMENT ON COLUMN plla_contrato.revision_tregistro IS E'1:revisado, null:no revisado';
COMMENT ON COLUMN plla_contrato.sujjorhornoc IS E'Sujeto a horario nocturno:  1:Si / 0:No';
COMMENT ON COLUMN plla_contrato.sujjortramax IS E'Sujeto a jornada de trabajo máxima:  1:Si / 0:No';
COMMENT ON COLUMN plla_contrato.sujregalt IS E'Sujeto a régimen alternativo  1:Si / 0:No';
COMMENT ON COLUMN plla_contrato.tipo IS E'C:Contrato, R:Renovacion, S:regulaizacion';
COMMENT ON COLUMN plla_contrato.tipo_pago IS E'F:FIJO, H:HORAS';


DROP TABLE IF EXISTS plla_contrato_plantilla;
CREATE TABLE plla_contrato_plantilla (
	id_contrato_plantilla bigint NOT NULL,
	id_entidad bigint NOT NULL,
	id_depto varchar(10) NOT NULL,
	id_tipo_contrato varchar(2) NOT NULL,
	nombre varchar(200),
	descripcion varchar(500),
	plantilla text,
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0),
	vigencia bigint
) ;


DROP TABLE IF EXISTS plla_entrevista_cand;
CREATE TABLE plla_entrevista_cand (
	id_entrevista_cand bigint NOT NULL,
	id_tipo_reunion bigint NOT NULL,
	id_solic_req_candidato bigint NOT NULL,
	id_req_cand_plantilla bigint NOT NULL,
	link_lugar varchar(500) NOT NULL,
	mensaje text,
	fecha timestamp(0),
	id_estado_reunion_cand varchar(2),
	correo varchar(200),
	enviado bigint,
	id_parent bigint,
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0)
) ;
COMMENT ON COLUMN plla_entrevista_cand.enviado IS E'Se envío el mensaje, 1: enviado';
COMMENT ON COLUMN plla_entrevista_cand.id_estado_reunion_cand IS E'01: REGISTRADO, 02: ATENDIDO, 03: NO SE PRESENTO,04: POSTERGADO, 00: ANULADO ';


DROP TABLE IF EXISTS plla_req_cand_plantilla;
CREATE TABLE plla_req_cand_plantilla (
	id_req_cand_plantilla bigint NOT NULL,
	id_entidad bigint NOT NULL,
	id_depto varchar(10) NOT NULL,
	id_estado_req_cand varchar(2) NOT NULL,
	nombre varchar(200),
	descripcion varchar(500),
	reunion text,
	aprobacion text,
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0),
	vigencia bigint
) ;


DROP TABLE IF EXISTS plla_solic_req_candidato_est;
CREATE TABLE plla_solic_req_candidato_est (
	id_solic_req_candidato_es bigint NOT NULL,
	id_solic_req_candidato bigint NOT NULL,
	id_estado_req_cand varchar(2) NOT NULL,
	comentario varchar(250),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_req_cand_plantilla bigint,
	mensaje text,
	adjunto varchar(150),
	correo varchar(150)
) ;


DROP TABLE IF EXISTS quiz_cuestionario_asig;
CREATE TABLE quiz_cuestionario_asig (
	id_cuestionario_asig bigint NOT NULL,
	id_cuestionario bigint NOT NULL,
	id_entidad bigint NOT NULL,
	id_depto varchar(2) NOT NULL,
	id_area bigint,
	id_persona bigint NOT NULL,
	desde timestamp(0) NOT NULL,
	hasta timestamp(0),
	id_trabajador bigint,
	respuesta bigint,
	total_respuestas bigint,
	id_anho_asig bigint,
	id_mes_asig bigint,
	id_anho_rpta bigint,
	id_mes_rpta bigint,
	fecha_asig timestamp(0),
	fecha_rpta timestamp(0),
	plantilla text,
	adjuntourl varchar(200),
	rpta_origen varchar(2),
	id_rol_vacacion varchar(25),
	vigencia bigint,
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0)
) ;
COMMENT ON COLUMN quiz_cuestionario_asig.adjuntourl IS E'ES PARA GUARDAR ADJUNTO EL RESULTADO';
COMMENT ON COLUMN quiz_cuestionario_asig.respuesta IS E'0: NO, 1: SI';
COMMENT ON COLUMN quiz_cuestionario_asig.rpta_origen IS E'W:web, AP: app';
COMMENT ON COLUMN quiz_cuestionario_asig.total_respuestas IS E'TOTAL PREGUNTAS RESPONDIDAS';


DROP TABLE IF EXISTS quiz_plantilla;
CREATE TABLE quiz_plantilla (
	id_plantilla bigint NOT NULL,
	nombre varchar(200),
	descripcion varchar(500),
	plantilla text,
	vigencia bigint,
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0)
) ;
