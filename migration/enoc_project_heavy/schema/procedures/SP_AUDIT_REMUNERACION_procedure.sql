-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = enoc,public;
\set ON_ERROR_STOP ON





CREATE OR REPLACE PROCEDURE enoc.sp_audit_remuneracion ( P_ID_REMUNERACION bigint, P_ID_TRABAJADOR bigint, P_TIPO text, P_ID_CONTRATO bigint, P_REFERENCIA text, P_REFERENCIA_URL text, P_FEC_EFECTIVO timestamp(0), P_TIPO_PAGO text, P_FMR bigint, P_SUELDO bigint, P_BONIFICACION bigint, P_OBSERVACION text, P_ID_ESTADO_REMUNE text, P_ESTADO_REMUNE text, P_VIGENCIA bigint, P_ID_USER_REG bigint ) AS $body$
DECLARE

l_id  PLLA_REMUNERACION_AUDIT.ID_REMUNERACION_AUDIT%TYPE;

BEGIN
     select coalesce(max(ID_REMUNERACION_AUDIT),0)+1 into STRICT l_id  from PLLA_REMUNERACION_AUDIT;

    insert into PLLA_REMUNERACION_AUDIT(
      ID_REMUNERACION_AUDIT,
      ID_REMUNERACION,
      ID_TRABAJADOR,
      TIPO,
      ID_CONTRATO,
      REFERENCIA,
      REFERENCIA_URL,
      FEC_EFECTIVO,
      TIPO_PAGO,
      FMR,
      SUELDO,
      BONIFICACION,
      OBSERVACION,
      ID_ESTADO_REMUNE,
      ESTADO_REMUNE,
      VIGENCIA,
      ID_USER_REG,
      FECHA_REG
    )values (
      l_id,
      P_ID_REMUNERACION,
      P_ID_TRABAJADOR,
      P_TIPO,
      P_ID_CONTRATO,
      P_REFERENCIA,
      P_REFERENCIA_URL,
      P_FEC_EFECTIVO,
      P_TIPO_PAGO,
      P_FMR,
      P_SUELDO,
      P_BONIFICACION,
      P_OBSERVACION,
      P_ID_ESTADO_REMUNE,
      P_ESTADO_REMUNE,
      P_VIGENCIA,
      P_ID_USER_REG,
      clock_timestamp()
    );

END;
$body$
LANGUAGE PLPGSQL
SECURITY DEFINER
;
-- REVOKE ALL ON PROCEDURE enoc.sp_audit_remuneracion ( P_ID_REMUNERACION bigint, P_ID_TRABAJADOR bigint, P_TIPO text, P_ID_CONTRATO bigint, P_REFERENCIA text, P_REFERENCIA_URL text, P_FEC_EFECTIVO timestamp(0), P_TIPO_PAGO text, P_FMR bigint, P_SUELDO bigint, P_BONIFICACION bigint, P_OBSERVACION text, P_ID_ESTADO_REMUNE text, P_ESTADO_REMUNE text, P_VIGENCIA bigint, P_ID_USER_REG bigint ) FROM PUBLIC;

