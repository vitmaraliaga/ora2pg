-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = enoc,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_persona_trabajador (cuspp, fec_inicioafp, fec_inicioonp, esdiscapacitado, discapacitado_url, id_tipo_comision_pens, id_regimen_pensionaria, id_tipo_discapacidad, padre_registrado, id_padre, padre_datos, padre_tlf, madre_registrado, id_madre, madre_datos, madre_tlf, cod_autogenerado, id_persona, id_trabajador, id_entidad, esaludvida, esaludvida_url, descuentodiezmo, descuentodiezmo_url, menoredad, menoredad_url, id_situacion_trabajador, id_tipo_control_personal, id_condicion_laboral, fecha_inicio_misionero, misionero_url, id_tipo_status, fecha_ingreso, fecha_inicio, fecha_fin_previsto, fecha_fin_efectivo, id_periodo_remu, cuentasueldo, cuentasueldo_url, id_tipo_contrato, id_sedearea, id_puesto, id_tipo_tiempo_trabajo, id_grupo_planilla, id_tipo_horario, id_banco, observado, id_tipo_ocupacion, id_contrato) AS SELECT
PT.CUSPP,
PT.FEC_INICIOAFP,
PT.FEC_INICIOONP,
PT.ESDISCAPACITADO,
PT.DISCAPACITADO_URL,
PT.ID_TIPO_COMISION_PENS,
PT.ID_REGIMEN_PENSIONARIA,
PT.ID_TIPO_DISCAPACIDAD,
PT.PADRE_REGISTRADO,
PT.ID_PADRE,
PT.PADRE_DATOS,
PT.PADRE_TLF,
PT.MADRE_REGISTRADO,
PT.ID_MADRE,
PT.MADRE_DATOS,
PT.MADRE_TLF,
PT.COD_AUTOGENERADO,
PT.ID_PERSONA,
T.ID_TRABAJADOR,
T.ID_ENTIDAD,
T.ESALUDVIDA,
T.ESALUDVIDA_URL,
T.DESCUENTODIEZMO,
T.DESCUENTODIEZMO_URL,
T.MENOREDAD,
T.MENOREDAD_URL,
T.ID_SITUACION_TRABAJADOR,
T.ID_TIPO_CONTROL_PERSONAL,
T.ID_CONDICION_LABORAL,
T.FECHA_INICIO_MISIONERO,
T.MISIONERO_URL,
T.ID_TIPO_STATUS,
T.FECHA_INGRESO,
T.FECHA_INICIO,
T.FECHA_FIN_PREVISTO,
T.FECHA_FIN_EFECTIVO,
T.ID_PERIODO_REMU,
T.CUENTASUELDO,
T.CUENTASUELDO_URL,
T.ID_TIPO_CONTRATO,
T.ID_SEDEAREA,
T.ID_PUESTO,
T.ID_TIPO_TIEMPO_TRABAJO,
T.ID_GRUPO_PLANILLA,
T.ID_TIPO_HORARIO,
T.ID_BANCO,
T.OBSERVADO,
T.ID_TIPO_OCUPACION,
T.ID_CONTRATO
FROM  MOISES.PERSONA_NATURAL_TRABAJADOR PT 
INNER JOIN MOISES.TRABAJADOR T ON
  T.ID_PERSONA = PT.ID_PERSONA;

