-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

SET search_path = moises,public;
\set ON_ERROR_STOP ON

CREATE OR REPLACE VIEW vw_iglesia (id_iglesia, nombre, iglesia, distrito, campo, union_p) AS select ig.id_iglesia, (un.siglas || ' - ' || ca.nombre || ' - ' || di.nombre || ' - ' ||ig.nombre) as nombre,
ig.nombre as iglesia, di.nombre as distrito, ca.nombre as campo, un.nombre as union_p
FROM MOISES.igl_union un
join moises.igl_campo ca on ca.id_union = un.id_union
join moises.igl_distrito di on di.id_campo = ca.id_campo
join moises.igl_iglesia ig on ig.id_distrito = di.id_distrito;

