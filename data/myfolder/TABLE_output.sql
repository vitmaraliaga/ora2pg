-- Generated by Ora2Pg, the Oracle database Schema converter, version 25.0
-- Copyright 2000-2025 Gilles DAROLD. All rights reserved.
-- DATASOURCE: dbi:Oracle:host=10.174.11.5;sid=upeu;port=1521

SET client_encoding TO 'UTF8';

\set ON_ERROR_STOP ON

CREATE SCHEMA IF NOT EXISTS moises;
ALTER SCHEMA moises OWNER TO moises;

SET search_path = moises,public;


DROP TABLE IF EXISTS aatemp_admision;
CREATE TABLE aatemp_admision (
	nombre_plan varchar(120),
	codigo_personal varchar(200),
	codigo_univ varchar(90),
	first_name varchar(310),
	last_name varchar(130),
	mother_last_name varchar(140),
	sexo varchar(10),
	birth_date varchar(80),
	nacionalidad varchar(20),
	religion varchar(10),
	estado_civil varchar(10),
	dir_domicilio varchar(50),
	ref_domicilio varchar(1810),
	distri_procedencia varchar(50),
	estado_postulante varchar(10),
	persona_id varchar(320),
	correo varchar(390),
	cel_personal varchar(150),
	religion_alumno varchar(10),
	pais_dom varchar(20)
) ;


DROP TABLE IF EXISTS aatemp_discapacidad_persona;
CREATE TABLE aatemp_discapacidad_persona (
	id_persona numeric(38) NOT NULL,
	id_tipo_discapacidad bigint NOT NULL
) ;
DROP INDEX IF EXISTS discapacidad_persona_index1;
CREATE INDEX discapacidad_persona_index1 ON aatemp_discapacidad_persona (id_tipo_discapacidad);
ALTER TABLE aatemp_discapacidad_persona ADD PRIMARY KEY (id_persona);
ALTER TABLE aatemp_discapacidad_persona ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE aatemp_discapacidad_persona ALTER COLUMN id_tipo_discapacidad SET NOT NULL;


DROP TABLE IF EXISTS aatemp_persona;
CREATE TABLE aatemp_persona (
	codigo_personal varchar(60) NOT NULL,
	paterno varchar(150) NOT NULL,
	materno varchar(150) NOT NULL,
	nombres varchar(150) NOT NULL,
	dato_sexo varchar(1),
	dato_telefono varchar(90),
	dato_celular varchar(60),
	email_externo varchar(240),
	dato_tiposangre varchar(30),
	pais varchar(21),
	tipo_documento varchar(4),
	documentos varchar(4000),
	documentos_coduniv varchar(30),
	domicilio_direccion varchar(900) NOT NULL,
	civil_estado varchar(1),
	religion_alumno varchar(9),
	beca_estatal varchar(12),
	hist_beca_estatal varchar(12),
	tipo_discapacidad varchar(6),
	foto varchar(300)
) ;
ALTER TABLE aatemp_persona ALTER COLUMN codigo_personal SET NOT NULL;
ALTER TABLE aatemp_persona ALTER COLUMN paterno SET NOT NULL;
ALTER TABLE aatemp_persona ALTER COLUMN materno SET NOT NULL;
ALTER TABLE aatemp_persona ALTER COLUMN nombres SET NOT NULL;
ALTER TABLE aatemp_persona ALTER COLUMN domicilio_direccion SET NOT NULL;


DROP TABLE IF EXISTS aatemp_persona_admision;
CREATE TABLE aatemp_persona_admision (
	codigo_personal varchar(200),
	paterno varchar(130),
	materno varchar(140),
	nombres varchar(310),
	dato_sexo bigint,
	dato_telefono varchar(90),
	dato_celular varchar(150),
	email_externo varchar(390),
	dato_tiposangre varchar(30),
	nacionalidad varchar(20),
	tipo_documento varchar(4),
	documentos varchar(4000),
	documentos_coduniv varchar(90),
	dir_domicilio varchar(50),
	civil_estado bigint,
	religion_alumno varchar(10),
	beca_estatal varchar(12),
	hist_beca_estatal varchar(12),
	tipo_discapacidad varchar(6),
	foto varchar(300),
	id_persona varchar(20)
) ;


DROP TABLE IF EXISTS aatemp_persona_discapacidad;
CREATE TABLE aatemp_persona_discapacidad (
	codigo_personal varchar(60) NOT NULL,
	tipo_discapacidad varchar(6),
	discapacidad varchar(24)
) ;
ALTER TABLE aatemp_persona_discapacidad ALTER COLUMN codigo_personal SET NOT NULL;


DROP TABLE IF EXISTS aatemp_persona_valida;
CREATE TABLE aatemp_persona_valida (
	codigo_personal varchar(60) NOT NULL,
	paterno varchar(150) NOT NULL,
	materno varchar(150) NOT NULL,
	nombres varchar(150) NOT NULL,
	dato_sexo varchar(1),
	dato_telefono varchar(90),
	dato_celular varchar(60),
	email_externo varchar(240),
	dato_tiposangre varchar(30),
	pais varchar(21),
	tipo_documento varchar(4),
	documentos varchar(4000),
	documentos_coduniv varchar(30),
	domicilio_direccion varchar(900),
	civil_estado varchar(1),
	religion_alumno varchar(9),
	beca_estatal varchar(12),
	hist_beca_estatal varchar(12),
	tipo_discapacidad varchar(6),
	foto varchar(300)
) ;
ALTER TABLE aatemp_persona_valida ALTER COLUMN codigo_personal SET NOT NULL;
ALTER TABLE aatemp_persona_valida ALTER COLUMN paterno SET NOT NULL;
ALTER TABLE aatemp_persona_valida ALTER COLUMN materno SET NOT NULL;
ALTER TABLE aatemp_persona_valida ALTER COLUMN nombres SET NOT NULL;


DROP TABLE IF EXISTS aatemp_users;
CREATE TABLE aatemp_users (
	codigo_personal varchar(60) NOT NULL,
	username varchar(75),
	passwd varchar(120),
	tipo_documento numeric(38),
	num_documento varchar(200),
	newpsswd varchar(200),
	estado varchar(20)
) ;
ALTER TABLE aatemp_users ALTER COLUMN codigo_personal SET NOT NULL;


DROP TABLE IF EXISTS aatemp_users_admision;
CREATE TABLE aatemp_users_admision (
	id_persona numeric(38) NOT NULL,
	codigo_personal varchar(200),
	lusernameogin varchar(1376),
	passwd char(40),
	tipo_documento varchar(4),
	documentos varchar(4000),
	newpsswd char(46),
	estado char(1)
) ;
ALTER TABLE aatemp_users_admision ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS aatemp_users_bindery;
CREATE TABLE aatemp_users_bindery (
	username varchar(25),
	passwd varchar(40)
) ;


DROP TABLE IF EXISTS aatemp_users_oauth;
CREATE TABLE aatemp_users_oauth (
	username varchar(300),
	doc_number varchar(150)
) ;


DROP TABLE IF EXISTS aatemp_us_n;
CREATE TABLE aatemp_us_n (
	password varchar(460),
	username varchar(230),
	first_name varchar(220),
	last_name varchar(220),
	email varchar(360),
	doc_number varchar(100),
	doc_type varchar(20)
) ;


DROP TABLE IF EXISTS a_persona_school;
CREATE TABLE a_persona_school (
	tipo_doc varchar(100),
	nro_doc varchar(100),
	nombres varchar(100),
	paterno varchar(100),
	materno varchar(100),
	ins_id varchar(100)
) ;


DROP TABLE IF EXISTS a_persona_school_alum;
CREATE TABLE a_persona_school_alum (
	tipo_doc varchar(100),
	nro_doc varchar(100),
	nombres varchar(100),
	paterno varchar(100),
	materno varchar(100),
	ins_id varchar(100)
) ;


DROP TABLE IF EXISTS a_temp_alum_con;
CREATE TABLE a_temp_alum_con (
	nombre varchar(100),
	paterno varchar(100),
	materno varchar(100),
	id_tipodocumento varchar(100),
	num_documento varchar(100),
	id_religion varchar(100),
	id_nivel varchar(100),
	id_grado varchar(100),
	id_institucion varchar(100),
	id_depto varchar(100),
	anho_matricula varchar(100),
	es_promovido varchar(100),
	fec_nacimiento varchar(100),
	rf_nombre varchar(100),
	rf_paterno varchar(100),
	rf_materno varchar(100),
	rf_id_tipodocumento varchar(100),
	rf_num_documento varchar(100),
	rf_id_religion varchar(100),
	rf_fec_nacimiento varchar(100),
	rf_id_tipotelefono varchar(100),
	rf_num_telefono varchar(100),
	rf_id_tipovirtual varchar(100),
	rf_direccion_virtual varchar(100),
	rf_direccion varchar(100),
	tipoparentesco_id varchar(100),
	alu_id varchar(100),
	apo_id varchar(100)
) ;


DROP TABLE IF EXISTS a_temp_alum_con_2;
CREATE TABLE a_temp_alum_con_2 (
	nombres varchar(100),
	paterno varchar(100),
	materno varchar(100),
	tipo_doc varchar(100),
	nro_doc varchar(100),
	religion varchar(100),
	nivel varchar(100),
	grado varchar(100),
	id_entidad varchar(100),
	id_depto varchar(100),
	anho_mat varchar(100),
	promovido varchar(100),
	fecha_nacimiento varchar(100),
	rf_nombres varchar(100),
	rf_paterno varchar(100),
	rf_materno varchar(100),
	rf_tipo_doc varchar(100),
	rf_nro_doc varchar(100),
	rf_religion varchar(100),
	rf_fecha_nacimiento varchar(100),
	rf_tipo_telefono varchar(100),
	rf_telefono varchar(100),
	rf_tipo_virtual varchar(100),
	rf_virtual_direccion varchar(100),
	rf_direccion varchar(100),
	rf_tipo_parentezco varchar(100),
	alu_id varchar(100),
	apo_id varchar(100)
) ;


DROP TABLE IF EXISTS a_temp_alum_con_dev;
CREATE TABLE a_temp_alum_con_dev (
	nombre varchar(100),
	paterno varchar(100),
	materno varchar(100),
	id_tipodocumento varchar(100),
	num_documento varchar(100),
	id_religion varchar(100),
	id_nivel varchar(100),
	id_grado varchar(100),
	id_institucion varchar(100),
	id_depto varchar(100),
	anho_matricula varchar(100),
	es_promovido varchar(100),
	fec_nacimiento varchar(100),
	rf_nombre varchar(100),
	rf_paterno varchar(100),
	rf_materno varchar(100),
	rf_id_tipodocumento varchar(100),
	rf_num_documento varchar(100),
	rf_id_religion varchar(100),
	rf_fec_nacimiento varchar(100),
	rf_id_tipotelefono varchar(100),
	rf_num_telefono varchar(100),
	rf_id_tipovirtual varchar(100),
	rf_direccion_virtual varchar(100),
	rf_direccion varchar(100),
	tipoparentesco_id varchar(100),
	alu_id varchar(100),
	apo_id varchar(100)
) ;


DROP TABLE IF EXISTS a_temp_alum_con_post;
CREATE TABLE a_temp_alum_con_post (
	nombre varchar(100),
	paterno varchar(100),
	materno varchar(100),
	id_tipodocumento varchar(100),
	num_documento varchar(100),
	id_religion varchar(100),
	id_nivel varchar(100),
	id_grado varchar(100),
	id_institucion varchar(100),
	id_depto varchar(100),
	anho_matricula varchar(100),
	es_promovido varchar(100),
	fec_nacimiento varchar(100),
	rf_nombre varchar(100),
	rf_paterno varchar(100),
	rf_materno varchar(100),
	rf_id_tipodocumento varchar(100),
	rf_num_documento varchar(100),
	rf_id_religion varchar(100),
	rf_fec_nacimiento varchar(100),
	rf_id_tipotelefono varchar(100),
	rf_num_telefono varchar(100),
	rf_id_tipovirtual varchar(100),
	rf_direccion_virtual varchar(100),
	rf_direccion varchar(100),
	tipoparentesco_id varchar(100),
	alu_id varchar(100),
	apo_id varchar(100)
) ;


DROP TABLE IF EXISTS a_temp_alum_con_post_2;
CREATE TABLE a_temp_alum_con_post_2 (
	nombre varchar(100),
	paterno varchar(100),
	materno varchar(100),
	id_tipodocumento varchar(100),
	num_documento varchar(100),
	id_religion varchar(100),
	id_nivel varchar(100),
	id_grado varchar(100),
	id_institucion varchar(100),
	id_depto varchar(100),
	anho_matricula varchar(100),
	es_promovido varchar(100),
	fec_nacimiento varchar(100),
	rf_nombre varchar(100),
	rf_paterno varchar(100),
	rf_materno varchar(100),
	rf_id_tipodocumento varchar(100),
	rf_num_documento varchar(100),
	rf_id_religion varchar(100),
	rf_fec_nacimiento varchar(100),
	rf_id_tipotelefono varchar(100),
	rf_num_telefono varchar(100),
	rf_id_tipovirtual varchar(100),
	rf_direccion_virtual varchar(100),
	rf_direccion varchar(100),
	tipoparentesco_id varchar(100),
	alu_id varchar(100),
	apo_id varchar(100)
) ;


DROP TABLE IF EXISTS a_temp_alum_sal;
CREATE TABLE a_temp_alum_sal (
	alu_id varchar(100),
	id_institucion varchar(100),
	nombre varchar(100),
	paterno varchar(100),
	materno varchar(100),
	id_tipodocumento varchar(100),
	num_documento varchar(100),
	id_religion varchar(100),
	fec_nacimiento varchar(100),
	id_nivel varchar(100),
	id_grado varchar(100),
	id_entidad varchar(100),
	id_depto varchar(100)
) ;


DROP TABLE IF EXISTS a_temp_alum_sal_original;
CREATE TABLE a_temp_alum_sal_original (
	alu_id varchar(100),
	id_institucion varchar(100),
	nombre varchar(100),
	paterno varchar(100),
	materno varchar(100),
	id_tipodocumento varchar(100),
	num_documento varchar(100),
	id_religion varchar(100),
	fec_nacimiento varchar(100),
	id_nivel varchar(100),
	id_grado varchar(100),
	id_entidad varchar(100),
	id_depto varchar(100)
) ;


DROP TABLE IF EXISTS a_temp_alum_sal_post;
CREATE TABLE a_temp_alum_sal_post (
	alu_id varchar(100),
	id_institucion varchar(100),
	nombre varchar(100),
	paterno varchar(100),
	materno varchar(100),
	id_tipodocumento varchar(100),
	num_documento varchar(100),
	id_religion varchar(100),
	fec_nacimiento varchar(100),
	id_nivel varchar(100),
	id_grado varchar(100),
	id_entidad varchar(100),
	id_depto varchar(100)
) ;


DROP TABLE IF EXISTS a_temp_alum_sigacied_lamb;
CREATE TABLE a_temp_alum_sigacied_lamb (
	alu_id varchar(20),
	id_persona bigint
) ;


DROP TABLE IF EXISTS a_temp_apo_sigacied_lamb;
CREATE TABLE a_temp_apo_sigacied_lamb (
	apo_id varchar(20),
	id_persona bigint
) ;


DROP TABLE IF EXISTS a_temp_apo_tipopar;
CREATE TABLE a_temp_apo_tipopar (
	id_persona bigint,
	tipoparentesco_id varchar(20)
) ;


DROP TABLE IF EXISTS carrera_profesional;
CREATE TABLE carrera_profesional (
	id_carrera_profesional varchar(10) NOT NULL,
	nombre varchar(300),
	vigencia numeric(38)
) ;
ALTER TABLE carrera_profesional ADD PRIMARY KEY (id_carrera_profesional);
ALTER TABLE carrera_profesional ALTER COLUMN id_carrera_profesional SET NOT NULL;


DROP TABLE IF EXISTS cluster;
CREATE TABLE cluster (
	id_cluster bigint NOT NULL,
	nombre varchar(200),
	es_activo varchar(1)
) ;
ALTER TABLE cluster ADD PRIMARY KEY (id_cluster);


DROP TABLE IF EXISTS condicion_laboral;
CREATE TABLE condicion_laboral (
	id_condicion_laboral varchar(5) NOT NULL,
	nombre varchar(50),
	vigencia numeric(38),
	lim_h_semanales numeric(38),
	restringir_h_semanales char(1) DEFAULT '1',
	codsunedo varchar(5),
	gth varchar(1)
) ;
ALTER TABLE condicion_laboral ADD PRIMARY KEY (id_condicion_laboral);
ALTER TABLE condicion_laboral ALTER COLUMN id_condicion_laboral SET NOT NULL;


DROP TABLE IF EXISTS contribuyente_contacto;
CREATE TABLE contribuyente_contacto (
	id_contribuyente_contacto numeric(38) NOT NULL,
	id_persona numeric(38),
	id_tipopais numeric(38),
	celular varchar(50),
	correo varchar(300),
	id_contribuyente varchar(100),
	activo varchar(1),
	estado varchar(1),
	telefono varchar(20),
	id_user bigint
) ;
ALTER TABLE contribuyente_contacto ADD PRIMARY KEY (id_contribuyente_contacto);


DROP TABLE IF EXISTS contribuyente_local;
CREATE TABLE contribuyente_local (
	id_local bigint NOT NULL,
	id_persona bigint NOT NULL,
	nombre varchar(500) NOT NULL,
	id_tipolocal bigint,
	direccion varchar(1000),
	id_ubigeo bigint,
	telefono varchar(12),
	codigo_ean varchar(50),
	cadena varchar(1) NOT NULL DEFAULT '0',
	id_tiponegocio bigint,
	id_cluster bigint,
	id_zonadepartamento bigint,
	latitud bigint,
	longitud bigint,
	created_at timestamp(0) NOT NULL,
	updated_at timestamp(0),
	id_user bigint,
	es_activo varchar(1) NOT NULL DEFAULT '1'
) ;
ALTER TABLE contribuyente_local ADD PRIMARY KEY (id_local);
ALTER TABLE contribuyente_local ALTER COLUMN id_local SET NOT NULL;
ALTER TABLE contribuyente_local ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE contribuyente_local ALTER COLUMN nombre SET NOT NULL;
ALTER TABLE contribuyente_local ALTER COLUMN created_at SET NOT NULL;
ALTER TABLE contribuyente_local ALTER COLUMN cadena SET NOT NULL;
ALTER TABLE contribuyente_local ALTER COLUMN es_activo SET NOT NULL;


DROP TABLE IF EXISTS contribuyente_metodo_pago;
CREATE TABLE contribuyente_metodo_pago (
	id_persona numeric(38) NOT NULL,
	id_metodopago bigint NOT NULL
) ;
ALTER TABLE contribuyente_metodo_pago ADD PRIMARY KEY (id_persona,id_metodopago);
ALTER TABLE contribuyente_metodo_pago ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS contribuyente_rubro;
CREATE TABLE contribuyente_rubro (
	id_rubro bigint NOT NULL,
	nombre varchar(200),
	codigo varchar(50),
	estado varchar(1)
) ;
ALTER TABLE contribuyente_rubro ADD PRIMARY KEY (id_rubro);


DROP TABLE IF EXISTS documento_unificado;
CREATE TABLE documento_unificado (
	id_documento bigint NOT NULL,
	nombre varchar(100) NOT NULL,
	descripcion varchar(500),
	codigo varchar(50),
	query text,
	url_base varchar(150),
	estado bigint NOT NULL DEFAULT 1
) ;
COMMENT ON TABLE documento_unificado IS E'Lista de documentos unificados de una persona';
COMMENT ON COLUMN documento_unificado.codigo IS E'Código unico para identificar el documento';
COMMENT ON COLUMN documento_unificado.query IS E'Consulta de donde podemos obtener determinado documento, comentar tambien que debe retornar una sola column y una sola fila. El campo de entrada sera ":P_ID_PERSONA", eso se debe agregar en la condicion de la consulta.';
COMMENT ON COLUMN documento_unificado.url_base IS E'Url base del documento que se registra en el minio';
ALTER TABLE documento_unificado ADD PRIMARY KEY (id_documento);
ALTER TABLE documento_unificado ALTER COLUMN id_documento SET NOT NULL;
ALTER TABLE documento_unificado ALTER COLUMN nombre SET NOT NULL;
ALTER TABLE documento_unificado ALTER COLUMN estado SET NOT NULL;


DROP TABLE IF EXISTS entidad_documento_unificado;
CREATE TABLE entidad_documento_unificado (
	id_entidad bigint NOT NULL,
	id_documento bigint NOT NULL
) ;
ALTER TABLE entidad_documento_unificado ADD PRIMARY KEY (id_entidad,id_documento);


DROP TABLE IF EXISTS esp_persona_natural_adviser;
CREATE TABLE esp_persona_natural_adviser (
	id_persona bigint NOT NULL,
	estado char(1),
	codigo_acad varchar(200)
) ;
ALTER TABLE esp_persona_natural_adviser ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS igl_campo;
CREATE TABLE igl_campo (
	id_campo numeric(38) NOT NULL,
	id_union numeric(38) NOT NULL,
	nombre varchar(100),
	siglas varchar(20),
	vigencia numeric(38)
) ;
ALTER TABLE igl_campo ADD PRIMARY KEY (id_campo);
ALTER TABLE igl_campo ALTER COLUMN id_campo SET NOT NULL;
ALTER TABLE igl_campo ALTER COLUMN id_union SET NOT NULL;


DROP TABLE IF EXISTS igl_distrito;
CREATE TABLE igl_distrito (
	id_distrito numeric(38) NOT NULL,
	id_campo numeric(38) NOT NULL,
	nombre varchar(100),
	siglas varchar(100),
	vigencia numeric(38)
) ;
ALTER TABLE igl_distrito ADD PRIMARY KEY (id_distrito);
ALTER TABLE igl_distrito ALTER COLUMN id_distrito SET NOT NULL;
ALTER TABLE igl_distrito ALTER COLUMN id_campo SET NOT NULL;


DROP TABLE IF EXISTS igl_iglesia;
CREATE TABLE igl_iglesia (
	id_iglesia numeric(38) NOT NULL,
	id_distrito numeric(38) NOT NULL,
	nombre varchar(100),
	siglas varchar(20),
	codigo varchar(15),
	vigencia numeric(38)
) ;
ALTER TABLE igl_iglesia ADD PRIMARY KEY (id_iglesia);
ALTER TABLE igl_iglesia ALTER COLUMN id_iglesia SET NOT NULL;
ALTER TABLE igl_iglesia ALTER COLUMN id_distrito SET NOT NULL;


DROP TABLE IF EXISTS igl_union;
CREATE TABLE igl_union (
	id_union numeric(38) NOT NULL,
	nombre varchar(100),
	siglas varchar(20)
) ;
ALTER TABLE igl_union ADD PRIMARY KEY (id_union);
ALTER TABLE igl_union ALTER COLUMN id_union SET NOT NULL;


DROP TABLE IF EXISTS instituciones;
CREATE TABLE instituciones (
	id_instituicion varchar(20) NOT NULL,
	id_regimen_inst varchar(2) NOT NULL,
	id_tipo_ins varchar(2) NOT NULL,
	nombre varchar(200),
	vigencia numeric(38)
) ;
ALTER TABLE instituciones ADD PRIMARY KEY (id_instituicion);
ALTER TABLE instituciones ALTER COLUMN id_instituicion SET NOT NULL;
ALTER TABLE instituciones ALTER COLUMN id_regimen_inst SET NOT NULL;
ALTER TABLE instituciones ALTER COLUMN id_tipo_ins SET NOT NULL;


DROP TABLE IF EXISTS log_consulta_reniec;
CREATE TABLE log_consulta_reniec (
	id_item bigint NOT NULL,
	id_user bigint NOT NULL,
	fecha_consulta timestamp(0) NOT NULL,
	dni varchar(8) NOT NULL,
	prenombres varchar(50),
	primerapellido varchar(20),
	segundoapellido varchar(20),
	apellidocasada varchar(20),
	restriccion varchar(20),
	fechanacimiento timestamp(0),
	genero varchar(20),
	estadocivil varchar(20),
	codigo varchar(20),
	mensaje varchar(200),
	id_servicio bigint
) ;
COMMENT ON COLUMN log_consulta_reniec.dni IS E'dni consultado';
COMMENT ON COLUMN log_consulta_reniec.id_user IS E'id de la persona que consulta';
ALTER TABLE log_consulta_reniec ADD PRIMARY KEY (id_item);
ALTER TABLE log_consulta_reniec ALTER COLUMN id_item SET NOT NULL;
ALTER TABLE log_consulta_reniec ALTER COLUMN id_user SET NOT NULL;
ALTER TABLE log_consulta_reniec ALTER COLUMN fecha_consulta SET NOT NULL;
ALTER TABLE log_consulta_reniec ALTER COLUMN dni SET NOT NULL;


DROP TABLE IF EXISTS modulo_notificacion;
CREATE TABLE modulo_notificacion (
	id_modulo_notificacion numeric(38) NOT NULL,
	id_notificacion numeric(38) NOT NULL,
	id_modulo numeric(38) NOT NULL,
	id_persona_origen numeric(38) NOT NULL,
	id_persona_destinatario numeric(38) NOT NULL,
	titulo varchar(200) NOT NULL,
	descripcion varchar(4000) NOT NULL,
	url varchar(200) NOT NULL,
	estado char(1) DEFAULT '1',
	id_usuario_reg numeric(38) NOT NULL,
	fecha_registro timestamp(0) NOT NULL,
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;
ALTER TABLE modulo_notificacion ADD PRIMARY KEY (id_modulo_notificacion);
ALTER TABLE modulo_notificacion ALTER COLUMN id_modulo_notificacion SET NOT NULL;
ALTER TABLE modulo_notificacion ALTER COLUMN id_notificacion SET NOT NULL;
ALTER TABLE modulo_notificacion ALTER COLUMN id_modulo SET NOT NULL;
ALTER TABLE modulo_notificacion ALTER COLUMN id_persona_origen SET NOT NULL;
ALTER TABLE modulo_notificacion ALTER COLUMN id_persona_destinatario SET NOT NULL;
ALTER TABLE modulo_notificacion ALTER COLUMN titulo SET NOT NULL;
ALTER TABLE modulo_notificacion ALTER COLUMN descripcion SET NOT NULL;
ALTER TABLE modulo_notificacion ALTER COLUMN url SET NOT NULL;
ALTER TABLE modulo_notificacion ALTER COLUMN id_usuario_reg SET NOT NULL;
ALTER TABLE modulo_notificacion ALTER COLUMN fecha_registro SET NOT NULL;


DROP TABLE IF EXISTS notificacion;
CREATE TABLE notificacion (
	id_notificacion bigint NOT NULL,
	titulo varchar(300),
	contenido varchar(2500),
	icono varchar(50),
	fecha timestamp(0),
	url varchar(150),
	accion varchar(200),
	id_modulo bigint,
	id_persona bigint,
	id_usuario_reg bigint,
	fecha_registro timestamp(0),
	id_usuario_act bigint,
	fecha_actualizacion timestamp(0)
) ;
ALTER TABLE notificacion ADD PRIMARY KEY (id_notificacion);
ALTER TABLE notificacion ALTER COLUMN id_notificacion SET NOT NULL;


DROP TABLE IF EXISTS persona;
CREATE TABLE persona (
	id_persona numeric(38) NOT NULL,
	nombre varchar(255),
	paterno varchar(255),
	materno varchar(255),
	codigo varchar(200),
	unapellido varchar(2) DEFAULT '0',
	casada varchar(255),
	cod_doc_sunedu numeric(38)
) ;
ALTER TABLE persona ADD PRIMARY KEY (id_persona);
ALTER TABLE persona ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_actitud;
CREATE TABLE persona_acad_actitud (
	id_actitud bigint NOT NULL,
	id_persona bigint NOT NULL,
	nivel varchar(20),
	porcentaje bigint,
	archivo varchar(200),
	fecha_emision timestamp(0),
	tipo bigint,
	vigencia char(1),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0)
) ;
COMMENT ON COLUMN persona_acad_actitud.tipo IS E'1: puntualidad, 2: registro de evaluaciones,
3: participacion en comisiones';
ALTER TABLE persona_acad_actitud ADD PRIMARY KEY (id_actitud);
ALTER TABLE persona_acad_actitud ALTER COLUMN id_actitud SET NOT NULL;
ALTER TABLE persona_acad_actitud ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_articulo;
CREATE TABLE persona_acad_articulo (
	id_articulo bigint NOT NULL,
	id_persona bigint NOT NULL,
	anio bigint,
	titulo varchar(250),
	medio_publicacion varchar(250),
	isbn varchar(250),
	paginas bigint,
	lugar varchar(250),
	archivo varchar(20),
	estado char(1),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;
ALTER TABLE persona_acad_articulo ADD PRIMARY KEY (id_articulo);
ALTER TABLE persona_acad_articulo ALTER COLUMN id_articulo SET NOT NULL;
ALTER TABLE persona_acad_articulo ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_asesoria;
CREATE TABLE persona_acad_asesoria (
	id_asesoria bigint NOT NULL,
	id_persona bigint NOT NULL,
	anio bigint,
	nivel varchar(20),
	titulo varchar(20),
	autor varchar(20),
	especialidad varchar(20),
	resolucion varchar(20),
	archivo varchar(20),
	tipo varchar(20),
	estado varchar(20),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;
ALTER TABLE persona_acad_asesoria ADD PRIMARY KEY (id_asesoria);
ALTER TABLE persona_acad_asesoria ALTER COLUMN id_asesoria SET NOT NULL;
ALTER TABLE persona_acad_asesoria ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_calif_inv;
CREATE TABLE persona_acad_calif_inv (
	id_calificacion bigint NOT NULL,
	id_persona bigint NOT NULL,
	institucion varchar(500),
	tipo bigint,
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	fecha_emision timestamp(0),
	comentario varchar(500),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0),
	vigencia char(1),
	archivo varchar(200)
) ;
COMMENT ON COLUMN persona_acad_calif_inv.tipo IS E'1: investigador upeu, 2: investigador renacyt, 3: sociedad cientidica, 4: miembro de comites, 5: encargado de revision, 6: asesor revista publicada, 7: miembro activo de centro, 8: miembro activo de grupo  ';
ALTER TABLE persona_acad_calif_inv ADD PRIMARY KEY (id_calificacion);
ALTER TABLE persona_acad_calif_inv ALTER COLUMN id_calificacion SET NOT NULL;
ALTER TABLE persona_acad_calif_inv ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_categoria;
CREATE TABLE persona_acad_categoria (
	id_categoria bigint NOT NULL,
	id_persona bigint NOT NULL,
	categoria varchar(20),
	institucion varchar(250),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	archivo varchar(20),
	estado char(1),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0),
	id_categoria_docente numeric(38)
) ;
ALTER TABLE persona_acad_categoria ADD PRIMARY KEY (id_categoria);
ALTER TABLE persona_acad_categoria ALTER COLUMN id_categoria SET NOT NULL;
ALTER TABLE persona_acad_categoria ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_colegiatura;
CREATE TABLE persona_acad_colegiatura (
	id_colegiatura bigint NOT NULL,
	id_persona bigint,
	colegio varchar(500),
	codigo varchar(50),
	fecha timestamp(0),
	archivo varchar(250),
	estado char(1),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0),
	origen char(1)
) ;
ALTER TABLE persona_acad_colegiatura ADD PRIMARY KEY (id_colegiatura);
ALTER TABLE persona_acad_colegiatura ALTER COLUMN id_colegiatura SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_cosmovision;
CREATE TABLE persona_acad_cosmovision (
	id_cosmovision bigint NOT NULL,
	id_persona bigint NOT NULL,
	archivo varchar(200),
	fecha_emision timestamp(0),
	tipo_sustento bigint,
	comentario varchar(500),
	vigencia char(1),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0)
) ;
COMMENT ON COLUMN persona_acad_cosmovision.tipo_sustento IS E'1: filosofia persona, 2: mision y vision, 3:codigo de etica, 4:libertad de catedra';
ALTER TABLE persona_acad_cosmovision ADD PRIMARY KEY (id_cosmovision);
ALTER TABLE persona_acad_cosmovision ALTER COLUMN id_cosmovision SET NOT NULL;
ALTER TABLE persona_acad_cosmovision ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_curso;
CREATE TABLE persona_acad_curso (
	id_curso bigint NOT NULL,
	id_persona bigint,
	nombre varchar(500),
	entidad varchar(250),
	horas bigint,
	creditos bigint,
	lugar varchar(250),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	archivo varchar(200),
	estado char(1),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0),
	semestre varchar(20)
) ;
ALTER TABLE persona_acad_curso ADD PRIMARY KEY (id_curso);
ALTER TABLE persona_acad_curso ALTER COLUMN id_curso SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_desemp_doc;
CREATE TABLE persona_acad_desemp_doc (
	id_desemp_doc bigint NOT NULL,
	id_persona bigint NOT NULL,
	nota bigint,
	estado char(1),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0)
) ;
ALTER TABLE persona_acad_desemp_doc ADD PRIMARY KEY (id_desemp_doc);
ALTER TABLE persona_acad_desemp_doc ALTER COLUMN id_desemp_doc SET NOT NULL;
ALTER TABLE persona_acad_desemp_doc ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_distincion;
CREATE TABLE persona_acad_distincion (
	id_distincion bigint NOT NULL,
	id_persona bigint NOT NULL,
	institucion varchar(250),
	pais bigint,
	detalle varchar(500),
	fecha timestamp(0),
	resolucion varchar(250),
	archivo varchar(250),
	estado char(1),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;
ALTER TABLE persona_acad_distincion ADD PRIMARY KEY (id_distincion);
ALTER TABLE persona_acad_distincion ALTER COLUMN id_distincion SET NOT NULL;
ALTER TABLE persona_acad_distincion ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_ejercicio;
CREATE TABLE persona_acad_ejercicio (
	id_ejercicio bigint NOT NULL,
	id_persona bigint NOT NULL,
	institucion varchar(500),
	semestre varchar(200),
	archivo varchar(200),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	fecha_emision timestamp(0),
	cargo varchar(500),
	id_tipo_tiempo_trabajo bigint,
	comentario varchar(500),
	vigencia char(1),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0)
) ;
ALTER TABLE persona_acad_ejercicio ADD PRIMARY KEY (id_ejercicio);
ALTER TABLE persona_acad_ejercicio ALTER COLUMN id_ejercicio SET NOT NULL;
ALTER TABLE persona_acad_ejercicio ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_evento;
CREATE TABLE persona_acad_evento (
	id_evento bigint NOT NULL,
	id_persona bigint NOT NULL,
	institucion varchar(500),
	tipo bigint,
	hora bigint,
	archivo varchar(200),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	fecha_emision timestamp(0),
	comentario varchar(500),
	vigencia char(1),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0)
) ;
COMMENT ON COLUMN persona_acad_evento.tipo IS E'1: pro. inv. institucional, 2: pro. inv. externos, 3: pasantias, 4: exposicion/disertacion, 5: ponencia/presentacion, 6: presentacion poster, 7: asistencia eventos';
ALTER TABLE persona_acad_evento ADD PRIMARY KEY (id_evento);
ALTER TABLE persona_acad_evento ALTER COLUMN id_evento SET NOT NULL;
ALTER TABLE persona_acad_evento ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_exp_admin;
CREATE TABLE persona_acad_exp_admin (
	id_experiencia bigint NOT NULL,
	id_persona bigint NOT NULL,
	institucion varchar(300),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0) NOT NULL,
	resolucion varchar(50),
	estado char(1),
	cargo varchar(250),
	archivo varchar(20),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;
ALTER TABLE persona_acad_exp_admin ADD PRIMARY KEY (id_experiencia);
ALTER TABLE persona_acad_exp_admin ALTER COLUMN id_experiencia SET NOT NULL;
ALTER TABLE persona_acad_exp_admin ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_acad_exp_admin ALTER COLUMN fecha_fin SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_exp_admin_nu;
CREATE TABLE persona_acad_exp_admin_nu (
	id_experiencia bigint NOT NULL,
	id_persona bigint NOT NULL,
	archivo varchar(200),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	fecha_emision timestamp(0),
	cargo varchar(500),
	comentario varchar(500),
	vigencia char(1),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0)
) ;
ALTER TABLE persona_acad_exp_admin_nu ADD PRIMARY KEY (id_experiencia);
ALTER TABLE persona_acad_exp_admin_nu ALTER COLUMN id_experiencia SET NOT NULL;
ALTER TABLE persona_acad_exp_admin_nu ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_exp_docencia;
CREATE TABLE persona_acad_exp_docencia (
	id_experiencia bigint NOT NULL,
	id_persona bigint NOT NULL,
	institucion varchar(250),
	ciclo varchar(20),
	cargo varchar(20),
	fecha_inicio timestamp(0),
	fin_last varchar(20),
	pregrado varchar(20),
	maestria varchar(20),
	doctorado varchar(20),
	especialidad varchar(20),
	estado char(1),
	tipo varchar(20),
	archivo varchar(30),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0),
	fecha_fin timestamp(0),
	id_semestre numeric(38),
	origen char(1)
) ;
ALTER TABLE persona_acad_exp_docencia ADD PRIMARY KEY (id_experiencia);
ALTER TABLE persona_acad_exp_docencia ALTER COLUMN id_experiencia SET NOT NULL;
ALTER TABLE persona_acad_exp_docencia ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_exp_profesional;
CREATE TABLE persona_acad_exp_profesional (
	id_experiencia bigint NOT NULL,
	id_persona bigint NOT NULL,
	institucion varchar(300),
	cargo varchar(300),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	archivo varchar(20),
	estado char(1),
	descripcion varchar(500),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0),
	id_contrato bigint,
	origen char(1)
) ;
COMMENT ON COLUMN persona_acad_exp_profesional.id_contrato IS E'sale de eliseo.aps_planill.id_contrato';
ALTER TABLE persona_acad_exp_profesional ADD PRIMARY KEY (id_experiencia);
ALTER TABLE persona_acad_exp_profesional ALTER COLUMN id_experiencia SET NOT NULL;
ALTER TABLE persona_acad_exp_profesional ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_horas_semanales;
CREATE TABLE persona_acad_horas_semanales (
	id_horas_semanales bigint NOT NULL,
	id_persona bigint NOT NULL,
	ciclo varchar(20),
	clases bigint,
	investigacion bigint,
	proy_social bigint,
	gest_acad bigint,
	gest_admin bigint,
	gest_gob bigint,
	otro bigint,
	estado varchar(20),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;
ALTER TABLE persona_acad_horas_semanales ADD PRIMARY KEY (id_horas_semanales);
ALTER TABLE persona_acad_horas_semanales ALTER COLUMN id_horas_semanales SET NOT NULL;
ALTER TABLE persona_acad_horas_semanales ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_idioma;
CREATE TABLE persona_acad_idioma (
	id_idioma bigint NOT NULL,
	id_persona bigint,
	id_tipoidioma bigint,
	institucion varchar(200),
	anio bigint,
	estado char(1) NOT NULL,
	habla char(1),
	lectura char(1),
	escritura char(1),
	es_materna char(1),
	archivo varchar(200),
	dominio varchar(20),
	dominio_url varchar(200),
	tipo_dominio varchar(20),
	otro_certificado varchar(200),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0),
	origen char(1)
) ;
ALTER TABLE persona_acad_idioma ADD PRIMARY KEY (id_idioma);
ALTER TABLE persona_acad_idioma ALTER COLUMN id_idioma SET NOT NULL;
ALTER TABLE persona_acad_idioma ALTER COLUMN estado SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_ife;
CREATE TABLE persona_acad_ife (
	id_ife bigint NOT NULL,
	id_persona bigint NOT NULL,
	semestre varchar(500),
	curso varchar(500),
	archivo varchar(200),
	fecha_emision timestamp(0),
	tipo_sustento bigint,
	comentario varchar(500),
	vigencia char(1),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0)
) ;
COMMENT ON COLUMN persona_acad_ife.tipo_sustento IS E'1: educacion religiosa, 2:formacion cristiana, 3:complementacion pedagogica, 4: cetificacion deevaluacion curricular, 5:cumplimiento de silabo';
ALTER TABLE persona_acad_ife ADD PRIMARY KEY (id_ife);
ALTER TABLE persona_acad_ife ALTER COLUMN id_ife SET NOT NULL;
ALTER TABLE persona_acad_ife ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_jurado;
CREATE TABLE persona_acad_jurado (
	id_jurado bigint NOT NULL,
	id_persona bigint NOT NULL,
	anio bigint,
	nivel varchar(20),
	titulo varchar(250),
	autor varchar(250),
	especialidad varchar(250),
	resolucion varchar(20),
	archivo varchar(20),
	tipo varchar(20),
	estado char(1),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;
ALTER TABLE persona_acad_jurado ADD PRIMARY KEY (id_jurado,id_persona);
ALTER TABLE persona_acad_jurado ALTER COLUMN id_jurado SET NOT NULL;
ALTER TABLE persona_acad_jurado ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_libro;
CREATE TABLE persona_acad_libro (
	id_libro bigint NOT NULL,
	id_persona bigint NOT NULL,
	anio bigint,
	titulo varchar(250),
	tipo varchar(20),
	rol varchar(20),
	editorial varchar(300),
	isbn varchar(250),
	archivo varchar(200),
	estado char(1),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0),
	url varchar(500)
) ;
ALTER TABLE persona_acad_libro ALTER COLUMN id_libro SET NOT NULL;
ALTER TABLE persona_acad_libro ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_logro;
CREATE TABLE persona_acad_logro (
	id_logro bigint NOT NULL,
	institucion varchar(250),
	pais bigint,
	fecha timestamp(0),
	detalle varchar(500),
	archivo varchar(20),
	estado varchar(20),
	id_persona bigint NOT NULL,
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;
ALTER TABLE persona_acad_logro ADD PRIMARY KEY (id_logro);
ALTER TABLE persona_acad_logro ALTER COLUMN id_logro SET NOT NULL;
ALTER TABLE persona_acad_logro ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_membresia;
CREATE TABLE persona_acad_membresia (
	id_membresia bigint NOT NULL,
	id_persona bigint NOT NULL,
	institucion varchar(250),
	fecha_inicio timestamp(0),
	url varchar(250),
	archivo varchar(200),
	estado char(1),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;
ALTER TABLE persona_acad_membresia ADD PRIMARY KEY (id_membresia);
ALTER TABLE persona_acad_membresia ALTER COLUMN id_membresia SET NOT NULL;
ALTER TABLE persona_acad_membresia ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_movilidad;
CREATE TABLE persona_acad_movilidad (
	id_movilidad bigint NOT NULL,
	institucion varchar(250),
	pais bigint,
	fec_inicio timestamp(0),
	fec_fin timestamp(0),
	detalle varchar(500),
	estado varchar(20),
	archivo varchar(20),
	id_persona bigint NOT NULL,
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;
ALTER TABLE persona_acad_movilidad ADD PRIMARY KEY (id_movilidad);
ALTER TABLE persona_acad_movilidad ALTER COLUMN id_movilidad SET NOT NULL;
ALTER TABLE persona_acad_movilidad ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_predocente;
CREATE TABLE persona_acad_predocente (
	id_predocente bigint NOT NULL,
	id_persona bigint NOT NULL,
	institucion varchar(500),
	semestre varchar(200),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	fecha_emision timestamp(0),
	cargo varchar(500),
	comentario varchar(500),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0),
	vigencia char(1),
	archivo varchar(200)
) ;
ALTER TABLE persona_acad_predocente ADD PRIMARY KEY (id_predocente);
ALTER TABLE persona_acad_predocente ALTER COLUMN id_predocente SET NOT NULL;
ALTER TABLE persona_acad_predocente ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_proyecto;
CREATE TABLE persona_acad_proyecto (
	id_proyecto bigint NOT NULL,
	id_persona bigint NOT NULL,
	anio bigint,
	titulo varchar(250),
	linea_investigacion varchar(500),
	fecha_aprobacion timestamp(0),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	monto varchar(20),
	financiamiento varchar(20),
	rol varchar(20),
	archivo varchar(20),
	estado char(1),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;
ALTER TABLE persona_acad_proyecto ADD PRIMARY KEY (id_proyecto);
ALTER TABLE persona_acad_proyecto ALTER COLUMN id_proyecto SET NOT NULL;
ALTER TABLE persona_acad_proyecto ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_rec_cap;
CREATE TABLE persona_acad_rec_cap (
	id_reconocimiento bigint NOT NULL,
	id_persona bigint NOT NULL,
	institucion varchar(500),
	semestre varchar(200),
	archivo varchar(200),
	fecha_emision timestamp(0),
	comentario varchar(500),
	vigencia char(1),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0)
) ;
ALTER TABLE persona_acad_rec_cap ADD PRIMARY KEY (id_reconocimiento);
ALTER TABLE persona_acad_rec_cap ALTER COLUMN id_reconocimiento SET NOT NULL;
ALTER TABLE persona_acad_rec_cap ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_regimen;
CREATE TABLE persona_acad_regimen (
	id_regimen bigint NOT NULL,
	id_persona bigint NOT NULL,
	tipo varchar(20),
	institucion varchar(250),
	regimen varchar(20),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	archivo varchar(20),
	estado char(1),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0),
	id_tipo_tiempo_regimen numeric(38)
) ;
ALTER TABLE persona_acad_regimen ADD PRIMARY KEY (id_regimen);
ALTER TABLE persona_acad_regimen ALTER COLUMN id_regimen SET NOT NULL;
ALTER TABLE persona_acad_regimen ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_servicio;
CREATE TABLE persona_acad_servicio (
	id_servicio bigint NOT NULL,
	id_persona bigint NOT NULL,
	tipo_cert bigint,
	hora bigint,
	archivo varchar(200),
	fecha_emision timestamp(0),
	comentario varchar(200),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0),
	vigencia char(1)
) ;
COMMENT ON COLUMN persona_acad_servicio.tipo_cert IS E'1: servicio voluntario misionero, 2:organizador por programa, 3: apoyo logistico';
ALTER TABLE persona_acad_servicio ADD PRIMARY KEY (id_servicio);
ALTER TABLE persona_acad_servicio ALTER COLUMN id_servicio SET NOT NULL;
ALTER TABLE persona_acad_servicio ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_tutoria;
CREATE TABLE persona_acad_tutoria (
	id_tutoria bigint NOT NULL,
	id_persona bigint NOT NULL,
	estudiantes bigint,
	archivo varchar(200),
	fecha_emision timestamp(0),
	tipo bigint,
	comentario varchar(500),
	vigencia char(1),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0)
) ;
COMMENT ON COLUMN persona_acad_tutoria.tipo IS E'1: tutoria, 2: consejeria';
ALTER TABLE persona_acad_tutoria ADD PRIMARY KEY (id_tutoria);
ALTER TABLE persona_acad_tutoria ALTER COLUMN id_tutoria SET NOT NULL;
ALTER TABLE persona_acad_tutoria ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_acad_vinc_med;
CREATE TABLE persona_acad_vinc_med (
	id_vinculacion bigint NOT NULL,
	id_persona bigint NOT NULL,
	institucion varchar(200),
	tipo bigint,
	archivo varchar(200),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	fecha_emision timestamp(0),
	comentario varchar(500),
	vigencia char(1),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0)
) ;
COMMENT ON COLUMN persona_acad_vinc_med.tipo IS E'1: org. evento academico, 2: org. evento cultural, 3: org. evento eclesiastico, 4 : org. servicio comunitario, 5: miembro de sociedades activo, 6: ponente en eventos';
ALTER TABLE persona_acad_vinc_med ADD PRIMARY KEY (id_vinculacion);
ALTER TABLE persona_acad_vinc_med ALTER COLUMN id_vinculacion SET NOT NULL;
ALTER TABLE persona_acad_vinc_med ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_apoderado;
CREATE TABLE persona_apoderado (
	id_persona numeric(38) NOT NULL,
	id_resp_financiero numeric(38) NOT NULL,
	id_tipo_resp_financiero numeric(38),
	fecha timestamp(0),
	es_activo varchar(1)
) ;
ALTER TABLE persona_apoderado ADD PRIMARY KEY (id_persona,id_resp_financiero);


DROP TABLE IF EXISTS persona_conductor;
CREATE TABLE persona_conductor (
	id_persona numeric(38) NOT NULL,
	licencia varchar(20),
	categoria varchar(10)
) ;
ALTER TABLE persona_conductor ADD PRIMARY KEY (id_persona);
ALTER TABLE persona_conductor ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_contribuyente;
CREATE TABLE persona_contribuyente (
	id_persona bigint NOT NULL,
	id_ruc varchar(50) NOT NULL,
	id_tipoestado bigint NOT NULL,
	id_tipocondicion bigint NOT NULL,
	id_tipocontribuyente bigint,
	id_tipoactividadeconomica bigint,
	id_tipopais bigint,
	id_user bigint,
	telefono varchar(50),
	celular varchar(50),
	correo varchar(500)
) ;
ALTER TABLE persona_contribuyente ADD UNIQUE (id_ruc);
ALTER TABLE persona_contribuyente ADD PRIMARY KEY (id_persona);
ALTER TABLE persona_contribuyente ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_contribuyente ALTER COLUMN id_ruc SET NOT NULL;
ALTER TABLE persona_contribuyente ALTER COLUMN id_tipoestado SET NOT NULL;
ALTER TABLE persona_contribuyente ALTER COLUMN id_tipocondicion SET NOT NULL;


DROP TABLE IF EXISTS persona_cuenta_bancaria;
CREATE TABLE persona_cuenta_bancaria (
	id_pbancaria numeric(38) NOT NULL,
	id_persona numeric(38) NOT NULL,
	cuenta varchar(30),
	id_banco varchar(3),
	id_tipoctabanco numeric(38),
	cci varchar(30),
	fec_inicio timestamp(0),
	fec_fin timestamp(0),
	documento_url varchar(255),
	activo varchar(1),
	id_moneda numeric(38)
) ;
ALTER TABLE persona_cuenta_bancaria ADD PRIMARY KEY (id_pbancaria);
ALTER TABLE persona_cuenta_bancaria ALTER COLUMN id_pbancaria SET NOT NULL;
ALTER TABLE persona_cuenta_bancaria ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_direccion;
CREATE TABLE persona_direccion (
	id_direccion numeric(38) NOT NULL,
	id_persona numeric(38) NOT NULL,
	id_tipodireccion numeric(38) NOT NULL,
	id_tipovia varchar(2),
	id_tipozona varchar(2),
	id_ubigeo numeric(38),
	tipovia varchar(150),
	tipozona varchar(150),
	referencia varchar(200),
	eslegal varchar(1),
	direccion varchar(1000),
	map_latitud varchar(255),
	map_longitud varchar(255),
	comentario varchar(255),
	es_activo numeric(38),
	num_via varchar(10),
	departamento varchar(10),
	interior varchar(10),
	manzana varchar(10),
	lote varchar(10),
	kilometro varchar(10),
	blok varchar(10),
	etapa varchar(10),
	id_tipopais bigint
) ;
DROP INDEX IF EXISTS idx_persona_direccion_estado;
CREATE INDEX idx_persona_direccion_estado ON persona_direccion (id_direccion, id_persona, es_activo);
ALTER TABLE persona_direccion ADD PRIMARY KEY (id_direccion);
ALTER TABLE persona_direccion ALTER COLUMN id_direccion SET NOT NULL;
ALTER TABLE persona_direccion ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_direccion ALTER COLUMN id_tipodireccion SET NOT NULL;


DROP TABLE IF EXISTS persona_documento;
CREATE TABLE persona_documento (
	id_persona numeric(38) NOT NULL,
	id_tipodocumento numeric(38) NOT NULL,
	num_documento varchar(20) NOT NULL,
	img_documento bytea,
	documento_url varchar(150),
	es_activo numeric(38) NOT NULL DEFAULT 0,
	fec_caducidad timestamp(0)
) ;
ALTER TABLE persona_documento ADD PRIMARY KEY (num_documento);
ALTER TABLE persona_documento ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_documento ALTER COLUMN id_tipodocumento SET NOT NULL;
ALTER TABLE persona_documento ALTER COLUMN num_documento SET NOT NULL;
ALTER TABLE persona_documento ALTER COLUMN es_activo SET NOT NULL;


DROP TABLE IF EXISTS persona_documento_historial;
CREATE TABLE persona_documento_historial (
	id_documento_historial bigint NOT NULL,
	num_documento varchar(20) NOT NULL,
	documento_url varchar(150),
	fecha_reg timestamp(0) NOT NULL,
	estado bigint NOT NULL,
	id_persona bigint NOT NULL
) ;
ALTER TABLE persona_documento_historial ADD PRIMARY KEY (id_documento_historial);
ALTER TABLE persona_documento_historial ALTER COLUMN id_documento_historial SET NOT NULL;
ALTER TABLE persona_documento_historial ALTER COLUMN estado SET NOT NULL;
ALTER TABLE persona_documento_historial ALTER COLUMN fecha_reg SET NOT NULL;
ALTER TABLE persona_documento_historial ALTER COLUMN num_documento SET NOT NULL;
ALTER TABLE persona_documento_historial ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_documento_unificado;
CREATE TABLE persona_documento_unificado (
	id_persona_documento bigint NOT NULL,
	id_documento bigint NOT NULL,
	id_persona numeric(38) NOT NULL,
	documento_url varchar(150) NOT NULL,
	fecha_reg timestamp(0) NOT NULL,
	estado bigint NOT NULL
) ;
ALTER TABLE persona_documento_unificado ADD PRIMARY KEY (id_persona_documento);
ALTER TABLE persona_documento_unificado ALTER COLUMN id_persona_documento SET NOT NULL;
ALTER TABLE persona_documento_unificado ALTER COLUMN id_documento SET NOT NULL;
ALTER TABLE persona_documento_unificado ALTER COLUMN documento_url SET NOT NULL;
ALTER TABLE persona_documento_unificado ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_documento_unificado ALTER COLUMN fecha_reg SET NOT NULL;
ALTER TABLE persona_documento_unificado ALTER COLUMN estado SET NOT NULL;


DROP TABLE IF EXISTS persona_documento_url;
CREATE TABLE persona_documento_url (
	id_persona bigint NOT NULL,
	id_tipodocumento bigint NOT NULL,
	nombre varchar(300),
	url varchar(500) NOT NULL
) ;
ALTER TABLE persona_documento_url ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_documento_url ALTER COLUMN id_tipodocumento SET NOT NULL;
ALTER TABLE persona_documento_url ALTER COLUMN url SET NOT NULL;


DROP TABLE IF EXISTS persona_embargo_judicial;
CREATE TABLE persona_embargo_judicial (
	id_persona_ejudicial numeric(38) NOT NULL,
	id_persona numeric(38),
	id_tipoembargo varchar(2),
	fecha timestamp(0),
	detalle varchar(250),
	archivo_nombre varchar(250),
	archivo_url varchar(500),
	estado varchar(1)
) ;
COMMENT ON COLUMN persona_embargo_judicial.id_tipoembargo IS E'01=Con Embargo;02=Proveedor observado';
ALTER TABLE persona_embargo_judicial ADD UNIQUE (id_persona);
ALTER TABLE persona_embargo_judicial ADD PRIMARY KEY (id_persona_ejudicial);


DROP TABLE IF EXISTS persona_estado_civil;
CREATE TABLE persona_estado_civil (
	id_persona_estadocivil bigint NOT NULL,
	id_persona bigint NOT NULL,
	id_tipoestadocivil bigint,
	id_tipoestadocivil_anterior bigint,
	id_estado_aps varchar(20),
	id_estado_tregistro varchar(20),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	vigencia char(1)
) ;
COMMENT ON COLUMN persona_estado_civil.id_estado_aps IS E'pendiente/aprobado/rechazado';
COMMENT ON COLUMN persona_estado_civil.id_estado_tregistro IS E'pendiente/aprobado/rechazado';
COMMENT ON COLUMN persona_estado_civil.id_tipoestadocivil IS E'Nuevo estado civil';
COMMENT ON COLUMN persona_estado_civil.id_tipoestadocivil_anterior IS E'Estado civil previo';
ALTER TABLE persona_estado_civil ADD PRIMARY KEY (id_persona_estadocivil);
ALTER TABLE persona_estado_civil ALTER COLUMN id_persona_estadocivil SET NOT NULL;
ALTER TABLE persona_estado_civil ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_formacion_basica;
CREATE TABLE persona_formacion_basica (
	id_formacion_basica bigint NOT NULL,
	id_persona bigint NOT NULL,
	id_situacion_educativa varchar(20) NOT NULL,
	institucion varchar(20),
	procedencia varchar(20),
	fecha_ingreso timestamp(0),
	fecha_egreso timestamp(0),
	estado char(1),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0),
	origen char(1)
) ;
ALTER TABLE persona_formacion_basica ADD PRIMARY KEY (id_formacion_basica);
ALTER TABLE persona_formacion_basica ALTER COLUMN id_formacion_basica SET NOT NULL;
ALTER TABLE persona_formacion_basica ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_formacion_basica ALTER COLUMN id_situacion_educativa SET NOT NULL;


DROP TABLE IF EXISTS persona_formacion_capacitacion;
CREATE TABLE persona_formacion_capacitacion (
	id_capacitacion bigint NOT NULL,
	id_persona bigint NOT NULL,
	titulo varchar(500),
	entidad varchar(500),
	lugar varchar(500),
	horas varchar(20),
	fecha_inicio timestamp(0),
	fecha_fin timestamp(0),
	autogenerado varchar(20),
	ayuda varchar(20),
	monto double precision,
	acuerdo varchar(20),
	archivo varchar(20),
	estado char(1),
	tipo char(1),
	creditos bigint,
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0),
	semestre varchar(20)
) ;
ALTER TABLE persona_formacion_capacitacion ADD PRIMARY KEY (id_capacitacion);
ALTER TABLE persona_formacion_capacitacion ALTER COLUMN id_capacitacion SET NOT NULL;
ALTER TABLE persona_formacion_capacitacion ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_imagen;
CREATE TABLE persona_imagen (
	id_imagen numeric(38) NOT NULL,
	id_persona numeric(38) NOT NULL,
	imagen bytea,
	fec_registro timestamp(0),
	comentario varchar(255)
) ;
ALTER TABLE persona_imagen ADD PRIMARY KEY (id_imagen);
ALTER TABLE persona_imagen ALTER COLUMN id_imagen SET NOT NULL;
ALTER TABLE persona_imagen ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_informacion_academica;
CREATE TABLE persona_informacion_academica (
	id_informacion_academica numeric(38) NOT NULL,
	id_persona bigint NOT NULL,
	id_situacion_educativa varchar(20) NOT NULL,
	id_carrera varchar(20),
	denominacion_grado varchar(250),
	id_pais_procedencia bigint,
	id_institucion varchar(20),
	institucion_grado varchar(250),
	id_regimen varchar(20),
	id_tipo_inst varchar(20),
	fecha_ingreso timestamp(0),
	fecha_egreso timestamp(0),
	codigo_universitario varchar(20),
	inscripcion_sunedu varchar(1),
	fecha_inscripcion timestamp(0),
	estado_perf varchar(20),
	grado_perf varchar(20),
	denominacion_grado_perf varchar(250),
	id_pais_procedencia_perf bigint,
	id_institucion_perf varchar(20),
	id_regimen_perf varchar(20),
	institucion_perf varchar(20),
	tipo char(1),
	archivo varchar(200),
	ayuda_uni varchar(20),
	estado char(1),
	duracion bigint,
	creditos bigint,
	horas bigint,
	meses bigint,
	resolucion varchar(200),
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0),
	origen char(1)
) ;
ALTER TABLE persona_informacion_academica ADD PRIMARY KEY (id_informacion_academica);
ALTER TABLE persona_informacion_academica ALTER COLUMN id_informacion_academica SET NOT NULL;
ALTER TABLE persona_informacion_academica ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_informacion_academica ALTER COLUMN id_situacion_educativa SET NOT NULL;


DROP TABLE IF EXISTS persona_info_contribuyente;
CREATE TABLE persona_info_contribuyente (
	id_persona bigint NOT NULL,
	fecha_ingreso timestamp(0),
	id_moneda bigint,
	dia_pago_proveedor bigint,
	dia_pago_cliente bigint,
	es_proveedor varchar(1) NOT NULL DEFAULT '0',
	es_cliente varchar(1) NOT NULL DEFAULT '0',
	id_rubro bigint,
	id_sede bigint,
	id_tipocanal bigint,
	id_categoria bigint,
	validar_linea_credito varchar(1),
	monto_linea_credito bigint,
	fec_autorizacion timestamp(0),
	fec_caducidad timestamp(0),
	monto_sobregiro bigint,
	porcentaje_sobregiro bigint,
	monto_garantia bigint,
	porcentaje_garantia bigint,
	monto_garantia_af bigint,
	porcentaje_garantia_af bigint,
	es_activo_union varchar(1) NOT NULL DEFAULT '0',
	codigo_alumno_activo varchar(1) NOT NULL DEFAULT '0',
	codigo_alumno varchar(15),
	id_facultad bigint,
	id_escuela bigint,
	ciclo varchar(10),
	es_activo varchar(1) NOT NULL DEFAULT '1',
	created_at timestamp(0),
	updated_at timestamp(0),
	id_user bigint
) ;
ALTER TABLE persona_info_contribuyente ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_info_contribuyente ALTER COLUMN es_activo_union SET NOT NULL;
ALTER TABLE persona_info_contribuyente ALTER COLUMN codigo_alumno_activo SET NOT NULL;
ALTER TABLE persona_info_contribuyente ALTER COLUMN es_activo SET NOT NULL;
ALTER TABLE persona_info_contribuyente ALTER COLUMN es_proveedor SET NOT NULL;
ALTER TABLE persona_info_contribuyente ALTER COLUMN es_cliente SET NOT NULL;


DROP TABLE IF EXISTS persona_juridica;
CREATE TABLE persona_juridica (
	id_ruc varchar(50) NOT NULL,
	id_persona numeric(38) NOT NULL,
	id_tipoestado numeric(38) NOT NULL,
	id_tipocondicion numeric(38) NOT NULL,
	id_tipocontribuyente numeric(38),
	id_tipoactividadeconomica numeric(38),
	id_tipopais numeric(38),
	fec_registro timestamp(0),
	fec_inicio timestamp(0),
	fec_baja timestamp(0),
	es_rus numeric(38),
	es_buen_contribuyente varchar(1) DEFAULT 'N',
	es_agente_retencion varchar(1) DEFAULT 'N',
	auto_detraccion varchar(1) DEFAULT 'N',
	no_domiciliado varchar(1) DEFAULT 'N'
) ;
COMMENT ON COLUMN persona_juridica.no_domiciliado IS E'S = NO DOMICILIADO
N = SI DOMICILIADO';
ALTER TABLE persona_juridica ADD PRIMARY KEY (id_ruc);
ALTER TABLE persona_juridica ALTER COLUMN id_ruc SET NOT NULL;
ALTER TABLE persona_juridica ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_juridica ALTER COLUMN id_tipoestado SET NOT NULL;
ALTER TABLE persona_juridica ALTER COLUMN id_tipocondicion SET NOT NULL;


DROP TABLE IF EXISTS persona_juridica_contacto;
CREATE TABLE persona_juridica_contacto (
	id_ruc varchar(50) NOT NULL,
	nombre_contacto varchar(4000),
	apellido_contacto varchar(4000),
	celular_contacto varchar(4000),
	email_contacto varchar(4000),
	estado char(1)
) ;
ALTER TABLE persona_juridica_contacto ALTER COLUMN id_ruc SET NOT NULL;


DROP TABLE IF EXISTS persona_linea_credito_hist;
CREATE TABLE persona_linea_credito_hist (
	id_lcredito bigint NOT NULL,
	id_persona bigint NOT NULL,
	fec_autorizacion timestamp(0),
	fec_caducidad timestamp(0),
	monto_linea_credito bigint,
	monto_sobregiro bigint,
	porcentaje_sobregiro bigint,
	monto_garantia bigint,
	porcentaje_garantia bigint,
	monto_garantia_af bigint,
	porcentaje_garantia_af bigint,
	comentario varchar(1000),
	created_at timestamp(0),
	updated_at timestamp(0),
	id_user bigint
) ;
ALTER TABLE persona_linea_credito_hist ADD PRIMARY KEY (id_lcredito);
ALTER TABLE persona_linea_credito_hist ALTER COLUMN id_lcredito SET NOT NULL;
ALTER TABLE persona_linea_credito_hist ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_natural;
CREATE TABLE persona_natural (
	id_persona numeric(38) NOT NULL,
	id_tipotratamiento numeric(38),
	id_tipoestadocivil numeric(38),
	id_tiposangre numeric(38),
	id_situacion_educativo varchar(2),
	id_tipopais numeric(38),
	id_ubigeo numeric(38),
	id_tiporeligion numeric(38),
	id_tipoautoridadiglesia numeric(38),
	id_tipodocumento numeric(38),
	num_documento varchar(20),
	sexo varchar(2),
	fec_nacimiento timestamp(0),
	fec_defuncion timestamp(0),
	vive varchar(2),
	fec_caducidad timestamp(0),
	telefono varchar(40),
	celular varchar(100),
	correo varchar(500),
	correo_inst varchar(50),
	iglesia varchar(150),
	fecha_bautizo timestamp(0),
	tiene_cargo varchar(1),
	cargo_iglesia varchar(150),
	nombre_autoridad varchar(150),
	tlf_autoridad varchar(150),
	id_nacionalidad bigint,
	id_departamento bigint,
	documento_url varchar(150),
	id_provincia varchar(5),
	id_distrito varchar(5),
	foto varchar(4000),
	firma varchar(50),
	credito_pronabec numeric(38) NOT NULL DEFAULT 0,
	fecha_ingreso timestamp(0),
	emergencia_persona varchar(100),
	emergencia_tlf varchar(20),
	id_tipo_identidad_etnica numeric(38),
	proteccion_datos numeric(38),
	id_iglesia numeric(38),
	p_personal char(1),
	p_familiar char(1),
	p_academico char(1),
	p_laboral char(1),
	es_docente char(1),
	cv_url varchar(200),
	id_tipo_discapacidad bigint,
	v_seleccion char(1),
	id_tipoactividadeconomica numeric(38),
	fecha_salida timestamp(0),
	esdiscapacitado varchar(1),
	discapacitado_url varchar(150),
	codigo_assinet varchar(20)
) ;
COMMENT ON COLUMN persona_natural.codigo_assinet IS E'Personas antiguas que no se les puso el dni para identificar los asientos del assinet en la ctacte';
COMMENT ON COLUMN persona_natural.credito_pronabec IS E'este campo es cuando los alumnos actualizan sus datos para optar por un crédito estudiantil pronabec, 0 es no 1 es sí';
COMMENT ON COLUMN persona_natural.es_docente IS E'1: SI , 0 : NO';
COMMENT ON COLUMN persona_natural.esdiscapacitado IS E'S:SI, N:NO';
COMMENT ON COLUMN persona_natural.fecha_ingreso IS E'FECHA DE INGRESO PARA EXTRANJEROS';
COMMENT ON COLUMN persona_natural.fecha_salida IS E'Fecha de salida del Pais';
COMMENT ON COLUMN persona_natural.proteccion_datos IS E'1: ACEPTO';
COMMENT ON COLUMN persona_natural.tiene_cargo IS E'S: SI, N:NO';
COMMENT ON COLUMN persona_natural.v_seleccion IS E'1:SI, 0:NO. validado para selección';
ALTER TABLE persona_natural ADD PRIMARY KEY (id_persona);
ALTER TABLE persona_natural ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_natural ALTER COLUMN credito_pronabec SET NOT NULL;


DROP TABLE IF EXISTS persona_natural_adviser;
CREATE TABLE persona_natural_adviser (
	id_persona numeric(38) NOT NULL,
	estado numeric(38) NOT NULL,
	codigo_acad varchar(200) NOT NULL
) ;
ALTER TABLE persona_natural_adviser ADD PRIMARY KEY (id_persona);
ALTER TABLE persona_natural_adviser ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_natural_adviser ALTER COLUMN estado SET NOT NULL;
ALTER TABLE persona_natural_adviser ALTER COLUMN codigo_acad SET NOT NULL;


DROP TABLE IF EXISTS persona_natural_alumno;
CREATE TABLE persona_natural_alumno (
	id_persona numeric(38) NOT NULL,
	id_acad varchar(50),
	id_erp varchar(50),
	codigo varchar(12),
	id_tipo_archivo numeric(38),
	codsunedu varchar(100)
) ;
ALTER TABLE persona_natural_alumno ADD PRIMARY KEY (id_persona);
ALTER TABLE persona_natural_alumno ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_natural_docente;
CREATE TABLE persona_natural_docente (
	id_persona numeric(38) NOT NULL,
	estado char(1),
	codigo_acad varchar(20)
) ;
ALTER TABLE persona_natural_docente ADD PRIMARY KEY (id_persona);
ALTER TABLE persona_natural_docente ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_natural_egresado;
CREATE TABLE persona_natural_egresado (
	id_persona numeric(38) NOT NULL,
	id_plan_programa numeric(38) NOT NULL,
	anio numeric(38) NOT NULL,
	id_semestre numeric(38) NOT NULL,
	graduacion char(1) NOT NULL,
	titulo char(1) NOT NULL,
	tiempo_primer_empleo numeric(38)
) ;
ALTER TABLE persona_natural_egresado ADD PRIMARY KEY (id_persona,id_plan_programa);
ALTER TABLE persona_natural_egresado ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_natural_egresado ALTER COLUMN id_plan_programa SET NOT NULL;
ALTER TABLE persona_natural_egresado ALTER COLUMN anio SET NOT NULL;
ALTER TABLE persona_natural_egresado ALTER COLUMN id_semestre SET NOT NULL;
ALTER TABLE persona_natural_egresado ALTER COLUMN graduacion SET NOT NULL;
ALTER TABLE persona_natural_egresado ALTER COLUMN titulo SET NOT NULL;


DROP TABLE IF EXISTS persona_natural_experto;
CREATE TABLE persona_natural_experto (
	id_persona numeric(38) NOT NULL,
	experiencia numeric(38),
	cv_adjunto varchar(250),
	estado char(1)
) ;
ALTER TABLE persona_natural_experto ADD PRIMARY KEY (id_persona);
ALTER TABLE persona_natural_experto ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_natural_firma;
CREATE TABLE persona_natural_firma (
	id_persona numeric(38) NOT NULL,
	img_firma bytea,
	img_foto bytea,
	img_sello bytea,
	img_indicederecho bytea,
	img_indiceizquierdo bytea,
	img_firma_url varchar(200)
) ;
ALTER TABLE persona_natural_firma ADD PRIMARY KEY (id_persona);
ALTER TABLE persona_natural_firma ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_natural_idioma;
CREATE TABLE persona_natural_idioma (
	id_idioma numeric(38) NOT NULL,
	id_persona numeric(38) NOT NULL,
	id_tipoidioma numeric(38) NOT NULL,
	es_materno numeric(38)
) ;
ALTER TABLE persona_natural_idioma ADD PRIMARY KEY (id_idioma);
ALTER TABLE persona_natural_idioma ALTER COLUMN id_idioma SET NOT NULL;
ALTER TABLE persona_natural_idioma ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_natural_idioma ALTER COLUMN id_tipoidioma SET NOT NULL;


DROP TABLE IF EXISTS persona_natural_parentesco;
CREATE TABLE persona_natural_parentesco (
	id_pariente numeric(38) NOT NULL,
	id_persona numeric(38) NOT NULL,
	id_tipoparentesco varchar(20) NOT NULL,
	comentario varchar(50)
) ;
ALTER TABLE persona_natural_parentesco ADD PRIMARY KEY (id_pariente);
ALTER TABLE persona_natural_parentesco ALTER COLUMN id_pariente SET NOT NULL;
ALTER TABLE persona_natural_parentesco ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_natural_parentesco ALTER COLUMN id_tipoparentesco SET NOT NULL;


DROP TABLE IF EXISTS persona_natural_redsocial;
CREATE TABLE persona_natural_redsocial (
	id_redsocial numeric(38) NOT NULL,
	id_persona numeric(38) NOT NULL,
	id_tipo_redsocial numeric(38) NOT NULL,
	direccion varchar(400),
	vigencia numeric(38)
) ;
ALTER TABLE persona_natural_redsocial ADD PRIMARY KEY (id_redsocial);
ALTER TABLE persona_natural_redsocial ALTER COLUMN id_redsocial SET NOT NULL;
ALTER TABLE persona_natural_redsocial ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_natural_redsocial ALTER COLUMN id_tipo_redsocial SET NOT NULL;


DROP TABLE IF EXISTS persona_natural_religion;
CREATE TABLE persona_natural_religion (
	id_persona numeric(38) NOT NULL,
	id_iglesia numeric(38) NOT NULL,
	id_tiporeligion numeric(38) NOT NULL,
	fec_baustimo timestamp(0),
	comentario varchar(50)
) ;
ALTER TABLE persona_natural_religion ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE persona_natural_religion ALTER COLUMN id_iglesia SET NOT NULL;
ALTER TABLE persona_natural_religion ALTER COLUMN id_tiporeligion SET NOT NULL;


DROP TABLE IF EXISTS persona_natural_resp_fin;
CREATE TABLE persona_natural_resp_fin (
	id_persona numeric(38) NOT NULL,
	estado char(1) DEFAULT '1'
) ;
ALTER TABLE persona_natural_resp_fin ADD PRIMARY KEY (id_persona);
ALTER TABLE persona_natural_resp_fin ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_natural_school;
CREATE TABLE persona_natural_school (
	id_persona bigint,
	nro_hermanos bigint,
	ubica_centro_med varchar(100),
	id_resp_pago bigint,
	con_quien_vive varchar(100),
	id_resp_matricula bigint,
	vive_con_estudiante varchar(2),
	ex_alumno varchar(2),
	ex_alumno_anho varchar(4),
	vive_con_padre varchar(2),
	vive_con_madre varchar(2),
	vive_con_apoderado varchar(20),
	id_nivel_instruccion varchar(2),
	id_grado bigint,
	id_nivel bigint
) ;


DROP TABLE IF EXISTS persona_natural_trabajador;
CREATE TABLE persona_natural_trabajador (
	id_persona numeric(38) NOT NULL,
	cuspp varchar(20),
	fec_inicioafp timestamp(0),
	fec_inicioonp timestamp(0),
	esdiscapacitado varchar(1),
	discapacitado_url varchar(150),
	id_tipo_comision_pens numeric(38),
	id_regimen_pensionaria varchar(2),
	id_tipo_discapacidad bigint,
	padre_registrado varchar(1),
	id_padre numeric(38),
	padre_datos varchar(150),
	padre_tlf varchar(25),
	madre_registrado varchar(1),
	id_madre numeric(38),
	madre_datos varchar(150),
	madre_tlf varchar(25),
	cod_autogenerado varchar(200),
	id_condicion_laboral varchar(5)
) ;
COMMENT ON COLUMN persona_natural_trabajador.esdiscapacitado IS E'S:SI, N:NO';
COMMENT ON COLUMN persona_natural_trabajador.madre_registrado IS E'S:SI, N:NO';
COMMENT ON COLUMN persona_natural_trabajador.padre_registrado IS E'S:SI, N:NO';
ALTER TABLE persona_natural_trabajador ADD PRIMARY KEY (id_persona);
ALTER TABLE persona_natural_trabajador ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_telefono;
CREATE TABLE persona_telefono (
	id_telefono numeric(38) NOT NULL,
	id_persona numeric(38) NOT NULL,
	id_tipotelefono numeric(38),
	num_telefono varchar(50),
	es_activo numeric(38),
	es_privado numeric(38),
	comentario varchar(255),
	gth integer,
	operador_movil varchar(2),
	id_tipopais_celular bigint
) ;
ALTER TABLE persona_telefono ADD PRIMARY KEY (id_telefono,id_persona);
ALTER TABLE persona_telefono ALTER COLUMN id_telefono SET NOT NULL;
ALTER TABLE persona_telefono ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS persona_virtual;
CREATE TABLE persona_virtual (
	id_virtual numeric(38) NOT NULL,
	id_persona numeric(38) NOT NULL,
	id_tipovirtual numeric(38),
	direccion varchar(255),
	comentario varchar(255),
	gth integer,
	es_activo bigint,
	es_oauth varchar(1)
) ;
COMMENT ON COLUMN persona_virtual.es_oauth IS E'Solo para correos electrónicos, hace referencia a que es el correo del oauth.';
ALTER TABLE persona_virtual ADD PRIMARY KEY (id_virtual,id_persona);
ALTER TABLE persona_virtual ALTER COLUMN id_virtual SET NOT NULL;
ALTER TABLE persona_virtual ALTER COLUMN id_persona SET NOT NULL;


DROP TABLE IF EXISTS profesiones;
CREATE TABLE profesiones (
	id_profesion numeric(38) NOT NULL,
	nombre varchar(200),
	vigencia numeric(38)
) ;
ALTER TABLE profesiones ADD PRIMARY KEY (id_profesion);
ALTER TABLE profesiones ALTER COLUMN id_profesion SET NOT NULL;


DROP TABLE IF EXISTS regimen_institucion;
CREATE TABLE regimen_institucion (
	id_regimen_institucion varchar(2) NOT NULL,
	nombre varchar(150),
	vigencia numeric(38)
) ;
ALTER TABLE regimen_institucion ADD PRIMARY KEY (id_regimen_institucion);
ALTER TABLE regimen_institucion ALTER COLUMN id_regimen_institucion SET NOT NULL;


DROP TABLE IF EXISTS situacion_educativa;
CREATE TABLE situacion_educativa (
	id_situacion_educativo varchar(2) NOT NULL,
	nombre varchar(200),
	nombre_corto varchar(80),
	comentario varchar(500),
	vigencia numeric(38),
	tipo smallint,
	condicion varchar(1),
	cod_tregistro varchar(10),
	orden bigint,
	codigo_contrato_familia varchar(20),
	abreviatura varchar(5),
	cod_academico varchar(2),
	codigo_acad varchar(20),
	nom_minedu varchar(255)
) ;
ALTER TABLE situacion_educativa ADD PRIMARY KEY (id_situacion_educativo);
ALTER TABLE situacion_educativa ALTER COLUMN id_situacion_educativo SET NOT NULL;


DROP TABLE IF EXISTS situacion_especial;
CREATE TABLE situacion_especial (
	id_situacion_especial varchar(2) NOT NULL,
	nombre varchar(255),
	nombrecorto varchar(50),
	vigencia numeric(38),
	id_tipo_modalidad_trab numeric(38)
) ;
ALTER TABLE situacion_especial ADD PRIMARY KEY (id_situacion_especial);
ALTER TABLE situacion_especial ALTER COLUMN id_situacion_especial SET NOT NULL;


DROP TABLE IF EXISTS situacion_trabajador;
CREATE TABLE situacion_trabajador (
	id_situacion_trabajador varchar(2) NOT NULL,
	nombre varchar(255),
	vigencia numeric(38),
	comentario varchar(150),
	nombre_corto varchar(20)
) ;
ALTER TABLE situacion_trabajador ADD PRIMARY KEY (id_situacion_trabajador);
ALTER TABLE situacion_trabajador ALTER COLUMN id_situacion_trabajador SET NOT NULL;


DROP TABLE IF EXISTS tipo_actividad_economica;
CREATE TABLE tipo_actividad_economica (
	id_tipoactividadeconomica numeric(38) NOT NULL,
	nombre varchar(255),
	cod_sunat varchar(50)
) ;
ALTER TABLE tipo_actividad_economica ADD PRIMARY KEY (id_tipoactividadeconomica);
ALTER TABLE tipo_actividad_economica ALTER COLUMN id_tipoactividadeconomica SET NOT NULL;


DROP TABLE IF EXISTS tipo_autoridad_iglesia;
CREATE TABLE tipo_autoridad_iglesia (
	id_tipoautoridadiglesia numeric(38) NOT NULL,
	nombre varchar(50),
	vigencia numeric(38)
) ;
ALTER TABLE tipo_autoridad_iglesia ADD PRIMARY KEY (id_tipoautoridadiglesia);
ALTER TABLE tipo_autoridad_iglesia ALTER COLUMN id_tipoautoridadiglesia SET NOT NULL;


DROP TABLE IF EXISTS tipo_condicion;
CREATE TABLE tipo_condicion (
	id_tipocondicion numeric(38) NOT NULL,
	nombre varchar(255)
) ;
ALTER TABLE tipo_condicion ADD PRIMARY KEY (id_tipocondicion);
ALTER TABLE tipo_condicion ALTER COLUMN id_tipocondicion SET NOT NULL;


DROP TABLE IF EXISTS tipo_contribuyente;
CREATE TABLE tipo_contribuyente (
	id_tipocontribuyente numeric(38) NOT NULL,
	nombre varchar(255),
	nombre_2 varchar(255)
) ;
ALTER TABLE tipo_contribuyente ADD PRIMARY KEY (id_tipocontribuyente);
ALTER TABLE tipo_contribuyente ALTER COLUMN id_tipocontribuyente SET NOT NULL;


DROP TABLE IF EXISTS tipo_control_personal;
CREATE TABLE tipo_control_personal (
	id_tipo_control_personal numeric(38) NOT NULL,
	nombre varchar(150),
	codigo varchar(5),
	comentario varchar(200),
	vigencia numeric(38),
	marcacion varchar(2)
) ;
COMMENT ON COLUMN tipo_control_personal.marcacion IS E'S: SI MARCA, N: NO MARCA';
ALTER TABLE tipo_control_personal ADD PRIMARY KEY (id_tipo_control_personal);
ALTER TABLE tipo_control_personal ALTER COLUMN id_tipo_control_personal SET NOT NULL;


DROP TABLE IF EXISTS tipo_direccion;
CREATE TABLE tipo_direccion (
	id_tipodireccion numeric(38) NOT NULL,
	nombre varchar(50),
	vigencia numeric(38),
	codigo varchar(3)
) ;
ALTER TABLE tipo_direccion ADD PRIMARY KEY (id_tipodireccion);
ALTER TABLE tipo_direccion ALTER COLUMN id_tipodireccion SET NOT NULL;


DROP TABLE IF EXISTS tipo_discapacidad;
CREATE TABLE tipo_discapacidad (
	id_tipo_discapacidad bigint NOT NULL,
	nombre varchar(50),
	vigencia numeric(38),
	codigo_acad varchar(20),
	codsunedu varchar(10)
) ;
ALTER TABLE tipo_discapacidad ADD PRIMARY KEY (id_tipo_discapacidad);
ALTER TABLE tipo_discapacidad ALTER COLUMN id_tipo_discapacidad SET NOT NULL;


DROP TABLE IF EXISTS tipo_documento;
CREATE TABLE tipo_documento (
	id_tipodocumento numeric(38) NOT NULL,
	nombre varchar(255),
	siglas varchar(10),
	vigencia numeric(38),
	codsunedo varchar(5),
	codigo varchar(10),
	id_tipopais bigint NOT NULL,
	codigo_xpress_educa varchar(4000),
	patron varchar(255),
	sunedu varchar(10)
) ;
COMMENT ON COLUMN tipo_documento.codigo IS E'Codigo del documento del pais';
COMMENT ON COLUMN tipo_documento.id_tipopais IS E'id del pais';
ALTER TABLE tipo_documento ADD PRIMARY KEY (id_tipodocumento);
ALTER TABLE tipo_documento ALTER COLUMN id_tipodocumento SET NOT NULL;
ALTER TABLE tipo_documento ALTER COLUMN id_tipopais SET NOT NULL;


DROP TABLE IF EXISTS tipo_doc_sust_vf;
CREATE TABLE tipo_doc_sust_vf (
	id_tipo_doc_sust_vf varchar(2) NOT NULL,
	nombre varchar(200),
	nombre_corto varchar(100),
	vigencia numeric(38)
) ;
ALTER TABLE tipo_doc_sust_vf ADD PRIMARY KEY (id_tipo_doc_sust_vf);
ALTER TABLE tipo_doc_sust_vf ALTER COLUMN id_tipo_doc_sust_vf SET NOT NULL;


DROP TABLE IF EXISTS tipo_estado;
CREATE TABLE tipo_estado (
	id_tipoestado numeric(38) NOT NULL,
	nombre varchar(50)
) ;
ALTER TABLE tipo_estado ADD PRIMARY KEY (id_tipoestado);
ALTER TABLE tipo_estado ALTER COLUMN id_tipoestado SET NOT NULL;


DROP TABLE IF EXISTS tipo_estado_civil;
CREATE TABLE tipo_estado_civil (
	id_tipoestadocivil numeric(38) NOT NULL,
	nombre varchar(255),
	nombre_corto varchar(10),
	estado_psto varchar(1),
	estado varchar(1) NOT NULL
) ;
ALTER TABLE tipo_estado_civil ADD PRIMARY KEY (id_tipoestadocivil);
ALTER TABLE tipo_estado_civil ALTER COLUMN id_tipoestadocivil SET NOT NULL;
ALTER TABLE tipo_estado_civil ALTER COLUMN estado SET NOT NULL;


DROP TABLE IF EXISTS tipo_estado_vinculo;
CREATE TABLE tipo_estado_vinculo (
	id_tipo_estado_vinculo varchar(2) NOT NULL,
	nombre varchar(255),
	vigencia char(1)
) ;
ALTER TABLE tipo_estado_vinculo ADD PRIMARY KEY (id_tipo_estado_vinculo);
ALTER TABLE tipo_estado_vinculo ALTER COLUMN id_tipo_estado_vinculo SET NOT NULL;


DROP TABLE IF EXISTS tipo_identidad_etnica;
CREATE TABLE tipo_identidad_etnica (
	id_tipo_identidad_etnica numeric(38) NOT NULL,
	nombre varchar(100),
	siglas varchar(20),
	vigencia numeric(38)
) ;
ALTER TABLE tipo_identidad_etnica ADD PRIMARY KEY (id_tipo_identidad_etnica);
ALTER TABLE tipo_identidad_etnica ALTER COLUMN id_tipo_identidad_etnica SET NOT NULL;


DROP TABLE IF EXISTS tipo_idioma;
CREATE TABLE tipo_idioma (
	id_tipoidioma numeric(38) NOT NULL,
	nombre varchar(100),
	vigencia numeric(38),
	tipo varchar(2),
	codsunedo varchar(5)
) ;
COMMENT ON COLUMN tipo_idioma.tipo IS E'1:Idioma, 2:Lengua Nativa';
ALTER TABLE tipo_idioma ADD PRIMARY KEY (id_tipoidioma);
ALTER TABLE tipo_idioma ALTER COLUMN id_tipoidioma SET NOT NULL;


DROP TABLE IF EXISTS tipo_institucion;
CREATE TABLE tipo_institucion (
	id_tipo_institucion varchar(2) NOT NULL,
	nombre varchar(200),
	vigencia numeric(38)
) ;
ALTER TABLE tipo_institucion ADD PRIMARY KEY (id_tipo_institucion);
ALTER TABLE tipo_institucion ALTER COLUMN id_tipo_institucion SET NOT NULL;


DROP TABLE IF EXISTS tipo_local;
CREATE TABLE tipo_local (
	id_tipolocal bigint NOT NULL,
	nombre varchar(200),
	es_activo varchar(1)
) ;
ALTER TABLE tipo_local ADD PRIMARY KEY (id_tipolocal);


DROP TABLE IF EXISTS tipo_motivo_baja_dh;
CREATE TABLE tipo_motivo_baja_dh (
	id_tipo_motivo_baja_dh varchar(2) NOT NULL,
	nombre varchar(100),
	vigencia numeric(38)
) ;
ALTER TABLE tipo_motivo_baja_dh ADD PRIMARY KEY (id_tipo_motivo_baja_dh);
ALTER TABLE tipo_motivo_baja_dh ALTER COLUMN id_tipo_motivo_baja_dh SET NOT NULL;


DROP TABLE IF EXISTS tipo_negocio;
CREATE TABLE tipo_negocio (
	id_tiponegocio bigint NOT NULL,
	nombre varchar(500),
	es_activo varchar(1)
) ;
ALTER TABLE tipo_negocio ADD PRIMARY KEY (id_tiponegocio);


DROP TABLE IF EXISTS tipo_notificacion;
CREATE TABLE tipo_notificacion (
	id_notificacion numeric(38) NOT NULL,
	nombre varchar(200) NOT NULL,
	icono varchar(200) NOT NULL,
	codigo varchar(20) NOT NULL,
	id_usuario_reg numeric(38) NOT NULL,
	fecha_registro timestamp(0) NOT NULL,
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;
ALTER TABLE tipo_notificacion ADD UNIQUE (nombre);
ALTER TABLE tipo_notificacion ADD PRIMARY KEY (id_notificacion);
ALTER TABLE tipo_notificacion ADD UNIQUE (codigo);
ALTER TABLE tipo_notificacion ALTER COLUMN id_notificacion SET NOT NULL;
ALTER TABLE tipo_notificacion ALTER COLUMN nombre SET NOT NULL;
ALTER TABLE tipo_notificacion ALTER COLUMN icono SET NOT NULL;
ALTER TABLE tipo_notificacion ALTER COLUMN codigo SET NOT NULL;
ALTER TABLE tipo_notificacion ALTER COLUMN id_usuario_reg SET NOT NULL;
ALTER TABLE tipo_notificacion ALTER COLUMN fecha_registro SET NOT NULL;


DROP TABLE IF EXISTS tipo_ocupacion;
CREATE TABLE tipo_ocupacion (
	id_tipo_ocupacion varchar(15) NOT NULL,
	nombre varchar(150),
	vigencia numeric(38)
) ;
ALTER TABLE tipo_ocupacion ADD PRIMARY KEY (id_tipo_ocupacion);
ALTER TABLE tipo_ocupacion ALTER COLUMN id_tipo_ocupacion SET NOT NULL;


DROP TABLE IF EXISTS tipo_ocupacion_tmp;
CREATE TABLE tipo_ocupacion_tmp (
	id_tipo_ocupacion varchar(15) NOT NULL,
	nombre varchar(150),
	vigencia numeric(38)
) ;
ALTER TABLE tipo_ocupacion_tmp ADD PRIMARY KEY (id_tipo_ocupacion);
ALTER TABLE tipo_ocupacion_tmp ALTER COLUMN id_tipo_ocupacion SET NOT NULL;


DROP TABLE IF EXISTS tipo_pais;
CREATE TABLE tipo_pais (
	id_tipopais numeric(38) NOT NULL,
	nombre varchar(50),
	iso_a2 varchar(10),
	iso_a3 varchar(10),
	tel_prefijo varchar(10),
	map_longitud double precision,
	map_latitud double precision,
	gentilicio varchar(50),
	cod_sunat numeric(38),
	codsunedo varchar(5),
	codemision varchar(5),
	codigo_xpress_educa varchar(4000)
) ;
ALTER TABLE tipo_pais ADD PRIMARY KEY (id_tipopais);
ALTER TABLE tipo_pais ALTER COLUMN id_tipopais SET NOT NULL;


DROP TABLE IF EXISTS tipo_pais_1;
CREATE TABLE tipo_pais_1 (
	id_tipopais numeric(38) NOT NULL,
	nombre varchar(50),
	iso_a2 varchar(10),
	iso_a3 varchar(10),
	tel_prefijo varchar(10),
	map_longitud double precision,
	map_latitud double precision,
	gentilicio varchar(50),
	cod_sunat numeric(38)
) ;
ALTER TABLE tipo_pais_1 ALTER COLUMN id_tipopais SET NOT NULL;


DROP TABLE IF EXISTS tipo_pais_2;
CREATE TABLE tipo_pais_2 (
	id_tipopais numeric(38) NOT NULL,
	nombre varchar(50),
	iso_a2 varchar(10),
	iso_a3 varchar(10),
	tel_prefijo varchar(10),
	map_longitud double precision,
	map_latitud double precision,
	gentilicio varchar(50),
	cod_sunat numeric(38)
) ;
ALTER TABLE tipo_pais_2 ALTER COLUMN id_tipopais SET NOT NULL;


DROP TABLE IF EXISTS tipo_parentesco;
CREATE TABLE tipo_parentesco (
	id_tipoparentesco varchar(20) NOT NULL,
	id_parent varchar(20),
	nombre varchar(50)
) ;
ALTER TABLE tipo_parentesco ADD PRIMARY KEY (id_tipoparentesco);
ALTER TABLE tipo_parentesco ALTER COLUMN id_tipoparentesco SET NOT NULL;


DROP TABLE IF EXISTS tipo_redsocial;
CREATE TABLE tipo_redsocial (
	id_tipo_redsocial numeric(38) NOT NULL,
	nombre varchar(200),
	vigencia numeric(38),
	icono varchar(40)
) ;
ALTER TABLE tipo_redsocial ADD PRIMARY KEY (id_tipo_redsocial);
ALTER TABLE tipo_redsocial ALTER COLUMN id_tipo_redsocial SET NOT NULL;


DROP TABLE IF EXISTS tipo_regimen_laboral;
CREATE TABLE tipo_regimen_laboral (
	id_tipo_regimen_laboral varchar(2) NOT NULL,
	nombre varchar(150),
	vigencia numeric(38)
) ;
ALTER TABLE tipo_regimen_laboral ADD PRIMARY KEY (id_tipo_regimen_laboral);
ALTER TABLE tipo_regimen_laboral ALTER COLUMN id_tipo_regimen_laboral SET NOT NULL;


DROP TABLE IF EXISTS tipo_religion;
CREATE TABLE tipo_religion (
	id_tiporeligion numeric(38) NOT NULL,
	nombre varchar(255),
	siglas varchar(50),
	codigo varchar(20),
	vigencia numeric(38)
) ;
ALTER TABLE tipo_religion ADD PRIMARY KEY (id_tiporeligion);
ALTER TABLE tipo_religion ALTER COLUMN id_tiporeligion SET NOT NULL;


DROP TABLE IF EXISTS tipo_sangre;
CREATE TABLE tipo_sangre (
	id_tiposangre numeric(38) NOT NULL,
	nombre varchar(100),
	vigencia numeric(38)
) ;
ALTER TABLE tipo_sangre ADD PRIMARY KEY (id_tiposangre);
ALTER TABLE tipo_sangre ALTER COLUMN id_tiposangre SET NOT NULL;


DROP TABLE IF EXISTS tipo_sctr_pension;
CREATE TABLE tipo_sctr_pension (
	id_tipo_sctr_pension varchar(2) NOT NULL,
	nombre varchar(150),
	vigencia numeric(38)
) ;
ALTER TABLE tipo_sctr_pension ADD PRIMARY KEY (id_tipo_sctr_pension);
ALTER TABLE tipo_sctr_pension ALTER COLUMN id_tipo_sctr_pension SET NOT NULL;


DROP TABLE IF EXISTS tipo_seccion;
CREATE TABLE tipo_seccion (
	id_tiposeccion varchar(2) NOT NULL,
	nombre varchar(50),
	vigencia numeric(38)
) ;
ALTER TABLE tipo_seccion ADD PRIMARY KEY (id_tiposeccion);
ALTER TABLE tipo_seccion ALTER COLUMN id_tiposeccion SET NOT NULL;


DROP TABLE IF EXISTS tipo_sexo;
CREATE TABLE tipo_sexo (
	sexo varchar(2) NOT NULL,
	nombre varchar(50),
	vigencia bigint,
	codigo varchar(20)
) ;
ALTER TABLE tipo_sexo ADD PRIMARY KEY (sexo);
ALTER TABLE tipo_sexo ALTER COLUMN sexo SET NOT NULL;


DROP TABLE IF EXISTS tipo_situacion_laboral;
CREATE TABLE tipo_situacion_laboral (
	id_situacion_laboral numeric(38) NOT NULL,
	nombre varchar(200),
	codigo varchar(20),
	estado char(1) NOT NULL DEFAULT '1',
	id_usuario_reg numeric(38) NOT NULL,
	fecha_registro timestamp(0) NOT NULL,
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;
ALTER TABLE tipo_situacion_laboral ADD PRIMARY KEY (id_situacion_laboral);
ALTER TABLE tipo_situacion_laboral ALTER COLUMN id_situacion_laboral SET NOT NULL;
ALTER TABLE tipo_situacion_laboral ALTER COLUMN estado SET NOT NULL;
ALTER TABLE tipo_situacion_laboral ALTER COLUMN id_usuario_reg SET NOT NULL;
ALTER TABLE tipo_situacion_laboral ALTER COLUMN fecha_registro SET NOT NULL;


DROP TABLE IF EXISTS tipo_status;
CREATE TABLE tipo_status (
	id_tipo_status varchar(2) NOT NULL,
	nombre varchar(50),
	codigo varchar(15),
	vigencia numeric(38),
	codigo_aps bigint
) ;
ALTER TABLE tipo_status ADD PRIMARY KEY (id_tipo_status);
ALTER TABLE tipo_status ALTER COLUMN id_tipo_status SET NOT NULL;


DROP TABLE IF EXISTS tipo_telefono;
CREATE TABLE tipo_telefono (
	id_tipotelefono numeric(38) NOT NULL,
	nombre varchar(50)
) ;
ALTER TABLE tipo_telefono ADD PRIMARY KEY (id_tipotelefono);
ALTER TABLE tipo_telefono ALTER COLUMN id_tipotelefono SET NOT NULL;


DROP TABLE IF EXISTS tipo_tiempo_trabajo;
CREATE TABLE tipo_tiempo_trabajo (
	id_tipo_tiempo_trabajo numeric(38) NOT NULL,
	nombre varchar(50),
	hora_max double precision,
	vigencia bigint,
	tiempo double precision,
	codigo varchar(20),
	codsunedu varchar(10),
	id_regimen_dedicacion numeric(38)
) ;
ALTER TABLE tipo_tiempo_trabajo ADD PRIMARY KEY (id_tipo_tiempo_trabajo);
ALTER TABLE tipo_tiempo_trabajo ALTER COLUMN id_tipo_tiempo_trabajo SET NOT NULL;


DROP TABLE IF EXISTS tipo_trabajador;
CREATE TABLE tipo_trabajador (
	id_tipo_trabajador varchar(2) NOT NULL,
	nombre varchar(255),
	vigencia numeric(38),
	categoria_ocu varchar(2)
) ;
ALTER TABLE tipo_trabajador ADD PRIMARY KEY (id_tipo_trabajador);
ALTER TABLE tipo_trabajador ALTER COLUMN id_tipo_trabajador SET NOT NULL;


DROP TABLE IF EXISTS tipo_tratamiento;
CREATE TABLE tipo_tratamiento (
	id_tipotratamiento numeric(38) NOT NULL,
	nombre varchar(255),
	nom_masculino varchar(10),
	nom_femenino varchar(10),
	sig_masculino varchar(10),
	sig_femenino varchar(10)
) ;
ALTER TABLE tipo_tratamiento ADD PRIMARY KEY (id_tipotratamiento);
ALTER TABLE tipo_tratamiento ALTER COLUMN id_tipotratamiento SET NOT NULL;


DROP TABLE IF EXISTS tipo_verificacion;
CREATE TABLE tipo_verificacion (
	id_verificacion numeric(38) NOT NULL,
	nombre varchar(150) NOT NULL,
	codigo varchar(5) NOT NULL,
	estado char(1) NOT NULL,
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0)
) ;
ALTER TABLE tipo_verificacion ADD UNIQUE (codigo);
ALTER TABLE tipo_verificacion ADD UNIQUE (nombre);
ALTER TABLE tipo_verificacion ADD PRIMARY KEY (id_verificacion);
ALTER TABLE tipo_verificacion ALTER COLUMN id_verificacion SET NOT NULL;
ALTER TABLE tipo_verificacion ALTER COLUMN nombre SET NOT NULL;
ALTER TABLE tipo_verificacion ALTER COLUMN codigo SET NOT NULL;
ALTER TABLE tipo_verificacion ALTER COLUMN estado SET NOT NULL;


DROP TABLE IF EXISTS tipo_via;
CREATE TABLE tipo_via (
	id_tipovia varchar(2) NOT NULL,
	nombre varchar(50),
	vigencia numeric(38),
	nombrecorto varchar(10)
) ;
ALTER TABLE tipo_via ADD PRIMARY KEY (id_tipovia);
ALTER TABLE tipo_via ALTER COLUMN id_tipovia SET NOT NULL;


DROP TABLE IF EXISTS tipo_vinculo_familiar;
CREATE TABLE tipo_vinculo_familiar (
	id_tipo_vinculo_familiar varchar(2) NOT NULL,
	nombre varchar(255),
	vigencia numeric(38)
) ;
ALTER TABLE tipo_vinculo_familiar ADD PRIMARY KEY (id_tipo_vinculo_familiar);
ALTER TABLE tipo_vinculo_familiar ALTER COLUMN id_tipo_vinculo_familiar SET NOT NULL;


DROP TABLE IF EXISTS tipo_virtual;
CREATE TABLE tipo_virtual (
	id_tipovirtual numeric(38) NOT NULL,
	nombre varchar(255),
	siglas varchar(100)
) ;
ALTER TABLE tipo_virtual ADD PRIMARY KEY (id_tipovirtual);
ALTER TABLE tipo_virtual ALTER COLUMN id_tipovirtual SET NOT NULL;


DROP TABLE IF EXISTS tipo_zona;
CREATE TABLE tipo_zona (
	id_tipozona varchar(2) NOT NULL,
	nombre varchar(50),
	vigencia numeric(38),
	nombrecorto varchar(10)
) ;
ALTER TABLE tipo_zona ADD PRIMARY KEY (id_tipozona);
ALTER TABLE tipo_zona ALTER COLUMN id_tipozona SET NOT NULL;


DROP TABLE IF EXISTS trabajador;
CREATE TABLE trabajador (
	id_trabajador numeric(38) NOT NULL,
	id_persona numeric(38) NOT NULL,
	id_entidad numeric(38) NOT NULL,
	esaludvida varchar(1),
	esaludvida_url varchar(150),
	descuentodiezmo varchar(1),
	descuentodiezmo_url varchar(150),
	menoredad varchar(1),
	menoredad_url varchar(150),
	id_situacion_trabajador varchar(2),
	id_tipo_control_personal numeric(38),
	id_condicion_laboral varchar(5),
	fecha_inicio_misionero timestamp(0),
	misionero_url varchar(150),
	id_tipo_status varchar(2),
	fecha_ingreso timestamp(0),
	fecha_inicio timestamp(0),
	fecha_fin_previsto timestamp(0),
	fecha_fin_efectivo timestamp(0),
	id_periodo_remu varchar(2),
	cuentasueldo varchar(1),
	cuentasueldo_url varchar(150),
	id_tipo_contrato varchar(2),
	id_sedearea numeric(38),
	id_puesto numeric(38),
	id_tipo_tiempo_trabajo numeric(38),
	id_grupo_planilla numeric(38),
	id_tipo_horario numeric(38),
	id_banco varchar(3),
	observado varchar(2),
	id_tipo_ocupacion varchar(15),
	id_contrato numeric(38),
	id_perfil_puesto numeric(38),
	id_tipo_tiempo_regimen numeric(38),
	id_situacion_especial varchar(2),
	cuentaaperturada char(1)
) ;
COMMENT ON COLUMN trabajador.cuentaaperturada IS E'S:SI, N:NO';
COMMENT ON COLUMN trabajador.cuentasueldo IS E'S:SI, N:NO';
COMMENT ON COLUMN trabajador.descuentodiezmo IS E'S:SI, N:NO';
COMMENT ON COLUMN trabajador.esaludvida IS E'S:SI, N:NO';
COMMENT ON COLUMN trabajador.id_banco IS E'cuando el personal requiere apertura de cuenta banacaria';
COMMENT ON COLUMN trabajador.menoredad IS E'S:SI, N:NO';
COMMENT ON COLUMN trabajador.observado IS E'S:SI, N:NO';
ALTER TABLE trabajador ADD PRIMARY KEY (id_trabajador);
ALTER TABLE trabajador ADD UNIQUE (id_persona,id_entidad);
ALTER TABLE trabajador ALTER COLUMN id_trabajador SET NOT NULL;
ALTER TABLE trabajador ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE trabajador ALTER COLUMN id_entidad SET NOT NULL;


DROP TABLE IF EXISTS trabajador_area;
CREATE TABLE trabajador_area (
	id_trabajador_area numeric(38) NOT NULL,
	id_trabajador numeric(38) NOT NULL,
	id_sedearea numeric(38),
	desde timestamp(0),
	hasta timestamp(0),
	id_user_reg numeric(38),
	fecha_reg timestamp(0),
	id_user_mod numeric(38),
	fecha_mod timestamp(0),
	otro_area varchar(1),
	vigencia bigint,
	porcentaje double precision
) ;
COMMENT ON COLUMN trabajador_area.otro_area IS E'S: Si';
COMMENT ON COLUMN trabajador_area.porcentaje IS E'si solo es otra area';
COMMENT ON COLUMN trabajador_area.vigencia IS E'si solo es otra area';
ALTER TABLE trabajador_area ADD PRIMARY KEY (id_trabajador_area);
ALTER TABLE trabajador_area ALTER COLUMN id_trabajador_area SET NOT NULL;
ALTER TABLE trabajador_area ALTER COLUMN id_trabajador SET NOT NULL;


DROP TABLE IF EXISTS trabajador_ccosto;
CREATE TABLE trabajador_ccosto (
	id_trabajador_ccosto numeric(38) NOT NULL,
	id_trabajador numeric(38) NOT NULL,
	id_sedearea numeric(38),
	desde timestamp(0),
	hasta timestamp(0),
	porcentaje double precision,
	id_user_reg numeric(38),
	fecha_reg timestamp(0),
	id_user_mod numeric(38),
	fecha_mod timestamp(0)
) ;
ALTER TABLE trabajador_ccosto ADD PRIMARY KEY (id_trabajador_ccosto);
ALTER TABLE trabajador_ccosto ALTER COLUMN id_trabajador_ccosto SET NOT NULL;
ALTER TABLE trabajador_ccosto ALTER COLUMN id_trabajador SET NOT NULL;


DROP TABLE IF EXISTS trabajador_puesto;
CREATE TABLE trabajador_puesto (
	id_trabajador_puesto numeric(38) NOT NULL,
	id_trabajador numeric(38) NOT NULL,
	id_puesto numeric(38),
	desde timestamp(0),
	hasta timestamp(0),
	id_user_reg numeric(38),
	fecha_reg timestamp(0),
	id_user_mod numeric(38),
	fecha_mod timestamp(0),
	id_perfil_puesto numeric(38),
	otro_puesto varchar(1),
	vigencia bigint
) ;
COMMENT ON COLUMN trabajador_puesto.otro_puesto IS E'S: Si';
COMMENT ON COLUMN trabajador_puesto.vigencia IS E'si solo es otro puesto';
ALTER TABLE trabajador_puesto ADD PRIMARY KEY (id_trabajador_puesto);
ALTER TABLE trabajador_puesto ALTER COLUMN id_trabajador_puesto SET NOT NULL;
ALTER TABLE trabajador_puesto ALTER COLUMN id_trabajador SET NOT NULL;


DROP TABLE IF EXISTS trabajador_sit_esp;
CREATE TABLE trabajador_sit_esp (
	id_trabajador_sit_esp numeric(38) NOT NULL,
	id_trabajador numeric(38) NOT NULL,
	id_situacion_especial varchar(2) NOT NULL,
	desde timestamp(0),
	hasta timestamp(0),
	id_user_reg numeric(38),
	fecha_reg timestamp(0),
	id_user_mod numeric(38),
	fecha_mod timestamp(0),
	vigencia bigint,
	id_trabajador_sit_esp_ant bigint
) ;
ALTER TABLE trabajador_sit_esp ADD PRIMARY KEY (id_trabajador_sit_esp);
ALTER TABLE trabajador_sit_esp ALTER COLUMN id_trabajador_sit_esp SET NOT NULL;
ALTER TABLE trabajador_sit_esp ALTER COLUMN id_trabajador SET NOT NULL;
ALTER TABLE trabajador_sit_esp ALTER COLUMN id_situacion_especial SET NOT NULL;


DROP TABLE IF EXISTS ubigueo;
CREATE TABLE ubigueo (
	id_ubigeo numeric(38) NOT NULL,
	depto varchar(2),
	pvcia varchar(2),
	ditto varchar(2),
	nombre varchar(120),
	id_tipopais bigint,
	codigo_xpress_educa varchar(4000),
	longitud varchar(200),
	latitud varchar(200)
) ;
ALTER TABLE ubigueo ADD PRIMARY KEY (id_ubigeo);
ALTER TABLE ubigueo ALTER COLUMN id_ubigeo SET NOT NULL;


DROP TABLE IF EXISTS verificacion;
CREATE TABLE verificacion (
	id_verificacion numeric(38) NOT NULL,
	id_persona numeric(38),
	valor varchar(4000),
	codigo_verificacion varchar(5) NOT NULL,
	estado varchar(1) NOT NULL,
	id_usuario_reg numeric(38),
	fecha_registro timestamp(0),
	id_usuario_act numeric(38),
	fecha_actualizacion timestamp(0),
	tipo varchar(1) NOT NULL
) ;
DROP INDEX IF EXISTS verificacion_idx1;
CREATE INDEX verificacion_idx1 ON verificacion (id_persona, valor, tipo);
ALTER TABLE verificacion ADD PRIMARY KEY (id_verificacion);
ALTER TABLE verificacion ADD UNIQUE (codigo_verificacion);
ALTER TABLE verificacion ALTER COLUMN id_verificacion SET NOT NULL;
ALTER TABLE verificacion ALTER COLUMN codigo_verificacion SET NOT NULL;
ALTER TABLE verificacion ALTER COLUMN estado SET NOT NULL;
ALTER TABLE verificacion ALTER COLUMN tipo SET NOT NULL;


DROP TABLE IF EXISTS vinculo_familiar;
CREATE TABLE vinculo_familiar (
	id_vinculo_familiar numeric(38) NOT NULL,
	id_persona numeric(38) NOT NULL,
	id_tipo_vinculo_familiar varchar(2) NOT NULL,
	id_tipo_doc_sust_vf varchar(2),
	doc_sust_vf_url varchar(250),
	id_registrado numeric(38) NOT NULL,
	essalud varchar(2),
	conyuge_trabaja varchar(2),
	conyuge_planilla varchar(2),
	conyuge_otraemp varchar(200),
	conyuge_tlf varchar(20),
	conyuge_fmat timestamp(0),
	hijo_nivel_superior varchar(2),
	hijo_discapacitado varchar(2),
	id_tipo_discapacidad bigint,
	hijo_discapacitado_url varchar(250),
	num_doc_sustento varchar(20),
	id_tipo_estado_vinculo varchar(20),
	id_estado_tregistro varchar(20),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0)
) ;
COMMENT ON COLUMN vinculo_familiar.conyuge_planilla IS E'S:Si, N: NO';
COMMENT ON COLUMN vinculo_familiar.conyuge_trabaja IS E'S:Si, N: NO';
COMMENT ON COLUMN vinculo_familiar.hijo_discapacitado IS E'S:Si, N: NO';
COMMENT ON COLUMN vinculo_familiar.hijo_nivel_superior IS E'S:Si, N: NO';
COMMENT ON COLUMN vinculo_familiar.id_registrado IS E'ID_PERSONA (VINCULO FAMILIAR)
';
ALTER TABLE vinculo_familiar ADD UNIQUE (id_persona,id_registrado);
ALTER TABLE vinculo_familiar ADD PRIMARY KEY (id_vinculo_familiar);
ALTER TABLE vinculo_familiar ALTER COLUMN id_vinculo_familiar SET NOT NULL;
ALTER TABLE vinculo_familiar ALTER COLUMN id_persona SET NOT NULL;
ALTER TABLE vinculo_familiar ALTER COLUMN id_tipo_vinculo_familiar SET NOT NULL;
ALTER TABLE vinculo_familiar ALTER COLUMN id_registrado SET NOT NULL;


DROP TABLE IF EXISTS vinculo_familiar_superior;
CREATE TABLE vinculo_familiar_superior (
	id_item numeric(38) NOT NULL,
	id_vinculo_familiar numeric(38) NOT NULL,
	desde timestamp(0) NOT NULL,
	hasta timestamp(0) NOT NULL,
	hijo_nivel_superior_url varchar(350),
	id_tipo_estado_vinculo varchar(20),
	id_user_reg bigint,
	fecha_reg timestamp(0),
	id_user_mod bigint,
	fecha_mod timestamp(0)
) ;
ALTER TABLE vinculo_familiar_superior ADD PRIMARY KEY (id_item,id_vinculo_familiar);
ALTER TABLE vinculo_familiar_superior ALTER COLUMN id_item SET NOT NULL;
ALTER TABLE vinculo_familiar_superior ALTER COLUMN id_vinculo_familiar SET NOT NULL;
ALTER TABLE vinculo_familiar_superior ALTER COLUMN desde SET NOT NULL;
ALTER TABLE vinculo_familiar_superior ALTER COLUMN hasta SET NOT NULL;


DROP TABLE IF EXISTS zona_departamento;
CREATE TABLE zona_departamento (
	id_zonadepartamento bigint NOT NULL,
	nombre varchar(200),
	es_activo varchar(1)
) ;
ALTER TABLE zona_departamento ADD PRIMARY KEY (id_zonadepartamento);
ALTER TABLE contribuyente_contacto DROP CONSTRAINT IF EXISTS fk_persona_contri_cont;
ALTER TABLE contribuyente_contacto ADD CONSTRAINT fk_persona_contri_cont FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE contribuyente_contacto DROP CONSTRAINT IF EXISTS fk_tipo_pais_contri_cont;
ALTER TABLE contribuyente_contacto ADD CONSTRAINT fk_tipo_pais_contri_cont FOREIGN KEY (id_tipopais) REFERENCES tipo_pais(id_tipopais) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE contribuyente_local DROP CONSTRAINT IF EXISTS fk_cluster;
ALTER TABLE contribuyente_local ADD CONSTRAINT fk_cluster FOREIGN KEY (id_cluster) REFERENCES cluster(id_cluster) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE contribuyente_local DROP CONSTRAINT IF EXISTS fk_persona_contri_local;
ALTER TABLE contribuyente_local ADD CONSTRAINT fk_persona_contri_local FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE contribuyente_local DROP CONSTRAINT IF EXISTS fk_tipo_local;
ALTER TABLE contribuyente_local ADD CONSTRAINT fk_tipo_local FOREIGN KEY (id_tipolocal) REFERENCES tipo_local(id_tipolocal) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE contribuyente_local DROP CONSTRAINT IF EXISTS fk_tipo_negocio;
ALTER TABLE contribuyente_local ADD CONSTRAINT fk_tipo_negocio FOREIGN KEY (id_tiponegocio) REFERENCES tipo_negocio(id_tiponegocio) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE contribuyente_local DROP CONSTRAINT IF EXISTS fk_zona_departamento;
ALTER TABLE contribuyente_local ADD CONSTRAINT fk_zona_departamento FOREIGN KEY (id_zonadepartamento) REFERENCES zona_departamento(id_zonadepartamento) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE entidad_documento_unificado DROP CONSTRAINT IF EXISTS fk_entidad_documento_unificado;
ALTER TABLE entidad_documento_unificado ADD CONSTRAINT fk_entidad_documento_unificado FOREIGN KEY (id_documento) REFERENCES documento_unificado(id_documento) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE igl_campo DROP CONSTRAINT IF EXISTS fk_igl_campo;
ALTER TABLE igl_campo ADD CONSTRAINT fk_igl_campo FOREIGN KEY (id_union) REFERENCES igl_union(id_union) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE igl_distrito DROP CONSTRAINT IF EXISTS fk_igl_distrito_campo;
ALTER TABLE igl_distrito ADD CONSTRAINT fk_igl_distrito_campo FOREIGN KEY (id_campo) REFERENCES igl_campo(id_campo) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE igl_iglesia DROP CONSTRAINT IF EXISTS igl_iglesia_fk;
ALTER TABLE igl_iglesia ADD CONSTRAINT igl_iglesia_fk FOREIGN KEY (id_distrito) REFERENCES igl_distrito(id_distrito) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE log_consulta_reniec DROP CONSTRAINT IF EXISTS log_consulta_reniec_fk1;
ALTER TABLE log_consulta_reniec ADD CONSTRAINT log_consulta_reniec_fk1 FOREIGN KEY (id_user) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE modulo_notificacion DROP CONSTRAINT IF EXISTS modulo_notificacion_fk1;
ALTER TABLE modulo_notificacion ADD CONSTRAINT modulo_notificacion_fk1 FOREIGN KEY (id_notificacion) REFERENCES tipo_notificacion(id_notificacion) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE modulo_notificacion DROP CONSTRAINT IF EXISTS modulo_notificacion_fk3;
ALTER TABLE modulo_notificacion ADD CONSTRAINT modulo_notificacion_fk3 FOREIGN KEY (id_persona_origen) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE modulo_notificacion DROP CONSTRAINT IF EXISTS modulo_notificacion_fk4;
ALTER TABLE modulo_notificacion ADD CONSTRAINT modulo_notificacion_fk4 FOREIGN KEY (id_persona_destinatario) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_actitud DROP CONSTRAINT IF EXISTS persona_acad_actitudes_fk1;
ALTER TABLE persona_acad_actitud ADD CONSTRAINT persona_acad_actitudes_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_articulo DROP CONSTRAINT IF EXISTS persona_acad_articulo_fk1;
ALTER TABLE persona_acad_articulo ADD CONSTRAINT persona_acad_articulo_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_asesoria DROP CONSTRAINT IF EXISTS persona_acad_asesoria_fk1;
ALTER TABLE persona_acad_asesoria ADD CONSTRAINT persona_acad_asesoria_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_calif_inv DROP CONSTRAINT IF EXISTS persona_acad_calif_inv_fk1;
ALTER TABLE persona_acad_calif_inv ADD CONSTRAINT persona_acad_calif_inv_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_categoria DROP CONSTRAINT IF EXISTS persona_acad_categoria_fk1;
ALTER TABLE persona_acad_categoria ADD CONSTRAINT persona_acad_categoria_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_colegiatura DROP CONSTRAINT IF EXISTS persona_acad_colegiatura_fk1;
ALTER TABLE persona_acad_colegiatura ADD CONSTRAINT persona_acad_colegiatura_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_cosmovision DROP CONSTRAINT IF EXISTS persona_acad_cosmovision_fk1;
ALTER TABLE persona_acad_cosmovision ADD CONSTRAINT persona_acad_cosmovision_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_curso DROP CONSTRAINT IF EXISTS persona_acad_curso_fk1;
ALTER TABLE persona_acad_curso ADD CONSTRAINT persona_acad_curso_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_desemp_doc DROP CONSTRAINT IF EXISTS persona_acad_desemp_doc_fk1;
ALTER TABLE persona_acad_desemp_doc ADD CONSTRAINT persona_acad_desemp_doc_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_distincion DROP CONSTRAINT IF EXISTS persona_acad_distincion_fk1;
ALTER TABLE persona_acad_distincion ADD CONSTRAINT persona_acad_distincion_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_acad_distincion DROP CONSTRAINT IF EXISTS persona_acad_distincion_fk2;
ALTER TABLE persona_acad_distincion ADD CONSTRAINT persona_acad_distincion_fk2 FOREIGN KEY (pais) REFERENCES tipo_pais(id_tipopais) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_ejercicio DROP CONSTRAINT IF EXISTS persona_acad_ejercicio_fk1;
ALTER TABLE persona_acad_ejercicio ADD CONSTRAINT persona_acad_ejercicio_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_acad_ejercicio DROP CONSTRAINT IF EXISTS persona_acad_ejercicio_fk2;
ALTER TABLE persona_acad_ejercicio ADD CONSTRAINT persona_acad_ejercicio_fk2 FOREIGN KEY (id_tipo_tiempo_trabajo) REFERENCES tipo_tiempo_trabajo(id_tipo_tiempo_trabajo) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_evento DROP CONSTRAINT IF EXISTS persona_acad_evento_fk1;
ALTER TABLE persona_acad_evento ADD CONSTRAINT persona_acad_evento_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_exp_admin DROP CONSTRAINT IF EXISTS persona_acad_exp_admin_fk1;
ALTER TABLE persona_acad_exp_admin ADD CONSTRAINT persona_acad_exp_admin_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_exp_admin_nu DROP CONSTRAINT IF EXISTS persona_acad_exp_admin_nu_fk1;
ALTER TABLE persona_acad_exp_admin_nu ADD CONSTRAINT persona_acad_exp_admin_nu_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_exp_docencia DROP CONSTRAINT IF EXISTS persona_exp_docencia_fk1;
ALTER TABLE persona_acad_exp_docencia ADD CONSTRAINT persona_exp_docencia_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_exp_profesional DROP CONSTRAINT IF EXISTS persona_acad_exp_profesio_fk1;
ALTER TABLE persona_acad_exp_profesional ADD CONSTRAINT persona_acad_exp_profesio_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_horas_semanales DROP CONSTRAINT IF EXISTS persona_acad_horas_semana_fk1;
ALTER TABLE persona_acad_horas_semanales ADD CONSTRAINT persona_acad_horas_semana_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_idioma DROP CONSTRAINT IF EXISTS persona_acad_idioma_fk1;
ALTER TABLE persona_acad_idioma ADD CONSTRAINT persona_acad_idioma_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_acad_idioma DROP CONSTRAINT IF EXISTS persona_acad_idioma_fk2;
ALTER TABLE persona_acad_idioma ADD CONSTRAINT persona_acad_idioma_fk2 FOREIGN KEY (id_tipoidioma) REFERENCES tipo_idioma(id_tipoidioma) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_ife DROP CONSTRAINT IF EXISTS persona_acad_ife_fk1;
ALTER TABLE persona_acad_ife ADD CONSTRAINT persona_acad_ife_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_jurado DROP CONSTRAINT IF EXISTS persona_acad_jurado_fk1;
ALTER TABLE persona_acad_jurado ADD CONSTRAINT persona_acad_jurado_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_libro DROP CONSTRAINT IF EXISTS persona_acad_libro_fk1;
ALTER TABLE persona_acad_libro ADD CONSTRAINT persona_acad_libro_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_logro DROP CONSTRAINT IF EXISTS persona_acad_logro_fk1;
ALTER TABLE persona_acad_logro ADD CONSTRAINT persona_acad_logro_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_acad_logro DROP CONSTRAINT IF EXISTS persona_acad_logro_fk2;
ALTER TABLE persona_acad_logro ADD CONSTRAINT persona_acad_logro_fk2 FOREIGN KEY (pais) REFERENCES tipo_pais(id_tipopais) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_membresia DROP CONSTRAINT IF EXISTS persona_acad_membresia_fk1;
ALTER TABLE persona_acad_membresia ADD CONSTRAINT persona_acad_membresia_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_movilidad DROP CONSTRAINT IF EXISTS persona_acad_movilidad_fk1;
ALTER TABLE persona_acad_movilidad ADD CONSTRAINT persona_acad_movilidad_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_acad_movilidad DROP CONSTRAINT IF EXISTS persona_acad_movilidad_fk2;
ALTER TABLE persona_acad_movilidad ADD CONSTRAINT persona_acad_movilidad_fk2 FOREIGN KEY (pais) REFERENCES tipo_pais(id_tipopais) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_predocente DROP CONSTRAINT IF EXISTS persona_acad_predocente_fk1;
ALTER TABLE persona_acad_predocente ADD CONSTRAINT persona_acad_predocente_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_proyecto DROP CONSTRAINT IF EXISTS persona_acad_proyecto_fk1;
ALTER TABLE persona_acad_proyecto ADD CONSTRAINT persona_acad_proyecto_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_rec_cap DROP CONSTRAINT IF EXISTS persona_acad_rec_cap_fk1;
ALTER TABLE persona_acad_rec_cap ADD CONSTRAINT persona_acad_rec_cap_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_regimen DROP CONSTRAINT IF EXISTS persona_acad_regimen_fk1;
ALTER TABLE persona_acad_regimen ADD CONSTRAINT persona_acad_regimen_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_servicio DROP CONSTRAINT IF EXISTS persona_acad_servicio_fk1;
ALTER TABLE persona_acad_servicio ADD CONSTRAINT persona_acad_servicio_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_tutoria DROP CONSTRAINT IF EXISTS persona_acad_tutoria_fk1;
ALTER TABLE persona_acad_tutoria ADD CONSTRAINT persona_acad_tutoria_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_acad_vinc_med DROP CONSTRAINT IF EXISTS persona_acad_vinc_med_fk1;
ALTER TABLE persona_acad_vinc_med ADD CONSTRAINT persona_acad_vinc_med_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_apoderado DROP CONSTRAINT IF EXISTS fk_alumno_resp_fin;
ALTER TABLE persona_apoderado ADD CONSTRAINT fk_alumno_resp_fin FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_apoderado DROP CONSTRAINT IF EXISTS fk_resp_fin_alumno;
ALTER TABLE persona_apoderado ADD CONSTRAINT fk_resp_fin_alumno FOREIGN KEY (id_resp_financiero) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_conductor DROP CONSTRAINT IF EXISTS persona_natural_conductor_fk;
ALTER TABLE persona_conductor ADD CONSTRAINT persona_natural_conductor_fk FOREIGN KEY (id_persona) REFERENCES persona_natural(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_contribuyente DROP CONSTRAINT IF EXISTS fk_persona_contri;
ALTER TABLE persona_contribuyente ADD CONSTRAINT fk_persona_contri FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_contribuyente DROP CONSTRAINT IF EXISTS fk_tipo_actividad_economica;
ALTER TABLE persona_contribuyente ADD CONSTRAINT fk_tipo_actividad_economica FOREIGN KEY (id_tipoactividadeconomica) REFERENCES tipo_actividad_economica(id_tipoactividadeconomica) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_contribuyente DROP CONSTRAINT IF EXISTS fk_tipo_condicion;
ALTER TABLE persona_contribuyente ADD CONSTRAINT fk_tipo_condicion FOREIGN KEY (id_tipocondicion) REFERENCES tipo_condicion(id_tipocondicion) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_contribuyente DROP CONSTRAINT IF EXISTS fk_tipo_contribuyente;
ALTER TABLE persona_contribuyente ADD CONSTRAINT fk_tipo_contribuyente FOREIGN KEY (id_tipocontribuyente) REFERENCES tipo_contribuyente(id_tipocontribuyente) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_contribuyente DROP CONSTRAINT IF EXISTS fk_tipo_estado;
ALTER TABLE persona_contribuyente ADD CONSTRAINT fk_tipo_estado FOREIGN KEY (id_tipoestado) REFERENCES tipo_estado(id_tipoestado) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_contribuyente DROP CONSTRAINT IF EXISTS fk_tipo_pais_contri;
ALTER TABLE persona_contribuyente ADD CONSTRAINT fk_tipo_pais_contri FOREIGN KEY (id_tipopais) REFERENCES tipo_pais(id_tipopais) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_cuenta_bancaria DROP CONSTRAINT IF EXISTS persona_cuenta_bancaria_pkv1;
ALTER TABLE persona_cuenta_bancaria ADD CONSTRAINT persona_cuenta_bancaria_pkv1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_direccion DROP CONSTRAINT IF EXISTS persona_direccion_fk;
ALTER TABLE persona_direccion ADD CONSTRAINT persona_direccion_fk FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_direccion DROP CONSTRAINT IF EXISTS persona_direccion_tipovia_fk;
ALTER TABLE persona_direccion ADD CONSTRAINT persona_direccion_tipovia_fk FOREIGN KEY (id_tipovia) REFERENCES tipo_via(id_tipovia) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_direccion DROP CONSTRAINT IF EXISTS persona_direccion_zona_fk;
ALTER TABLE persona_direccion ADD CONSTRAINT persona_direccion_zona_fk FOREIGN KEY (id_tipozona) REFERENCES tipo_zona(id_tipozona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_direccion DROP CONSTRAINT IF EXISTS tipo_direccion_fk;
ALTER TABLE persona_direccion ADD CONSTRAINT tipo_direccion_fk FOREIGN KEY (id_tipodireccion) REFERENCES tipo_direccion(id_tipodireccion) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_documento DROP CONSTRAINT IF EXISTS persona_documento_fk;
ALTER TABLE persona_documento ADD CONSTRAINT persona_documento_fk FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_documento DROP CONSTRAINT IF EXISTS tipo_documento_fkv1;
ALTER TABLE persona_documento ADD CONSTRAINT tipo_documento_fkv1 FOREIGN KEY (id_tipodocumento) REFERENCES tipo_documento(id_tipodocumento) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_documento_unificado DROP CONSTRAINT IF EXISTS fk_documento_unificado;
ALTER TABLE persona_documento_unificado ADD CONSTRAINT fk_documento_unificado FOREIGN KEY (id_documento) REFERENCES documento_unificado(id_documento) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_documento_unificado DROP CONSTRAINT IF EXISTS fk_persona;
ALTER TABLE persona_documento_unificado ADD CONSTRAINT fk_persona FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_documento_url DROP CONSTRAINT IF EXISTS sys_c0030028;
ALTER TABLE persona_documento_url ADD CONSTRAINT sys_c0030028 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_documento_url DROP CONSTRAINT IF EXISTS sys_c0030029;
ALTER TABLE persona_documento_url ADD CONSTRAINT sys_c0030029 FOREIGN KEY (id_tipodocumento) REFERENCES tipo_documento(id_tipodocumento) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_embargo_judicial DROP CONSTRAINT IF EXISTS fk_persona_embargo;
ALTER TABLE persona_embargo_judicial ADD CONSTRAINT fk_persona_embargo FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_estado_civil DROP CONSTRAINT IF EXISTS persona_estado_civil_fk1;
ALTER TABLE persona_estado_civil ADD CONSTRAINT persona_estado_civil_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_estado_civil DROP CONSTRAINT IF EXISTS persona_estado_civil_fk2;
ALTER TABLE persona_estado_civil ADD CONSTRAINT persona_estado_civil_fk2 FOREIGN KEY (id_tipoestadocivil) REFERENCES tipo_estado_civil(id_tipoestadocivil) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_estado_civil DROP CONSTRAINT IF EXISTS persona_estado_civil_fk3;
ALTER TABLE persona_estado_civil ADD CONSTRAINT persona_estado_civil_fk3 FOREIGN KEY (id_tipoestadocivil_anterior) REFERENCES tipo_estado_civil(id_tipoestadocivil) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_estado_civil DROP CONSTRAINT IF EXISTS persona_estado_civil_fk4;
ALTER TABLE persona_estado_civil ADD CONSTRAINT persona_estado_civil_fk4 FOREIGN KEY (id_estado_aps) REFERENCES tipo_estado_vinculo(id_tipo_estado_vinculo) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_estado_civil DROP CONSTRAINT IF EXISTS persona_estado_civil_fk5;
ALTER TABLE persona_estado_civil ADD CONSTRAINT persona_estado_civil_fk5 FOREIGN KEY (id_estado_tregistro) REFERENCES tipo_estado_vinculo(id_tipo_estado_vinculo) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_estado_civil DROP CONSTRAINT IF EXISTS persona_estado_civil_fk6;
ALTER TABLE persona_estado_civil ADD CONSTRAINT persona_estado_civil_fk6 FOREIGN KEY (id_user_reg) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_formacion_basica DROP CONSTRAINT IF EXISTS persona_formacion_basica_fk1;
ALTER TABLE persona_formacion_basica ADD CONSTRAINT persona_formacion_basica_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_formacion_basica DROP CONSTRAINT IF EXISTS persona_formacion_basica_fk2;
ALTER TABLE persona_formacion_basica ADD CONSTRAINT persona_formacion_basica_fk2 FOREIGN KEY (id_situacion_educativa) REFERENCES situacion_educativa(id_situacion_educativo) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_formacion_capacitacion DROP CONSTRAINT IF EXISTS persona_formacion_capacit_fk1;
ALTER TABLE persona_formacion_capacitacion ADD CONSTRAINT persona_formacion_capacit_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_imagen DROP CONSTRAINT IF EXISTS persona_imagen_persona_fk;
ALTER TABLE persona_imagen ADD CONSTRAINT persona_imagen_persona_fk FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_informacion_academica DROP CONSTRAINT IF EXISTS persona_informacion_acade_fk1;
ALTER TABLE persona_informacion_academica ADD CONSTRAINT persona_informacion_acade_fk1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_informacion_academica DROP CONSTRAINT IF EXISTS persona_informacion_acade_fk11;
ALTER TABLE persona_informacion_academica ADD CONSTRAINT persona_informacion_acade_fk11 FOREIGN KEY (id_regimen_perf) REFERENCES regimen_institucion(id_regimen_institucion) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_informacion_academica DROP CONSTRAINT IF EXISTS persona_informacion_acade_fk2;
ALTER TABLE persona_informacion_academica ADD CONSTRAINT persona_informacion_acade_fk2 FOREIGN KEY (id_situacion_educativa) REFERENCES situacion_educativa(id_situacion_educativo) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_informacion_academica DROP CONSTRAINT IF EXISTS persona_informacion_acade_fk3;
ALTER TABLE persona_informacion_academica ADD CONSTRAINT persona_informacion_acade_fk3 FOREIGN KEY (id_carrera) REFERENCES carrera_profesional(id_carrera_profesional) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_informacion_academica DROP CONSTRAINT IF EXISTS persona_informacion_acade_fk4;
ALTER TABLE persona_informacion_academica ADD CONSTRAINT persona_informacion_acade_fk4 FOREIGN KEY (id_pais_procedencia) REFERENCES tipo_pais(id_tipopais) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_informacion_academica DROP CONSTRAINT IF EXISTS persona_informacion_acade_fk5;
ALTER TABLE persona_informacion_academica ADD CONSTRAINT persona_informacion_acade_fk5 FOREIGN KEY (id_institucion) REFERENCES instituciones(id_instituicion) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_informacion_academica DROP CONSTRAINT IF EXISTS persona_informacion_acade_fk6;
ALTER TABLE persona_informacion_academica ADD CONSTRAINT persona_informacion_acade_fk6 FOREIGN KEY (id_regimen) REFERENCES regimen_institucion(id_regimen_institucion) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_informacion_academica DROP CONSTRAINT IF EXISTS persona_informacion_acade_fk7;
ALTER TABLE persona_informacion_academica ADD CONSTRAINT persona_informacion_acade_fk7 FOREIGN KEY (id_tipo_inst) REFERENCES tipo_institucion(id_tipo_institucion) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_informacion_academica DROP CONSTRAINT IF EXISTS persona_informacion_acade_fk8;
ALTER TABLE persona_informacion_academica ADD CONSTRAINT persona_informacion_acade_fk8 FOREIGN KEY (id_pais_procedencia_perf) REFERENCES tipo_pais(id_tipopais) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_informacion_academica DROP CONSTRAINT IF EXISTS persona_informacion_acade_fk9;
ALTER TABLE persona_informacion_academica ADD CONSTRAINT persona_informacion_acade_fk9 FOREIGN KEY (id_institucion_perf) REFERENCES instituciones(id_instituicion) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_info_contribuyente DROP CONSTRAINT IF EXISTS fk_persona_info_contribuyente;
ALTER TABLE persona_info_contribuyente ADD CONSTRAINT fk_persona_info_contribuyente FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_juridica DROP CONSTRAINT IF EXISTS persona_actividad_fk;
ALTER TABLE persona_juridica ADD CONSTRAINT persona_actividad_fk FOREIGN KEY (id_tipoactividadeconomica) REFERENCES tipo_actividad_economica(id_tipoactividadeconomica) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_juridica DROP CONSTRAINT IF EXISTS persona_condicion_fk;
ALTER TABLE persona_juridica ADD CONSTRAINT persona_condicion_fk FOREIGN KEY (id_tipocondicion) REFERENCES tipo_condicion(id_tipocondicion) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_juridica DROP CONSTRAINT IF EXISTS persona_contribuyente_fk;
ALTER TABLE persona_juridica ADD CONSTRAINT persona_contribuyente_fk FOREIGN KEY (id_tipocontribuyente) REFERENCES tipo_contribuyente(id_tipocontribuyente) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_juridica DROP CONSTRAINT IF EXISTS persona_estado_fk;
ALTER TABLE persona_juridica ADD CONSTRAINT persona_estado_fk FOREIGN KEY (id_tipoestado) REFERENCES tipo_estado(id_tipoestado) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_juridica DROP CONSTRAINT IF EXISTS persona_fkv1;
ALTER TABLE persona_juridica ADD CONSTRAINT persona_fkv1 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_juridica_contacto DROP CONSTRAINT IF EXISTS persona_juridica_cont_fk;
ALTER TABLE persona_juridica_contacto ADD CONSTRAINT persona_juridica_cont_fk FOREIGN KEY (id_ruc) REFERENCES persona_juridica(id_ruc) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_natural DROP CONSTRAINT IF EXISTS persona_autoridad_iglesia_fk;
ALTER TABLE persona_natural ADD CONSTRAINT persona_autoridad_iglesia_fk FOREIGN KEY (id_tipoautoridadiglesia) REFERENCES tipo_autoridad_iglesia(id_tipoautoridadiglesia) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural DROP CONSTRAINT IF EXISTS persona_discapacidad_fk;
ALTER TABLE persona_natural ADD CONSTRAINT persona_discapacidad_fk FOREIGN KEY (id_tipo_discapacidad) REFERENCES tipo_discapacidad(id_tipo_discapacidad) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural DROP CONSTRAINT IF EXISTS persona_estado_civil_fk;
ALTER TABLE persona_natural ADD CONSTRAINT persona_estado_civil_fk FOREIGN KEY (id_tipoestadocivil) REFERENCES tipo_estado_civil(id_tipoestadocivil) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural DROP CONSTRAINT IF EXISTS persona_fk;
ALTER TABLE persona_natural ADD CONSTRAINT persona_fk FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural DROP CONSTRAINT IF EXISTS persona_pais_fk;
ALTER TABLE persona_natural ADD CONSTRAINT persona_pais_fk FOREIGN KEY (id_tipopais) REFERENCES tipo_pais(id_tipopais) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural DROP CONSTRAINT IF EXISTS persona_religion_fk;
ALTER TABLE persona_natural ADD CONSTRAINT persona_religion_fk FOREIGN KEY (id_tiporeligion) REFERENCES tipo_religion(id_tiporeligion) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural DROP CONSTRAINT IF EXISTS persona_sangre_fk;
ALTER TABLE persona_natural ADD CONSTRAINT persona_sangre_fk FOREIGN KEY (id_tiposangre) REFERENCES tipo_sangre(id_tiposangre) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural DROP CONSTRAINT IF EXISTS persona_sexo_fk;
ALTER TABLE persona_natural ADD CONSTRAINT persona_sexo_fk FOREIGN KEY (sexo) REFERENCES tipo_sexo(sexo) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural DROP CONSTRAINT IF EXISTS persona_situacion_educativo_fk;
ALTER TABLE persona_natural ADD CONSTRAINT persona_situacion_educativo_fk FOREIGN KEY (id_situacion_educativo) REFERENCES situacion_educativa(id_situacion_educativo) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural DROP CONSTRAINT IF EXISTS persona_ubigueo_fk;
ALTER TABLE persona_natural ADD CONSTRAINT persona_ubigueo_fk FOREIGN KEY (id_ubigeo) REFERENCES ubigueo(id_ubigeo) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural DROP CONSTRAINT IF EXISTS sys_c0090031;
ALTER TABLE persona_natural ADD CONSTRAINT sys_c0090031 FOREIGN KEY (id_tipoactividadeconomica) REFERENCES tipo_actividad_economica(id_tipoactividadeconomica) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural DROP CONSTRAINT IF EXISTS tipo_documento_fk;
ALTER TABLE persona_natural ADD CONSTRAINT tipo_documento_fk FOREIGN KEY (id_tipodocumento) REFERENCES tipo_documento(id_tipodocumento) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural DROP CONSTRAINT IF EXISTS tipo_tratamiento_fk;
ALTER TABLE persona_natural ADD CONSTRAINT tipo_tratamiento_fk FOREIGN KEY (id_tipotratamiento) REFERENCES tipo_tratamiento(id_tipotratamiento) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_natural_adviser DROP CONSTRAINT IF EXISTS persona_natural_adviser_fk1;
ALTER TABLE persona_natural_adviser ADD CONSTRAINT persona_natural_adviser_fk1 FOREIGN KEY (id_persona) REFERENCES persona_natural(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_natural_alumno DROP CONSTRAINT IF EXISTS persona_natural_alumno_fk;
ALTER TABLE persona_natural_alumno ADD CONSTRAINT persona_natural_alumno_fk FOREIGN KEY (id_persona) REFERENCES persona_natural(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_natural_docente DROP CONSTRAINT IF EXISTS persona_natural_docente_fk;
ALTER TABLE persona_natural_docente ADD CONSTRAINT persona_natural_docente_fk FOREIGN KEY (id_persona) REFERENCES persona_natural(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_natural_egresado DROP CONSTRAINT IF EXISTS persona_natural_egresado_fk1;
ALTER TABLE persona_natural_egresado ADD CONSTRAINT persona_natural_egresado_fk1 FOREIGN KEY (id_persona) REFERENCES persona_natural(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_natural_experto DROP CONSTRAINT IF EXISTS persona_natural_experto_fk1;
ALTER TABLE persona_natural_experto ADD CONSTRAINT persona_natural_experto_fk1 FOREIGN KEY (id_persona) REFERENCES persona_natural(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_natural_firma DROP CONSTRAINT IF EXISTS persona_natural_firma_fk;
ALTER TABLE persona_natural_firma ADD CONSTRAINT persona_natural_firma_fk FOREIGN KEY (id_persona) REFERENCES persona_natural(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_natural_idioma DROP CONSTRAINT IF EXISTS persona_idioma_fk;
ALTER TABLE persona_natural_idioma ADD CONSTRAINT persona_idioma_fk FOREIGN KEY (id_persona) REFERENCES persona_natural(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural_idioma DROP CONSTRAINT IF EXISTS tipo_idioma_fk;
ALTER TABLE persona_natural_idioma ADD CONSTRAINT tipo_idioma_fk FOREIGN KEY (id_tipoidioma) REFERENCES tipo_idioma(id_tipoidioma) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_natural_parentesco DROP CONSTRAINT IF EXISTS pers_nat_parent_tipo_paren_fk;
ALTER TABLE persona_natural_parentesco ADD CONSTRAINT pers_nat_parent_tipo_paren_fk FOREIGN KEY (id_tipoparentesco) REFERENCES tipo_parentesco(id_tipoparentesco) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_natural_redsocial DROP CONSTRAINT IF EXISTS persona_natural_redsocial_fk1;
ALTER TABLE persona_natural_redsocial ADD CONSTRAINT persona_natural_redsocial_fk1 FOREIGN KEY (id_persona) REFERENCES persona_natural(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural_redsocial DROP CONSTRAINT IF EXISTS persona_natural_redsocial_fk2;
ALTER TABLE persona_natural_redsocial ADD CONSTRAINT persona_natural_redsocial_fk2 FOREIGN KEY (id_tipo_redsocial) REFERENCES tipo_redsocial(id_tipo_redsocial) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_natural_resp_fin DROP CONSTRAINT IF EXISTS persona_natural_doc_fk;
ALTER TABLE persona_natural_resp_fin ADD CONSTRAINT persona_natural_doc_fk FOREIGN KEY (id_persona) REFERENCES persona_natural(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_natural_trabajador DROP CONSTRAINT IF EXISTS persona_natural_trabajador_fk;
ALTER TABLE persona_natural_trabajador ADD CONSTRAINT persona_natural_trabajador_fk FOREIGN KEY (id_persona) REFERENCES persona_natural(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural_trabajador DROP CONSTRAINT IF EXISTS persona_natural_trabajado_fk1;
ALTER TABLE persona_natural_trabajador ADD CONSTRAINT persona_natural_trabajado_fk1 FOREIGN KEY (id_tipo_comision_pens) REFERENCES enoc.plla_tipo_comision_pens(id_tipo_comision_pens) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural_trabajador DROP CONSTRAINT IF EXISTS persona_natural_trabajado_fk2;
ALTER TABLE persona_natural_trabajador ADD CONSTRAINT persona_natural_trabajado_fk2 FOREIGN KEY (id_regimen_pensionaria) REFERENCES enoc.plla_regimen_pensionaria(id_regimen_pensionaria) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_natural_trabajador DROP CONSTRAINT IF EXISTS persona_natural_trabajado_fk7;
ALTER TABLE persona_natural_trabajador ADD CONSTRAINT persona_natural_trabajado_fk7 FOREIGN KEY (id_tipo_discapacidad) REFERENCES tipo_discapacidad(id_tipo_discapacidad) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_telefono DROP CONSTRAINT IF EXISTS persona_telefono_fk;
ALTER TABLE persona_telefono ADD CONSTRAINT persona_telefono_fk FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_telefono DROP CONSTRAINT IF EXISTS tipo_telefono_fk;
ALTER TABLE persona_telefono ADD CONSTRAINT tipo_telefono_fk FOREIGN KEY (id_tipotelefono) REFERENCES tipo_telefono(id_tipotelefono) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE persona_virtual DROP CONSTRAINT IF EXISTS persona_tipo_virtual_fk;
ALTER TABLE persona_virtual ADD CONSTRAINT persona_tipo_virtual_fk FOREIGN KEY (id_tipovirtual) REFERENCES tipo_virtual(id_tipovirtual) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE persona_virtual DROP CONSTRAINT IF EXISTS persona_virtual_fk;
ALTER TABLE persona_virtual ADD CONSTRAINT persona_virtual_fk FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE tipo_documento DROP CONSTRAINT IF EXISTS fk_tipo_pais_tipo_documento;
ALTER TABLE tipo_documento ADD CONSTRAINT fk_tipo_pais_tipo_documento FOREIGN KEY (id_tipopais) REFERENCES tipo_pais(id_tipopais) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE tipo_tiempo_trabajo DROP CONSTRAINT IF EXISTS tipo_tiempo_trabajo_fk1;
ALTER TABLE tipo_tiempo_trabajo ADD CONSTRAINT tipo_tiempo_trabajo_fk1 FOREIGN KEY (id_regimen_dedicacion) REFERENCES enoc.plla_regimen_dedicacion(id_regimen_dedicacion) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE trabajador DROP CONSTRAINT IF EXISTS trabajador_fk;
ALTER TABLE trabajador ADD CONSTRAINT trabajador_fk FOREIGN KEY (id_persona) REFERENCES persona_natural_trabajador(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE trabajador DROP CONSTRAINT IF EXISTS trabajador_fk1;
ALTER TABLE trabajador ADD CONSTRAINT trabajador_fk1 FOREIGN KEY (id_situacion_trabajador) REFERENCES situacion_trabajador(id_situacion_trabajador) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE trabajador DROP CONSTRAINT IF EXISTS trabajador_fk10;
ALTER TABLE trabajador ADD CONSTRAINT trabajador_fk10 FOREIGN KEY (id_tipo_tiempo_trabajo) REFERENCES tipo_tiempo_trabajo(id_tipo_tiempo_trabajo) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE trabajador DROP CONSTRAINT IF EXISTS trabajador_fk11;
ALTER TABLE trabajador ADD CONSTRAINT trabajador_fk11 FOREIGN KEY (id_grupo_planilla) REFERENCES enoc.plla_grupo_planilla(id_grupo_planilla) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE trabajador DROP CONSTRAINT IF EXISTS trabajador_fk12;
ALTER TABLE trabajador ADD CONSTRAINT trabajador_fk12 FOREIGN KEY (id_tipo_horario) REFERENCES enoc.plla_tipo_horario(id_tipo_horario) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE trabajador DROP CONSTRAINT IF EXISTS trabajador_fk14;
ALTER TABLE trabajador ADD CONSTRAINT trabajador_fk14 FOREIGN KEY (id_tipo_ocupacion) REFERENCES tipo_ocupacion(id_tipo_ocupacion) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE trabajador DROP CONSTRAINT IF EXISTS trabajador_fk15;
ALTER TABLE trabajador ADD CONSTRAINT trabajador_fk15 FOREIGN KEY (id_contrato) REFERENCES enoc.plla_contrato(id_contrato) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE trabajador DROP CONSTRAINT IF EXISTS trabajador_fk3;
ALTER TABLE trabajador ADD CONSTRAINT trabajador_fk3 FOREIGN KEY (id_condicion_laboral) REFERENCES condicion_laboral(id_condicion_laboral) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE trabajador DROP CONSTRAINT IF EXISTS trabajador_fk4;
ALTER TABLE trabajador ADD CONSTRAINT trabajador_fk4 FOREIGN KEY (id_tipo_control_personal) REFERENCES tipo_control_personal(id_tipo_control_personal) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE trabajador DROP CONSTRAINT IF EXISTS trabajador_fk5;
ALTER TABLE trabajador ADD CONSTRAINT trabajador_fk5 FOREIGN KEY (id_tipo_status) REFERENCES tipo_status(id_tipo_status) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE trabajador DROP CONSTRAINT IF EXISTS trabajador_fk6;
ALTER TABLE trabajador ADD CONSTRAINT trabajador_fk6 FOREIGN KEY (id_periodo_remu) REFERENCES enoc.plla_periodo_remu(id_periodo_remu) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE trabajador DROP CONSTRAINT IF EXISTS trabajador_fk7;
ALTER TABLE trabajador ADD CONSTRAINT trabajador_fk7 FOREIGN KEY (id_tipo_contrato) REFERENCES enoc.plla_tipo_contrato(id_tipo_contrato) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE trabajador DROP CONSTRAINT IF EXISTS trabajador_fk9;
ALTER TABLE trabajador ADD CONSTRAINT trabajador_fk9 FOREIGN KEY (id_puesto) REFERENCES enoc.plla_puesto(id_puesto) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE trabajador_area DROP CONSTRAINT IF EXISTS trabajador_area_fk2;
ALTER TABLE trabajador_area ADD CONSTRAINT trabajador_area_fk2 FOREIGN KEY (id_trabajador) REFERENCES trabajador(id_trabajador) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE trabajador_ccosto DROP CONSTRAINT IF EXISTS trabajador_ccosto_fk2;
ALTER TABLE trabajador_ccosto ADD CONSTRAINT trabajador_ccosto_fk2 FOREIGN KEY (id_trabajador) REFERENCES trabajador(id_trabajador) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE trabajador_puesto DROP CONSTRAINT IF EXISTS trabajador_puesto_fk1;
ALTER TABLE trabajador_puesto ADD CONSTRAINT trabajador_puesto_fk1 FOREIGN KEY (id_puesto) REFERENCES enoc.plla_puesto(id_puesto) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE trabajador_puesto DROP CONSTRAINT IF EXISTS trabajador_puesto_fk2;
ALTER TABLE trabajador_puesto ADD CONSTRAINT trabajador_puesto_fk2 FOREIGN KEY (id_trabajador) REFERENCES trabajador(id_trabajador) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE trabajador_sit_esp DROP CONSTRAINT IF EXISTS trabajador_sit_esp_fk1;
ALTER TABLE trabajador_sit_esp ADD CONSTRAINT trabajador_sit_esp_fk1 FOREIGN KEY (id_trabajador) REFERENCES trabajador(id_trabajador) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE trabajador_sit_esp DROP CONSTRAINT IF EXISTS trabajador_sit_esp_fk2;
ALTER TABLE trabajador_sit_esp ADD CONSTRAINT trabajador_sit_esp_fk2 FOREIGN KEY (id_situacion_especial) REFERENCES situacion_especial(id_situacion_especial) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE ubigueo DROP CONSTRAINT IF EXISTS fk_tipo_pais;
ALTER TABLE ubigueo ADD CONSTRAINT fk_tipo_pais FOREIGN KEY (id_tipopais) REFERENCES tipo_pais(id_tipopais) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE verificacion DROP CONSTRAINT IF EXISTS verificacion_fk1;
ALTER TABLE verificacion ADD CONSTRAINT verificacion_fk1 FOREIGN KEY (id_persona) REFERENCES persona_natural(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE vinculo_familiar DROP CONSTRAINT IF EXISTS vinculo_familiar_fk1;
ALTER TABLE vinculo_familiar ADD CONSTRAINT vinculo_familiar_fk1 FOREIGN KEY (id_persona) REFERENCES persona_natural_trabajador(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE vinculo_familiar DROP CONSTRAINT IF EXISTS vinculo_familiar_fk2;
ALTER TABLE vinculo_familiar ADD CONSTRAINT vinculo_familiar_fk2 FOREIGN KEY (id_tipo_vinculo_familiar) REFERENCES tipo_vinculo_familiar(id_tipo_vinculo_familiar) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE vinculo_familiar DROP CONSTRAINT IF EXISTS vinculo_familiar_fk3;
ALTER TABLE vinculo_familiar ADD CONSTRAINT vinculo_familiar_fk3 FOREIGN KEY (id_tipo_doc_sust_vf) REFERENCES tipo_doc_sust_vf(id_tipo_doc_sust_vf) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE vinculo_familiar DROP CONSTRAINT IF EXISTS vinculo_familiar_fk4;
ALTER TABLE vinculo_familiar ADD CONSTRAINT vinculo_familiar_fk4 FOREIGN KEY (id_tipo_estado_vinculo) REFERENCES tipo_estado_vinculo(id_tipo_estado_vinculo) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE vinculo_familiar DROP CONSTRAINT IF EXISTS vinculo_familiar_fk5;
ALTER TABLE vinculo_familiar ADD CONSTRAINT vinculo_familiar_fk5 FOREIGN KEY (id_persona) REFERENCES persona(id_persona) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE vinculo_familiar DROP CONSTRAINT IF EXISTS vinculo_familiar_fk6;
ALTER TABLE vinculo_familiar ADD CONSTRAINT vinculo_familiar_fk6 FOREIGN KEY (id_estado_tregistro) REFERENCES tipo_estado_vinculo(id_tipo_estado_vinculo) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE vinculo_familiar DROP CONSTRAINT IF EXISTS vinculo_familiar_fk7;
ALTER TABLE vinculo_familiar ADD CONSTRAINT vinculo_familiar_fk7 FOREIGN KEY (id_tipo_discapacidad) REFERENCES tipo_discapacidad(id_tipo_discapacidad) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE vinculo_familiar_superior DROP CONSTRAINT IF EXISTS vinculo_familiar_superior_fk1;
ALTER TABLE vinculo_familiar_superior ADD CONSTRAINT vinculo_familiar_superior_fk1 FOREIGN KEY (id_vinculo_familiar) REFERENCES vinculo_familiar(id_vinculo_familiar) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

ALTER TABLE vinculo_familiar_superior DROP CONSTRAINT IF EXISTS vinculo_familiar_superior_fk2;
ALTER TABLE vinculo_familiar_superior ADD CONSTRAINT vinculo_familiar_superior_fk2 FOREIGN KEY (id_tipo_estado_vinculo) REFERENCES tipo_estado_vinculo(id_tipo_estado_vinculo) ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
